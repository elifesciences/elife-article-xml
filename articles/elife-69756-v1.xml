<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article PUBLIC "-//NLM//DTD JATS (Z39.96) Journal Archiving and Interchange DTD v1.2 20190208//EN"  "JATS-archivearticle1.dtd"><article article-type="research-article" dtd-version="1.2" xmlns:ali="http://www.niso.org/schemas/ali/1.0/" xmlns:mml="http://www.w3.org/1998/Math/MathML" xmlns:xlink="http://www.w3.org/1999/xlink"><front><journal-meta><journal-id journal-id-type="nlm-ta">elife</journal-id><journal-id journal-id-type="publisher-id">eLife</journal-id><journal-title-group><journal-title>eLife</journal-title></journal-title-group><issn pub-type="epub" publication-format="electronic">2050-084X</issn><publisher><publisher-name>eLife Sciences Publications, Ltd</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="publisher-id">69756</article-id><article-id pub-id-type="doi">10.7554/eLife.69756</article-id><article-categories><subj-group subj-group-type="display-channel"><subject>Research Article</subject></subj-group><subj-group subj-group-type="heading"><subject>Ecology</subject></subj-group><subj-group subj-group-type="heading"><subject>Evolutionary Biology</subject></subj-group></article-categories><title-group><article-title>The evolution of strategy in bacterial warfare via the regulation of bacteriocins and antibiotics</article-title></title-group><contrib-group><contrib contrib-type="author" id="author-237096"><name><surname>Niehus</surname><given-names>Rene</given-names></name><contrib-id authenticated="true" contrib-id-type="orcid">https://orcid.org/0000-0002-6751-4124</contrib-id><xref ref-type="aff" rid="aff1">1</xref><xref ref-type="other" rid="fund1"/><xref ref-type="fn" rid="con1"/><xref ref-type="fn" rid="conf1"/></contrib><contrib contrib-type="author" id="author-202309"><name><surname>Oliveira</surname><given-names>Nuno M</given-names></name><xref ref-type="aff" rid="aff2">2</xref><xref ref-type="aff" rid="aff3">3</xref><xref ref-type="other" rid="fund5"/><xref ref-type="other" rid="fund6"/><xref ref-type="fn" rid="con2"/><xref ref-type="fn" rid="conf1"/></contrib><contrib contrib-type="author" id="author-237097"><name><surname>Li</surname><given-names>Aming</given-names></name><xref ref-type="aff" rid="aff4">4</xref><xref ref-type="aff" rid="aff5">5</xref><xref ref-type="other" rid="fund7"/><xref ref-type="other" rid="fund8"/><xref ref-type="fn" rid="con3"/><xref ref-type="fn" rid="conf1"/></contrib><contrib contrib-type="author" id="author-53859"><name><surname>Fletcher</surname><given-names>Alexander G</given-names></name><contrib-id authenticated="true" contrib-id-type="orcid">http://orcid.org/0000-0003-0525-4336</contrib-id><xref ref-type="aff" rid="aff6">6</xref><xref ref-type="aff" rid="aff7">7</xref><xref ref-type="fn" rid="con4"/><xref ref-type="fn" rid="conf1"/></contrib><contrib contrib-type="author" corresp="yes" id="author-231399"><name><surname>Foster</surname><given-names>Kevin R</given-names></name><contrib-id authenticated="true" contrib-id-type="orcid">https://orcid.org/0000-0003-4687-6633</contrib-id><email>kevin.foster@zoo.ox.ac.uk</email><xref ref-type="aff" rid="aff8">8</xref><xref ref-type="aff" rid="aff9">9</xref><xref ref-type="other" rid="fund3"/><xref ref-type="other" rid="fund4"/><xref ref-type="fn" rid="con5"/><xref ref-type="fn" rid="conf1"/></contrib><aff id="aff1"><label>1</label><institution>Center for Communicable Disease Dynamics, Harvard TH Chan School of Public Health, Harvard University</institution><addr-line><named-content content-type="city">Boston</named-content></addr-line><country>United States</country></aff><aff id="aff2"><label>2</label><institution>Department of Applied Mathematics and Theoretical Physics, University of Cambridge</institution><addr-line><named-content content-type="city">Cambridge</named-content></addr-line><country>United Kingdom</country></aff><aff id="aff3"><label>3</label><institution>Department of Veterinary Medicine, University of Cambridge</institution><addr-line><named-content content-type="city">Cambridge</named-content></addr-line><country>United Kingdom</country></aff><aff id="aff4"><label>4</label><institution>Center for Systems and Control, College of Engineering, Peking University</institution><addr-line><named-content content-type="city">Beijing</named-content></addr-line><country>China</country></aff><aff id="aff5"><label>5</label><institution>Institue for Artificial Intelligence, Peking University</institution><addr-line><named-content content-type="city">Beijing</named-content></addr-line><country>China</country></aff><aff id="aff6"><label>6</label><institution>School of Mathematics and Statistics, University of Sheffield</institution><addr-line><named-content content-type="city">Sheffield</named-content></addr-line><country>United Kingdom</country></aff><aff id="aff7"><label>7</label><institution>The Bateson Centre, University of Sheffield</institution><addr-line><named-content content-type="city">Sheffield</named-content></addr-line><country>United Kingdom</country></aff><aff id="aff8"><label>8</label><institution>Department of Zoology, University of Oxford</institution><addr-line><named-content content-type="city">Oxford</named-content></addr-line><country>United Kingdom</country></aff><aff id="aff9"><label>9</label><institution>Department of Biochemistry, University of Oxford</institution><addr-line><named-content content-type="city">Oxford</named-content></addr-line><country>United Kingdom</country></aff></contrib-group><contrib-group content-type="section"><contrib contrib-type="editor"><name><surname>Bitbol</surname><given-names>Anne-Florence</given-names></name><role>Reviewing Editor</role><aff><institution>Ecole Polytechnique Federale de Lausanne (EPFL)</institution><country>Switzerland</country></aff></contrib><contrib contrib-type="senior_editor"><name><surname>Walczak</surname><given-names>Aleksandra M</given-names></name><role>Senior Editor</role><aff><institution>École Normale Supérieure</institution><country>France</country></aff></contrib></contrib-group><pub-date date-type="publication" publication-format="electronic"><day>07</day><month>09</month><year>2021</year></pub-date><pub-date pub-type="collection"><year>2021</year></pub-date><volume>10</volume><elocation-id>e69756</elocation-id><history><date date-type="received" iso-8601-date="2021-04-25"><day>25</day><month>04</month><year>2021</year></date><date date-type="accepted" iso-8601-date="2021-08-01"><day>01</day><month>08</month><year>2021</year></date></history><permissions><copyright-statement>© 2021, Niehus et al</copyright-statement><copyright-year>2021</copyright-year><copyright-holder>Niehus et al</copyright-holder><ali:free_to_read/><license xlink:href="http://creativecommons.org/licenses/by/4.0/"><ali:license_ref>http://creativecommons.org/licenses/by/4.0/</ali:license_ref><license-p>This article is distributed under the terms of the <ext-link ext-link-type="uri" xlink:href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution License</ext-link>, which permits unrestricted use and redistribution provided that the original author and source are credited.</license-p></license></permissions><self-uri content-type="pdf" xlink:href="elife-69756-v1.pdf"/><abstract><p>Bacteria inhibit and kill one another with a diverse array of compounds, including bacteriocins and antibiotics. These attacks are highly regulated, but we lack a clear understanding of the evolutionary logic underlying this regulation. Here, we combine a detailed dynamic model of bacterial competition with evolutionary game theory to study the rules of bacterial warfare. We model a large range of possible combat strategies based upon the molecular biology of bacterial regulatory networks. Our model predicts that regulated strategies, which use quorum sensing or stress responses to regulate toxin production, will readily evolve as they outcompete constitutive toxin production. Amongst regulated strategies, we show that a particularly successful strategy is to upregulate toxin production in response to an incoming competitor’s toxin, which can be achieved via stress responses that detect cell damage (competition sensing). Mirroring classical game theory, our work suggests a fundamental advantage to reciprocation. However, in contrast to classical results, we argue that reciprocation in bacteria serves not to promote peaceful outcomes but to enable efficient and effective attacks.</p></abstract><kwd-group kwd-group-type="author-keywords"><kwd>bacterial competition</kwd><kwd>antibiotics</kwd><kwd>toxin regulation</kwd><kwd>game theory</kwd><kwd>eco-evolutionary model</kwd><kwd>quorum sensing</kwd><kwd>competition sensing</kwd></kwd-group><kwd-group kwd-group-type="research-organism"><title>Research organism</title><kwd>None</kwd></kwd-group><funding-group><award-group id="fund1"><funding-source><institution-wrap><institution-id institution-id-type="FundRef">http://dx.doi.org/10.13039/501100000266</institution-id><institution>EPSRC</institution></institution-wrap></funding-source><award-id>EP/G50029/1</award-id><principal-award-recipient><name><surname>Niehus</surname><given-names>Rene</given-names></name></principal-award-recipient></award-group><award-group id="fund3"><funding-source><institution-wrap><institution-id institution-id-type="FundRef">http://dx.doi.org/10.13039/501100000781</institution-id><institution>European Research Council</institution></institution-wrap></funding-source><award-id>787932</award-id><principal-award-recipient><name><surname>Foster</surname><given-names>Kevin R</given-names></name></principal-award-recipient></award-group><award-group id="fund4"><funding-source><institution-wrap><institution-id institution-id-type="FundRef">http://dx.doi.org/10.13039/100004440</institution-id><institution>Wellcome Trust</institution></institution-wrap></funding-source><award-id>209397/Z/17/Z</award-id><principal-award-recipient><name><surname>Foster</surname><given-names>Kevin R</given-names></name></principal-award-recipient></award-group><award-group id="fund5"><funding-source><institution-wrap><institution-id institution-id-type="FundRef">http://dx.doi.org/10.13039/100004440</institution-id><institution>Wellcome Trust</institution></institution-wrap></funding-source><award-id>Interdisciplinary Fellowship</award-id><principal-award-recipient><name><surname>Oliveira</surname><given-names>Nuno M</given-names></name></principal-award-recipient></award-group><award-group id="fund6"><funding-source><institution-wrap><institution-id institution-id-type="FundRef">http://dx.doi.org/10.13039/501100000268</institution-id><institution>Biotechnology and Biological Sciences Research Council</institution></institution-wrap></funding-source><award-id>BB/T009098/1</award-id><principal-award-recipient><name><surname>Oliveira</surname><given-names>Nuno M</given-names></name></principal-award-recipient></award-group><award-group id="fund7"><funding-source><institution-wrap><institution>PKU-Baidu</institution></institution-wrap></funding-source><award-id>2020BD017</award-id><principal-award-recipient><name><surname>Li</surname><given-names>Aming</given-names></name></principal-award-recipient></award-group><award-group id="fund8"><funding-source><institution-wrap><institution>College of Engineering, Peking University</institution></institution-wrap></funding-source><award-id>Start-up funding</award-id><principal-award-recipient><name><surname>Li</surname><given-names>Aming</given-names></name></principal-award-recipient></award-group><funding-statement>The funders had no role in study design, data collection and interpretation, or the decision to submit the work for publication.</funding-statement></funding-group><custom-meta-group><custom-meta specific-use="meta-only"><meta-name>Author impact statement</meta-name><meta-value>Evolutionary game theory identifies reciprocation as a key winning strategy for warring bacteria.</meta-value></custom-meta></custom-meta-group></article-meta></front><body><sec id="s1" sec-type="intro"><title>Introduction</title><p>Bacteria commonly live in dense and diverse communities where competition for space and nutrients can be intense (<xref ref-type="bibr" rid="bib61">Kim et al., 2014</xref>; <xref ref-type="bibr" rid="bib50">Hibbing et al., 2010</xref>). As a response to such ecology, bacteria have evolved a wide range of competitive traits (<xref ref-type="bibr" rid="bib44">Granato et al., 2019</xref>), including contact-dependent inhibition (<xref ref-type="bibr" rid="bib38">Ghequire and De Mot, 2014</xref>; <xref ref-type="bibr" rid="bib46">Hayes et al., 2010</xref>; <xref ref-type="bibr" rid="bib4">Aoki et al., 2010</xref>), the type VI secretion system (<xref ref-type="bibr" rid="bib84">Miyata et al., 2013</xref>; <xref ref-type="bibr" rid="bib101">Russell et al., 2014</xref>; <xref ref-type="bibr" rid="bib51">Ho et al., 2014</xref>; <xref ref-type="bibr" rid="bib54">Hood et al., 2010</xref>), narrow-spectrum bacteriocins, and broad-spectrum antibiotics (<xref ref-type="bibr" rid="bib10">Bérdy, 2005</xref>; <xref ref-type="bibr" rid="bib100">Riley and Wertz, 2002</xref>; <xref ref-type="bibr" rid="bib20">Chao and Levin, 1981</xref>), which can kill or inhibit other strains. These mechanisms are extremely widespread. Bacteriocidal toxins are found in almost all major bacterial lineages (<xref ref-type="bibr" rid="bib100">Riley and Wertz, 2002</xref>; <xref ref-type="bibr" rid="bib44">Granato et al., 2019</xref>) and single species commonly make use of multiple toxins and diverse means of attack (<xref ref-type="bibr" rid="bib44">Granato et al., 2019</xref>; <xref ref-type="bibr" rid="bib9">Be'er et al., 2010</xref>; <xref ref-type="bibr" rid="bib118">Zhang et al., 2012</xref>; <xref ref-type="bibr" rid="bib108">Steele et al., 2017</xref>; <xref ref-type="bibr" rid="bib57">Jamet and Nassif, 2015</xref>). This toxin-based warfare is also important for bacterial ecology and evolution, with evidence that toxin production can prevent competing strains from invading a niche (<xref ref-type="bibr" rid="bib103">Sassone-Corsi et al., 2016</xref>; <xref ref-type="bibr" rid="bib89">Nakatsuji et al., 2017</xref>; <xref ref-type="bibr" rid="bib119">Zipperer et al., 2016</xref>; <xref ref-type="bibr" rid="bib97">O’Sullivan et al., 2019</xref>), kill off coexisting strains (<xref ref-type="bibr" rid="bib44">Granato et al., 2019</xref>; <xref ref-type="bibr" rid="bib73">Majeed et al., 2011</xref>; <xref ref-type="bibr" rid="bib106">Speare et al., 2018</xref>; <xref ref-type="bibr" rid="bib72">Ma et al., 2014</xref>), or help strains to invade new niches (<xref ref-type="bibr" rid="bib63">Kommineni et al., 2015</xref>; <xref ref-type="bibr" rid="bib115">Wiener, 1996</xref>; <xref ref-type="bibr" rid="bib102">Sana et al., 2016</xref>).</p><p>The production and regulation of bacterial toxins have been studied for decades because of their potential as clinical antibiotics (<xref ref-type="bibr" rid="bib69">Lewis, 2013</xref>; <xref ref-type="bibr" rid="bib104">Slattery et al., 2001</xref>). This work has revealed that toxin production is often tightly regulated (<xref ref-type="bibr" rid="bib84">Miyata et al., 2013</xref>; <xref ref-type="bibr" rid="bib3">Anderson et al., 2012</xref>; <xref ref-type="bibr" rid="bib37">Ghazaryan et al., 2014</xref>; <xref ref-type="bibr" rid="bib11">Bernard et al., 2010</xref>). Indeed, it is thought that there are many new antibiotics that remain undetected because they are only activated under certain conditions (<xref ref-type="bibr" rid="bib74">Maldonado et al., 2003</xref>; <xref ref-type="bibr" rid="bib1">Abrudan et al., 2015</xref>; <xref ref-type="bibr" rid="bib111">Traxler et al., 2013</xref>). A major form of regulation in bacteria is quorum sensing (<xref ref-type="bibr" rid="bib34">Fuqua et al., 1994</xref>; <xref ref-type="bibr" rid="bib91">Navarro et al., 2008</xref>; <xref ref-type="bibr" rid="bib29">Eickhoff and Bassler, 2018</xref>) whereby cells secrete a small molecule and respond to it dependent upon its concentration. Some antibiotics and bacteriocins are regulated by quorum sensing, which is thought to ensure that toxin production occurs at the right cell density (<xref ref-type="bibr" rid="bib50">Hibbing et al., 2010</xref>; <xref ref-type="bibr" rid="bib19">Chandler et al., 2012</xref>). Other factors also regulate bacterial toxin production, including particular nutrient conditions and diverse stress responses (<xref ref-type="bibr" rid="bib110">Storz and Hengge, 2011</xref>). This led to the argument that, in addition to quorum sensing, bacteria engage in ‘competition sensing’ whereby they use nutrient stress and cell damage to detect ecological competition (<xref ref-type="bibr" rid="bib24">Cornforth and Foster, 2013</xref>; <xref ref-type="bibr" rid="bib71">Lories et al., 2020</xref>).</p><p>Bacteria, therefore, have the potential for a wide range of responses during combat. Evolutionary theory has so far focused on the evolution of unregulated toxin production. This work has highlighted that factors such as strain frequency, nutrient level, the level of strain mixing (relatedness), and the cost of toxin production are all important for whether bacteria employ toxins at all (<xref ref-type="bibr" rid="bib17">Bucci et al., 2011</xref>; <xref ref-type="bibr" rid="bib35">Gardner et al., 2004</xref>; <xref ref-type="bibr" rid="bib16">Brown et al., 2006</xref>; <xref ref-type="bibr" rid="bib43">Gordon and Riley, 1999</xref>; <xref ref-type="bibr" rid="bib32">Frank, 1994</xref>; <xref ref-type="bibr" rid="bib68">Levin, 1988</xref>). Other models have highlighted how natural selection for warfare can have consequences for the evolution of diversity (<xref ref-type="bibr" rid="bib32">Frank, 1994</xref>; <xref ref-type="bibr" rid="bib12">Biernaskie et al., 2013</xref>; <xref ref-type="bibr" rid="bib59">Kelsic et al., 2015</xref>; <xref ref-type="bibr" rid="bib80">McNally et al., 2017</xref>), including via rock-paper-scissor dynamics between different genotypes (<xref ref-type="bibr" rid="bib28">Czárán et al., 2002</xref>; <xref ref-type="bibr" rid="bib60">Kerr et al., 2002</xref>). However, to understand the strategic potential of warring bacteria, we must consider the regulation of their toxins and other weapons (<xref ref-type="bibr" rid="bib44">Granato et al., 2019</xref>; <xref ref-type="bibr" rid="bib24">Cornforth and Foster, 2013</xref>).</p><p>Here, we study the evolution of strategy during bacterial warfare by combining a detailed differential equation model of toxin-based competition with game theory to identify the most evolutionarily successful strategies. Informed by the large empirical literature on factors that regulate bacteriocins and antibiotics, we compare four major classes of potential strategies: constitutive (unregulated) toxin production, and regulation via nutrient level, quorum sensing, or by damage from a competitor’s toxin. We study the behaviours and competitive success of each strategy when in competition with other strains across a range of scenarios. We find that all three types of regulated strategies carry benefits relative to non-regulated production and, for short-lived resources, the three types of regulation offer largely equivalent alternatives for controlling attacks. However, for long-lived environments, responding to incoming attacks is often the best performing strategy. A key benefit to such reciprocation in such environments is the ability to downregulate a toxin once a competitor is defeated, thereby saving the energy that would be lost in needless aggression.</p></sec><sec id="s2" sec-type="results|discussion"><title>Results and discussion</title><sec id="s2-1"><title>Overview</title><p>We are interested in how competition between strains and species of bacteria shapes the evolution of toxin regulation. The core of our approach is a set of detailed ordinary differential equations (ODEs) that capture ecological competition between bacteria (<xref ref-type="fig" rid="fig1">Figure 1a</xref>), which are built upon an earlier model of bacterial siderophore production (<xref ref-type="bibr" rid="bib92">Niehus et al., 2017</xref>). After exploring the case of constitutive toxin production only, we extend our model to incorporate different strategies of regulated production (<xref ref-type="fig" rid="fig1">Figure 1b</xref>). We use these differential equations to model ecological interactions of bacterial strains and determine the outcome of competition for a given strategy against another strategy when they meet locally.</p><fig id="fig1" position="float"><label>Figure 1.</label><caption><title>The two-layer modelling framework.</title><p>(<bold>a</bold>) At the ecological timescale, we use differential equations to model the pairwise interactions of strains with competing strains represented here by two single cells in blue and orange. Both strains consume nutrients from a shared pool, and each strain can produce a toxin that inhibits the other strain (represented as coloured ‘T’s). We show an example of the temporal dynamics of a competition between two strains, where strain <italic>A</italic> wins by investing more into toxin production (<italic>f<sub>A</sub></italic> = 0.3) than strain <italic>B</italic> (<italic>f<sub>B</sub></italic> = 0.1). All other parameters take the standard values given in <xref ref-type="table" rid="table1">Table 1</xref>. (<bold>b</bold>) The differential equation model is used to model four major classes of toxin production strategies. From left to right: Constitutive production without sensing of the environment, sensing clone-mate density (quorum sensing), sensing damage by the competitor’s toxin, and nutrient sensing. <italic>Lower panel</italic>: At the metapopulation level, we model the long-term evolutionary dynamics of different warfare strategies. (<bold>c</bold>) Bacterial life cycle assumed for modelling: empty patches are seeded with a small number of cells that then compete, where the outcome is determined according to the local-level model (above). Cells of the two different strategies are shown in blue and orange as circles, where the area represents the number of cells each produces. After competing in the patch for a certain amount of time (24 hours by default), the cells disperse, where the number of cells produced by each strategy determines its frequency in the dispersal phase and new patches. That is, all dispersing cells have the same probability of finding and seeding a new patch, and environmental conditions are identical across patches. Then another competition phase begins and so on (here orange is winning and invading the population). While we show only two different strategies here, we model a metapopulation with more than two strategies when we study the coevolution of attack strategies. (<bold>d</bold>) Four key outcomes used to predict evolutionary invasion. First case: a rare mutant outcompetes the resident strategy in its patch (orange area is bigger than blue area in the patch). Importantly, the mutant also wins globally, that is, it makes more cells than the <italic>average resident</italic> in the population, which we take from the number of cells that the resident strategy makes when it meets the <italic>same</italic> strategy (the size of a semicircle in the all-blue patches). This measure captures resident fitness well because with the mutant being rare and a large number of patches, the resident will nearly always be meeting itself. Second case: mutant loses and, in doing so, makes fewer cells than the average resident. Third case: mutant wins locally, but ends up making very few cells, for example, it redirects a lot of energy into toxins rather than growth. As a result, it does not produce more cells than the average resident strain (i.e. orange area in focal patch is smaller than blue area in all-blue patches). Fourth case: mutant loses locally but produces more cells than the average resident, for example, the mutant is more passive and avoids the strong mutual inhibition of two toxin producers. Thus the mutant wins globally.</p></caption><graphic mime-subtype="tiff" mimetype="image" xlink:href="elife-69756-fig1-v1.tif"/></fig><table-wrap id="table1" position="float"><label>Table 1.</label><caption><title>Model parameters and their effect on optimal toxin investment.</title></caption><table frame="hsides" rules="groups"><thead><tr><th valign="top">Model parameter</th><th valign="top">Parameter description</th><th valign="top">Standard value [unit] (notes)</th><th valign="top">Effect on optimal toxin investment <italic>f</italic>*</th></tr></thead><tbody><tr><td valign="top"><italic>C</italic>(<italic>t</italic>=0)</td><td valign="top">Initial cell biomass of each strain</td><td valign="top">0.1 [gC]</td><td>⬆</td></tr><tr><td valign="top"><italic>N</italic>(<italic>t</italic>=0)</td><td valign="top">Initial pool of nutrients</td><td valign="top">1 [gN]</td><td>Intermediate optimum (<xref ref-type="fig" rid="app1fig3">Appendix 1—figure 3</xref>)</td></tr><tr><td valign="top"><italic>K<sub>N</sub></italic></td><td valign="top">Saturation constant for nutrient uptake</td><td valign="top">5 [gN]</td><td>⬆</td></tr><tr><td valign="top"><italic>µ<sub>max</sub></italic></td><td valign="top">Maximum growth rate</td><td valign="top">10 [1/hr]</td><td>⬇</td></tr><tr><td valign="top"><italic>k</italic></td><td valign="top">Killing efficiency of the toxin</td><td valign="top">20 [1/gT*1/hr]</td><td>⬆</td></tr><tr><td valign="top"><italic>l<sub>T</sub></italic></td><td valign="top">Toxin loss rate</td><td valign="top">0.1 [1/hr]</td><td>⬇</td></tr></tbody></table></table-wrap><p>These local-level competitions are embedded into a larger metapopulation framework that determines long-term evolutionary outcomes (<xref ref-type="bibr" rid="bib77">Maynard Smith, 1982</xref>; <xref ref-type="fig" rid="fig1">Figure 1c and d</xref>). This metapopulation modelling includes invasion analysis, in the tradition of the branch of evolutionary game theory developed by ﻿<xref ref-type="bibr" rid="bib78">Maynard Smith and Price, 1973</xref> and the field of adaptive dynamics (Materials and methods). We also later use a more explicit genetic algorithm that employs the same logic. This algorithm pits diverse strategies against each other across a large number of combinations in order to find the most successful strategies (Materials and methods). In these metapopulation models, bacterial strains are assumed to compete locally in a large number of patches, but also globally through dispersal to seed new, empty patches based on a standard life history of bacteria used in previous models (<xref ref-type="bibr" rid="bib95">Oliveira et al., 2014</xref>; <xref ref-type="bibr" rid="bib36">Gardner et al., 2007</xref>; <xref ref-type="bibr" rid="bib21">Chuang et al., 2009</xref>; <xref ref-type="bibr" rid="bib27">Cremer et al., 2012</xref>; <xref ref-type="bibr" rid="bib87">Nadell et al., 2010</xref>; <xref ref-type="fig" rid="fig1">Figure 1c</xref>). Also, as discussed previously (<xref ref-type="bibr" rid="bib87">Nadell et al., 2010</xref>), we refer to the global population as a metapopulation to distinguish it from the local bacterial cell population in each patch. This approach accounts for the possibility that a strategy can do well in local competition, but do poorly globally, and vice versa (<xref ref-type="fig" rid="fig1">Figure 1d</xref>). We show in later analysis that all competitive outcomes shown in <xref ref-type="fig" rid="fig1">Figure 1d</xref> occur in our simulations, with the first two cases being the most common.</p><p>We explore a number of different evolutionary scenarios using different calculations. We start by using invasion analysis (depicted in <xref ref-type="fig" rid="fig1">Figure 1d</xref>) to study the evolution of toxin producers that lack regulation and to study the evolution of toxin regulation from constitutive producers. This allows us to understand first when, and how much, a strain should invest into attacking other, and then, whether regulated production can evolutionarily replace constitutive production. We next compare different regulated strategies to one another by studying their performance when facing a diverse range of constitutively producing species. Finally, we study the case where regulated strategies compete with each other and coevolve in massive tournaments to identify the most globally successful strategies (see Materials and methods).</p><p>Our model needs to be relatively complex in order to capture the evolution of bacterial competition and regulatory networks. As a result, the form of our mathematical model is of a class that is not amenable to analytical work (<xref ref-type="bibr" rid="bib13">Boys et al., 2008</xref>; <xref ref-type="bibr" rid="bib45">Gutiérrez and Rosales, 1998</xref>; <xref ref-type="bibr" rid="bib70">Liu and Chen, 2003</xref>). To confirm this, we investigated the behaviours of the dynamic model at steady state. This showed a good basic correspondence between our numerics and analytics but confirmed that the model is not amenable to further analytical work (see Appendix 1 Supplementary analytics). Nevertheless, by combining a number of different competition scenarios with wide parameter sweeps, we are able to show that our key conclusions are robust across many conditions.</p></sec><sec id="s2-2"><title>Evolution of warfare via unregulated toxin production</title><p>We first ask, what favours the evolution of constitutive toxin production. While many toxins are regulated, constitutive production does occur (<xref ref-type="bibr" rid="bib76">Mavridou et al., 2018</xref>), and we use the simple case of constitutive toxin production to first identify general principles underlying the evolution of bacterial warfare. In addition, constitutive production forms a baseline from which to compare the evolution of regulated strategies. In order to study the behaviours that result from each strategy, we use a detailed model of competition between strains based upon a system of differential equations (Materials and methods). This approach allows us to capture the temporal dynamics of strain interactions and, later, toxin regulation.</p><p>In the model, we follow nutrient concentration and cell biomass over time as the strains engage with each other (<xref ref-type="fig" rid="fig1">Figure 1a</xref>). We focus on competitions between two strains that each possess a toxin that does not harm the producer strain but does harm the other strain. In reality, strains may carry multiple toxins and resistances (<xref ref-type="bibr" rid="bib22">Cordero et al., 2012</xref>; <xref ref-type="bibr" rid="bib42">Gordon et al., 1998</xref>) and our framework can be extended to include such complexity. However, for simplicity, we focus here on a single toxin produced by each strain. We consider interactions that are pairwise at the strain level, but we later account for a multitude of competitors by letting strains have many encounters, each with a different strategy. To enable us to study a large number of strategies, our differential equations are based upon simplified well-mixed conditions.</p><p>Our goal is to understand the evolutionary fate of different strategies of toxin-mediated competition. In order to do this, we need to recognise that the outcome of competition at a local scale may not be predictive of evolutionary trajectories. Consider, for example, a competition between two strains of bacteria on a particle of detritus in a pond. If one focuses solely on local competition on the particle, then any strategy that results in a focal strain making more cells than its competitor will be favoured, even if this leads to relative ruin for the winning strain with only a few cells surviving the process. However, given these competitions can happen on many such particles, it is unlikely that such extreme strategies would be favoured, because few cells will be produced to colonise new particles. Instead, the best strategies will be those that <italic>make the most cells to disperse</italic>, which may mean a strain also wins locally, but it may not (see <xref ref-type="fig" rid="fig1">Figure 1d</xref>).</p><p>To capture this effect, we embed the local-level competitions within a broader framework in order to make evolutionary predictions (<xref ref-type="bibr" rid="bib77">Maynard Smith, 1982</xref>; <xref ref-type="bibr" rid="bib114">Weibull, 1997</xref>; <xref ref-type="bibr" rid="bib83">Mitri et al., 2011</xref>) (see <xref ref-type="fig" rid="fig1">Figure 1c and d</xref>). This framework allows us to ask whether a particular, initially rare, strategy can successfully invade a metapopulation of another strategy (Materials and methods). Specifically, a rare mutant’s fitness in the metapopulation is defined by the number of cells it produces in direct competition with the resident, while the resident’s fitness is defined by its productivity when it meets another resident in a patch, as will occur in the vast majority of patches if the mutant is rare (<xref ref-type="fig" rid="fig1">Figure 1d</xref>, Materials and methods). For mutants that can invade, we also confirm that they then cannot be reinvaded by the previous resident (Materials and methods), which is indeed always the case here. We refer to such invasions that lead to a full replacement of the resident by the mutant – where the resident is unable to reinvade from rare - as a stable invasion. By studying large numbers of competitions, we can categorise strains by their ability to stably invade others, and thereby identify the evolutionarily stable investment into toxin production (<italic>f</italic>*). We then seek the optimal level of toxin production, which cannot be invaded by any mutant strategy, but can invade all others.</p><p>What determines the optimal level of toxin investment? Intuitively, we find that cells evolve to invest more in attacking their competitors when toxins are efficient at killing the competitor and/or the toxins persist stably in the environment (<xref ref-type="table" rid="table1">Table 1</xref>). Toxin efficiency in our model is equivalent to the relative cost of toxin production, that is, we see a high benefit-to-cost ratio favours toxin use. This result is in line with previous theory, which has shown that the impact of toxin production on growth rate is critical for the evolutionary outcome (<xref ref-type="bibr" rid="bib17">Bucci et al., 2011</xref>; <xref ref-type="bibr" rid="bib68">Levin, 1988</xref>). For highly effective toxins, we find that strains will engage in an arms race that escalates to the point where populations can go extinct (<xref ref-type="fig" rid="app1fig4">Appendix 1—figure 4</xref>). Such ‘evolutionary suicide’ is known from a wide range of conflict scenarios in biology (<xref ref-type="bibr" rid="bib99">Rankin and López-Sepulcre, 2005</xref>).</p><p>While earlier models have studied the effects of nutrients on toxin production, these studies either did not model nutrients explicitly (<xref ref-type="bibr" rid="bib32">Frank, 1994</xref>), or the level of nutrient competition was coupled to the presence of and mixing with other strains (<xref ref-type="bibr" rid="bib17">Bucci et al., 2011</xref>; <xref ref-type="bibr" rid="bib35">Gardner et al., 2004</xref>). In our model we can isolate the effect of nutrients on the evolution of toxin use. When nutrients are scarce, there is not enough energy to produce effective amounts of toxins (<xref ref-type="fig" rid="app1fig3">Appendix 1—figure 3</xref>), which agrees with previous theory (<xref ref-type="bibr" rid="bib17">Bucci et al., 2011</xref>; <xref ref-type="bibr" rid="bib35">Gardner et al., 2004</xref>; <xref ref-type="bibr" rid="bib32">Frank, 1994</xref>), and has also been shown experimentally in yeast (<xref ref-type="bibr" rid="bib116">Wloch-Salamon et al., 2008</xref>). However, we also find that toxin benefit peaks at intermediate nutrient availability and decreases for higher nutrient levels (<xref ref-type="fig" rid="app1fig3">Appendix 1—figure 3</xref>). This can be understood in terms of a shift in the relative benefits of investing in cell division versus attack: When bacteria enter a competition at low density and resources are abundant, there is a great potential for population expansion. Under these conditions, cells evolve to invest relatively little in toxin production; energy is instead better invested in rapid growth to win a competition by outgrowing other strains. In contrast, when growth potential is limited, cells benefit from investing in warfare, unless, as mentioned above, nutrients are too scarce to produce an effective toxin concentration.</p></sec><sec id="s2-3"><title>The evolution of regulated attack strategies</title><p>We next investigate what happens when cells are able to regulate their level of toxin production in response to environmental cues. The production of antibiotics and bacteriocins is commonly tightly regulated by a variety of signals and cues. As discussed above, these can be broadly divided into three major classes based upon known bacterial regulatory networks. The first is detection of cell density by canonical quorum sensing or related means (<xref ref-type="bibr" rid="bib34">Fuqua et al., 1994</xref>; <xref ref-type="bibr" rid="bib29">Eickhoff and Bassler, 2018</xref>), which has been demonstrated by previous modelling work to be beneficial for the regulation of cooperative traits (<xref ref-type="bibr" rid="bib23">Cornforth et al., 2012</xref>). In addition, bacteria are highly responsive to both nutrient stress and cell damage associated stress (<xref ref-type="bibr" rid="bib110">Storz and Hengge, 2011</xref>), which both can detect the level of ecological competition in the environment (‘competition sensing’; <xref ref-type="bibr" rid="bib24">Cornforth and Foster, 2013</xref>; <xref ref-type="bibr" rid="bib71">Lories et al., 2020</xref>).</p><p>We first compare the evolution of regulation by quorum, nutrient level, and the level of the competitor’s toxin when each is in competition with constitutive strains. This allows us to ask whether regulated strategies can evolutionarily replace constitutive strategies (see Materials and methods). In brief, we model regulation of toxin production using a simple step function, which is defined by toxin production in activated state (<italic>f<sub>induced</sub></italic>), production in inactivated state (<italic>f<sub>initial</sub></italic>), and a threshold of the signal for activation. All three parameters are continuous; toxin production (<italic>f<sub>initial</sub></italic> and <italic>f<sub>induced</sub></italic>) is constrained between 0 and 1, and the threshold is constrained to a region consistent with the observed range of each signal (quorum, nutrient, toxin level).</p><p>In a vast tournament consisting of millions of individual competitions, we pit all possible strategies of each mode of regulation against all possible versions of the fixed strategy. We then use invasion analysis, as before, to look for the evolution of regulated strategies that can invade all unregulated strategies. As before, we consider both global and local competition (see <xref ref-type="fig" rid="fig1">Figure 1d</xref>) to determine invading strategies that cannot be reinvaded by the previous resident strategy and that therefore cause stable invasion. We find that all possible outcomes of the metapopulation competitions (<xref ref-type="fig" rid="fig1">Figure 1d</xref>) do occur, with the typical case being that the outcome of local and global competition are the same (see <xref ref-type="fig" rid="app1fig6">Appendix 1—figure 6</xref>). In a small minority of cases (2.3%), we find that successful invading strategies can be reinvaded by the previous resident to give a mixed evolutionary outcome, and these cases are not considered further. Our analysis identifies versions of each mode of regulation that can stably invade all possible constitutive strategies (<xref ref-type="fig" rid="fig2">Figure 2a–c</xref>). This result is expected and confirms the basic intuition that – unless maintaining a regulatory circuit is very costly – a well-regulated trait will outcompete an unregulated one (<xref ref-type="bibr" rid="bib24">Cornforth and Foster, 2013</xref>). This is true whether strains compete for a short or long duration, although shorter duration does select for a higher initial investment in toxin production in order to ensure that enough toxin is made in the time that a strain has to compete (<xref ref-type="fig" rid="app1fig5">Appendix 1—figure 5</xref>).</p><fig id="fig2" position="float"><label>Figure 2.</label><caption><title>Regulated toxin production outcompetes and evolutionarily replaces constitutive toxin production.</title><p>Using a deterministic grid search, we find nutrient-sensing, toxin-sensing, and quorum-sensing strategies that can stably invade the entire range of non-regulated producer strategies (<bold>a-c</bold>, red areas). In these plots, the effects of two parameters on competitive outcome are shown: <italic>f<sub>initial</sub></italic>, the toxin investment of a sensing strain at the initial state, and <italic>f<sub>induced</sub></italic>, the toxin investment after the signal passes a certain threshold. Red areas indicate combinations of <italic>f<sub>initial</sub></italic> and <italic>f<sub>induced</sub></italic> where at least one threshold value allows stable invasion. Illustrative competitive dynamics are shown for the optimal non-sensing strategy against (<bold>d</bold>) nutrient-sensing, (<bold>e</bold>) toxin-sensing, and (<bold>f</bold>) quorum-sensing (upregulates toxins at high quorum) and (<bold>g</bold>) quorum-sensing (downregulates toxins at high quorum). Grey insets show investment in toxin production as a function of time. Regulation allows tactics that use toxins more efficiently and effectively than constitutive producers. All parameters take standard values as given in <xref ref-type="table" rid="table1">Table 1</xref>.</p></caption><graphic mime-subtype="tiff" mimetype="image" xlink:href="elife-69756-fig2-v1.tif"/></fig><p>How do the different regulatory strategies achieve their success? For the great majority of cases, successful strains evolve to upregulate their attack after a delay, either based on the detection of low nutrients, high quorum, or high levels of the competitor’s toxin (<xref ref-type="fig" rid="fig2">Figure 2d–f</xref>). In some cases, there is no toxin production before this upregulation, as in the canonical model of quorum sensing that turns a trait from off to on. In other cases, the strategy that evolves is to begin with a baseline of constitutive production before upregulating this further upon activation (<xref ref-type="fig" rid="fig2">Figure 2a–c</xref>, with example shown in <xref ref-type="fig" rid="fig2">Figure 2f</xref>), something also seen in real systems (<xref ref-type="bibr" rid="bib76">Mavridou et al., 2018</xref>). A difference between nutrient and quorum sensing versus toxin-based regulation is that examples of the latter not only upregulate toxin production after a delay, they also downregulate the toxin if the competitor is killed off (<xref ref-type="fig" rid="fig2">Figure 2e</xref>).</p><p>We also discovered winning strategies that function by <italic>down</italic>regulating toxin production after a delay. For nutrient-based regulation, there is a narrow parameter range (the small vertical strip in the lower part of <xref ref-type="fig" rid="fig2">Figure 2a</xref>) where strategies begin aggressively with the expression of toxin and then downregulate it when nutrients are limited (dynamics not shown). For quorum-sensing strategies, some also start with high toxin investment, but these strategies are more complex. These downregulate toxins and invest in growth once they reach a high density, but will reactivate it again if their cell numbers drop due to toxin attack (<xref ref-type="fig" rid="fig2">Figure 2g</xref>).</p><p>In each case, regulated strategies win by only making high levels of toxin at certain times, thereby saving energy relative to constitutive producers. A corollary is that, if toxin production is cost free, regulation will no longer be benefitical relative to constitutive production. But, assuming that there is some costs to toxin production, regulation is expected to be favoured by natural selection.</p><p>In sum, there are regulated strategies of each of the three types under study that can evolutionarily replace all non-regulated strategies. However, this analysis is based on regulated strains invading metapopulations consisting of a single constitutive strategy. In some contexts, a focal strain may face a variety of competitors. Consider, for example, a situation where migration brings in a range of competiting species, each optimised to a different environment. To consider this scenario, we next ask how the different sensing strategies fare in competition with a standing diversity of constitutive strategies. We introduce diversity by letting the different sensory strategies (i.e. nutrient sensing, toxin sensing, and quorum sensing) face an increasingly diverse mix of constitutive toxin-producing opponents. We assume that the standing diversity of constitutive producers is not itself affected by the evolution of the regulated startegies, that is, there is no coevolution (we consider coevolution in the next section, however). For each set of opponents, therefore, we can identify the best performing regulated strategies simply as those that obtain the highest average biomass across the competitions with the set of opponents (Materials and methods). Based on the simulated data, we also fitted a linear regression model with sensing type as a categorical predictor and number of competitors a numerical predictor (see Materials and methods).</p><p>When opponents have a single strategy (lowest diversity), the toxin sensing strategy is most efficient in terms of its final biomass produced (<xref ref-type="fig" rid="fig3">Figure 3a</xref>, left panel). Moreover, the toxin sensing strategy deals most effectively with diverse competitors (<xref ref-type="fig" rid="fig3">Figure 3a</xref>) with the regression analysis showing a 2.5 times higher fitness for toxin sensing relative to the other strategies (p-value &lt; 0.001). The success of the toxin sensing strategy is associated with the reliable activation of toxin production when sensing another toxin. Quorum sensing also activates toxin production during the competition but, in some cases, is defeated without being able to attack back. This gives rise to the observed bimodal outcome of the quorum-sensing strategy (<xref ref-type="fig" rid="fig3">Figure 3a</xref>). The nutrient-sensing strategy, by contrast, attacks first and then deactivates later when nutrients decrease.</p><fig id="fig3" position="float"><label>Figure 3.</label><caption><title>Toxin sensing is the most versatile strategy against a range of different competitor strategies.</title><p>(<bold>a</bold>) We optimised (using a grid search) each of the sensing strategies first against a single constitutive producer (left-hand side panel) and then against an increasing diversity of producers (other panels). As an example, the nine competitors (right-hand side panel) have toxin investment <italic>f</italic>=0.1,0. 2,…,0.9 and we optimise each of the three sensing strategies in terms of the sum of their final biomasses across all nine competitions. We show the final biomasses of individual competitions as points and the average biomass as bars. The toxin-sensing strain (red coloured bars) performs best, both against the single strategy and against mixtures of strategies. Among the other two sensory strategies, quorum sensing (yellow) has a higher variation of biomass than nutrient sensing (blue) across individual fights. The benefit of sensing toxin is robust for diverse environmental conditions (<xref ref-type="fig" rid="app1fig7">Appendix 1—figure 7</xref>). (<bold>b</bold>) Shortening the competition time (<italic>t<sub>end</sub></italic> = 6 hr) removes the benefit of toxin sensing. When not mentioned, parameters take the standard values as given in <xref ref-type="table" rid="table1">Table 1</xref>.</p></caption><graphic mime-subtype="tiff" mimetype="image" xlink:href="elife-69756-fig3-v1.tif"/></fig><p>This superiority of toxin sensing is robust across a range of parameters, including different toxin efficiencies, toxin loss rates, and nutrient concentrations (<xref ref-type="fig" rid="app1fig7">Appendix 1—figure 7</xref>). There is a clear post hoc intuition to this result. A strain that only engages in conflict when attacked will be best able to deal with a range of strategies that differ in their propensity and ability to attack. More specifically, as seen in the last section, these strains inactivate toxin production after a weak opponent is eliminated, thus employing the toxin efficiently. We can directly demonstrate the importance of this tactic of toxin inactivation by shortening the duration of the strain competitions such that toxin-sensing strains do not have the opportunity to downregulate toxin production. For short competition times, while regulated strategies still outperform unregulated ones (<xref ref-type="fig" rid="app1fig5">Appendix 1—figure 5</xref>), the toxin sensing strategy fails to evolve a superior performance over the other modes of regulation (<xref ref-type="fig" rid="fig3">Figure 3b</xref>).</p></sec><sec id="s2-4"><title>The coevolution of regulated attack strategies</title><p>We have considered how regulated attack strategies perform in the face of constitutive strategies that vary in their level of aggression, and in the face of varying levels of diversity in these opponents. This revealed that regulation is generally beneficial and indicated that the sensing of an opponent’s toxin is often the best performing strategy. However, this analysis is artificial in the sense that bacteria with regulated strategies are also likely to compete against one another. Therefore, we next ask, which sensing strategy is most successful when coevolving with other sensing strategies? We first consider strains that interact with others that have a similar attack strategy, regulated by the same environmental cue. For each of the three types of regulation, we then search for the optimal strategy using a genetic algorithm (see Materials and methods) (<xref ref-type="fig" rid="fig4">Figure 4a</xref>). Following the logic of the earlier models, the optimal strategy is defined as one that will, on average, obtain the highest biomass across competitions with all other possible strategies.</p><fig id="fig4" position="float"><label>Figure 4.</label><caption><title>Coevolution of sensing strategies.</title><p>Panels <bold>a</bold> and <bold>b</bold> follow the evolution of regulation when they compete solely against strains with the same type of regulation, for example, quorum sensing versus quorum sensing; Panels <bold>c–f</bold> follow evolution when all three types of regulation compete together. (<bold>a</bold>) Representative example of evolutionary convergence of the sensing parameters for the case of nutrient-sensing strategies competing solely against other nutrient-sensing strains. Displayed is the mean parameter value of the 5% fittest strains at each generation for 10 independent runs of the algorithm. (<bold>b</bold>) The biomass dynamics of the three evolutionarily stable sensing strategies at equilibrium (when in competition with a strain with an identical strategy). Areas where the dynamics are shown in a pale tone indicate time intervals where toxin was downregulated. For toxin sensing, toxin production remains deactivated thoughout. (<bold>c</bold>) Evolution in tournaments where all strategies compete against one another, showing the dominance of the toxin sensing strategy. For five independent runs of the tournament the upper panel shows population fraction of the different strategies, the lower panel shows individual fitness averaged per sensing type. The thick lines give the average across runs. The tournament starts with 20 generations (left of the vertical line) without selection, after that, strategies are selected based on their competitive fitness. (<bold>d</bold>) Winning strategies: shown is the range of dynamics of the optimised toxin sensing strategies against quorum sensing and nutrient-sensing strategies that evolved in one realisation of the tournament. Red and turquoise indicate activated and inactivated toxin production, respectively. (<bold>e</bold>) Example of a competition between one of the winning toxin-sensing strains meeting a nutrient-sensing strain evolved in the tournament. Red and turquoise, respectively, indicate upregulated and downregulated toxin production for the toxin-sensing strain, other strain is shown in light blue. (<bold>f</bold>) Example of a competition between one of the winning toxin-sensing strains and a quorum-sensing strain evolved in the tournament. Red and turquoise, respectively, indicate upregulated and downregulated toxin production for the toxin-sensing strain, other strain is shown in yellow. All parameters take standard values as given in <xref ref-type="table" rid="table1">Table 1</xref>.</p></caption><graphic mime-subtype="tiff" mimetype="image" xlink:href="elife-69756-fig4-v1.tif"/></fig><p>When competing with the same strategy, all strategies initially evolve to increase toxin production during the competition (<italic>f<sub>initial</sub></italic> &lt; <italic>f<sub>induced</sub></italic>) (<xref ref-type="fig" rid="fig4">Figure 4b</xref>). More specifically, strains responding to nutrient depletion initially produce near zero toxins (<italic>f<sub>initial</sub></italic> = 0.05) until they activate toxin investment, at a level higher than the optimal fixed investment (evolved <italic>f<sub>induced</sub></italic> = 0.50, while <italic>f*</italic> = 0.35). In comparison, strains responding to quorum sensing invest in more toxin initially (<italic>f<sub>initial</sub></italic> = 0.11) and also more when activated (<italic>f<sub>induced</sub></italic> = 0.60). The quorum-sensing strategy is expected to be able to afford to invest more in toxin production because, unlike nutrient sensing, strains can reduce toxin investment again if biomass drops too low, thereby saving energy. The toxin-sensing strategy is different again. It invests near zero toxin at the start of the competition (<italic>f<sub>initial</sub></italic> = 0.01) and responds very strongly if a competitor attacks (<italic>f<sub>induced</sub></italic> = 0.73). Interestingly, the corollary is that, at evolutionary equilbirum (when it will meet an identical toxin strategy), both remain passive and achieve a high biomass (<xref ref-type="fig" rid="fig4">Figure 4b</xref> center). This outcome has similarities to the success of ‘tit-for-tat’, a reciprocal cooperating strategy in the classic evolutionary game theory tournament of <xref ref-type="bibr" rid="bib5">Axelrod and Hamilton, 1981</xref>. There, tit-for-tat succeeds by benefiting from mutual cooperation whenever others cooperate, while maintaining the ability to shut off cooperation whenever it meets a non-cooperative strategy. When this success leads to all individuals playing tit-for-tat, the result can be that all interactions end up as cooperative, akin to the emergence of a peaceful productive strategy in our model.</p><p>The evolution of a peaceful outcome is specific to the ability to reciprocate; we do not observe it for nutrient or quorum sensing. Nevertheless, we have identified a route by which bacteria might evolve the peaceful resolutions seen in animal and human conflicts (<xref ref-type="bibr" rid="bib5">Axelrod and Hamilton, 1981</xref>; <xref ref-type="bibr" rid="bib62">Kokko, 2013</xref>; <xref ref-type="bibr" rid="bib33">Freedman, 1989</xref>). However, the model assumes that strains will only interact with other genotypes that are adopting similar strategies for warfare. This is far from guaranteed in bacteria as there exists considerable variability in weapons and their regulation, even within a single species (<xref ref-type="bibr" rid="bib76">Mavridou et al., 2018</xref>). Moreover, microbial communities typically contain many strains and species, suggesting again that a given strain has the potential to meet a diversity of competitors and strategies.</p><p>We therefore sought to capture this complexity with a final model in which all possible regulated strategies are able to compete against each other, again using a genetic algorithm to identify optimal strategies (see Materials and methods). Despite a great number of potential combinations (over two million different competitions), and with different sets of hyperparameters of the genetic algorithm, we again see a clear winner in toxin-based regulation, both for our normal parameters (<xref ref-type="table" rid="table1">Table 1</xref>, <xref ref-type="fig" rid="fig4">Figure 4c</xref>) and for sweeps that consider broad ranges of these parameters (<xref ref-type="fig" rid="app1fig8">Appendix 1—figure 8</xref>) and a wide range of initial frequencies of the two strains (<xref ref-type="fig" rid="app1fig9">Appendix 1—figure 9</xref>). Moreover, as for competition against unregulated strategies (<xref ref-type="fig" rid="fig3">Figure 3</xref>), the success of toxin-based regulation in contests with other strategies does not come from an ability to avoid conflict and create peaceful outcomes. Instead, the winning strategies are typically aggressive when they meet another strain and they only downregulate their toxins once an opponent is on its way to being eliminated (<xref ref-type="fig" rid="fig4">Figure 4d–f</xref>). And, as for competition against unregulated strategies, this ability to become passive is key to their success. For short competitions, there is no benefit in turning off an attack and the competitive benefit of reciprocity over other regulated strategies is lost (<xref ref-type="fig" rid="app1fig10">Appendix 1—figure 10</xref>).</p></sec><sec id="s2-5"><title>Conclusions</title><p>Bacteria use a wide variety of weaponry to harm other strains and species, which is typically under tight regulation (<xref ref-type="bibr" rid="bib38">Ghequire and De Mot, 2014</xref>; <xref ref-type="bibr" rid="bib44">Granato et al., 2019</xref>; <xref ref-type="bibr" rid="bib109">Stein, 2005</xref>; <xref ref-type="bibr" rid="bib82">Michel-Briand and Baysse, 2002</xref>; <xref ref-type="bibr" rid="bib18">Cascales et al., 2007</xref>). How bacteria employ these mechanisms of attack is central to understanding why a particular species or pathogen can invade and persist in communities, while others cannot (<xref ref-type="bibr" rid="bib44">Granato et al., 2019</xref>; <xref ref-type="bibr" rid="bib63">Kommineni et al., 2015</xref>). Here, we have explored the evolutionary logic underlying strategies of bacterial attack. We find that toxin production is favoured under many conditions, particularly when toxins are effective and long-lasting and when the potential for population expansion is limited (<xref ref-type="table" rid="table1">Table 1</xref>). The prevalence of aggressive strategies in our model is consistent with the widespread use of toxins by bacteria (<xref ref-type="bibr" rid="bib44">Granato et al., 2019</xref>), and the associated intensity of competition observed in experiments (<xref ref-type="bibr" rid="bib20">Chao and Levin, 1981</xref>; <xref ref-type="bibr" rid="bib76">Mavridou et al., 2018</xref>; <xref ref-type="bibr" rid="bib96">Oliveira et al., 2015</xref>). We also find that well-regulated attacks can consistently outcompete strategies that lack regulation (<xref ref-type="fig" rid="fig2">Figure 2</xref>). This is because the benefit of employing a toxin not only changes with different competitors but also within a single competition over time. Regulation allows a strain to better tune its behaviour and follow the optimal investment at any given situation. However, the three major classes of bacterial regulatory network are not always equivalent ways to control attacks. Across a diverse range of potential competitors, responding directly to incoming attacks is the most robustly successful strategy (<xref ref-type="fig" rid="fig3">Figures 3</xref>,<xref ref-type="fig" rid="fig4">4</xref>).</p><p>Our modelling implicitly captures spatial structure at the metapopulation level with discrete patches of bacteria that compete with each other. Within patches, our ODE model best reflects environments with limited spatial structure where cells of different genotypes are mixed together. However, bacteria do also display fine scale spatiogenetic structuring within their communities (<xref ref-type="bibr" rid="bib88">Nadell et al., 2016</xref>; <xref ref-type="bibr" rid="bib107">Stacy et al., 2016</xref>; <xref ref-type="bibr" rid="bib64">Krishna Kumar et al., 2021</xref>). Here, our model has the potential to capture the outcome of competition at the interface of two strains, which is expected to be critical for success and persistence in such communities (<xref ref-type="bibr" rid="bib44">Granato et al., 2019</xref>). However, there is clear potential for other effects of local spatial structure on sensing strategies that we do not capture. For example, in contrast to the detection of competitor’s toxins, responses to quorum sensing and nutrient depletion may occur first in the middle of a patch of cells, where toxin production has the least benefit as toxin receivers are mainly clone-mates (<xref ref-type="bibr" rid="bib56">Inglis et al., 2009</xref>; <xref ref-type="bibr" rid="bib113">Wechsler et al., 2019</xref>).</p><p>Our work predicts that sensing incoming attacks through direct or indirect means should be a widespread way of regulating toxins and other modes of attack. This hypothesis lends itself to empirical testing via the study of bacterial behaviour during toxin-mediated competition with other strains and species. Some examples of reciprocation already exist. Many bacteria upregulate attack mechanisms via stress responses that detect cell damage (<xref ref-type="bibr" rid="bib24">Cornforth and Foster, 2013</xref>). This includes recent evidence of reciprocation between warring <italic>Escherichia coli</italic> strains where DNase protein toxins activate toxin production in competing strains via the SOS response to DNA damage (<xref ref-type="bibr" rid="bib76">Mavridou et al., 2018</xref>; <xref ref-type="bibr" rid="bib64">Krishna Kumar et al., 2021</xref>; <xref ref-type="bibr" rid="bib41">Gonzalez et al., 2018</xref>; <xref ref-type="bibr" rid="bib44">Granato et al., 2019</xref>). Because many antimicrobials target the DNA of cells (<xref ref-type="bibr" rid="bib58">Janion, 2008</xref>; <xref ref-type="bibr" rid="bib39">Gillor et al., 2008</xref>), sensing DNA damage is likely to be a relatively robust way to achieve reciprocity. But there are other mechanisms; <italic>Pseudomonas aeruginosa</italic> senses incoming attacks via the type six secretion system (T6SS) of competitors, which delivers toxin via the molecular equivalent of a speargun (<xref ref-type="bibr" rid="bib7">Basler and Mekalanos, 2012</xref>; <xref ref-type="bibr" rid="bib6">Basler et al., 2013</xref>). Upon detecting an incoming attack, a cell will activate its own T6SS in response (<xref ref-type="bibr" rid="bib6">Basler et al., 2013</xref>). Consistent with our findings, recent work suggests that a key benefit to reciprocation via the T6SS is the ability to save energy and only attack when necessary, alongside a benefit that comes from improved aiming which is specific to this mode of attack (<xref ref-type="bibr" rid="bib105">Smith et al., 2020</xref>). Finally, there is evidence that bacteria may also detect and respond to incoming attacks via proxies such as the detection of lysate produced when surrounding cells are killed (<xref ref-type="bibr" rid="bib66">LeRoux et al., 2015a</xref>), or molecules that are made by an attacker alongside a toxin (<xref ref-type="bibr" rid="bib24">Cornforth and Foster, 2013</xref>; <xref ref-type="bibr" rid="bib67">LeRoux et al., 2015b</xref>).</p><p>There is also evidence that bacterial toxins can be regulated via nutrient depletion and quorum sensing (<xref ref-type="bibr" rid="bib38">Ghequire and De Mot, 2014</xref>; <xref ref-type="bibr" rid="bib18">Cascales et al., 2007</xref>). Our models of regulation by quorum or nutrients typically predict that attacks will evolve to be activated at high quorum or limited nutrients, which recapitulates the typical directionality of the regulation observed in nature (<xref ref-type="bibr" rid="bib19">Chandler et al., 2012</xref>; <xref ref-type="bibr" rid="bib31">Fontaine et al., 2007</xref>; <xref ref-type="bibr" rid="bib55">Inaoka et al., 2003</xref>). However, if detecting damage is the best basis for attack, why do some bacteria use these other forms of regulation? For short competition times, our model predicts that the three regulatory strategies are largely equivalent (<xref ref-type="fig" rid="fig3">Figure 3</xref> and <xref ref-type="fig" rid="app1fig10">Appendix 1—figure 10</xref>). A short duration of competition between strains removes the benefit of decreasing toxin production once an attacker has been overcome. Under these conditions, the evolutionary path to one form of regulation may largely be determined by differences in costs for regulatory networks and which pre-existing regulatory systems are available for co-option (<xref ref-type="bibr" rid="bib25">Cotter and DiRita, 2000</xref>; <xref ref-type="bibr" rid="bib52">Hockett et al., 2015</xref>). We predict, therefore, that mechanisms to reciprocate attacks are particularly valuable in environments where warfare commonly leaves a victor unchallenged for a long time afterwards. Consistent with this, one of the clearest examples of reciprocation occurs in <italic>E. coli</italic> (<xref ref-type="bibr" rid="bib76">Mavridou et al., 2018</xref>; <xref ref-type="bibr" rid="bib64">Krishna Kumar et al., 2021</xref>; <xref ref-type="bibr" rid="bib44">Granato et al., 2019</xref>), which uses colicin toxins to displace other strains and persists for long periods within the mammalian microbiome (<xref ref-type="bibr" rid="bib40">Gillor et al., 2009</xref>).</p><p>Another possible explanation for why some bacteria do not use cell damage to regulate their toxins comes from the notion of ‘silent’ toxins. These are toxins that are not easily detected by the cell’s stress responses, which may limit the potential for a toxin-mediated response. For example, some toxins depolarise membranes (<xref ref-type="bibr" rid="bib117">Yang and Konisky, 1984</xref>) and may be favoured by natural selection specifically because they do not provoke dangerous reciprocation in competitors (<xref ref-type="bibr" rid="bib41">Gonzalez et al., 2018</xref>). In other cases, bacteria appear to use multiple forms of regulation in order to integrate information from multiple sources (<xref ref-type="bibr" rid="bib24">Cornforth and Foster, 2013</xref>). For example, <italic>Streptomyces coelicolor</italic> regulates antibiotic production via both nutrient limitation (<xref ref-type="bibr" rid="bib48">Hesketh et al., 2007</xref>) and mechanisms that detect incoming antibiotics (envelope stress [<xref ref-type="bibr" rid="bib49">Hesketh et al., 2011</xref>]). A potential future use of our modelling framework would be to study how these combined regulatory strategies evolve.</p><p>Bacteria use diverse regulatory networks to attack and overcome competitors, and there is much still to understand about their evolution. Here, we have identified general principles for the function of these networks in bacterial warfare. We find there are great benefits using regulation to time an attack; both to minimise its cost and maximise its effect on an opponent. We also find that regulation that enables reciprocation can be particularly beneficial. If cells only attack when attacked, they invest their energy where and when it is most needed: against aggressive opponents. Our findings are mirrored in the classical predictions from the game theory of animal combat, which suggested that adopting a reciprocal and retaliatory strategy can be effective (<xref ref-type="bibr" rid="bib78">Maynard Smith and Price, 1973</xref>; <xref ref-type="bibr" rid="bib62">Kokko, 2013</xref>; <xref ref-type="bibr" rid="bib33">Freedman, 1989</xref>; <xref ref-type="bibr" rid="bib30">Enquist and Leimar, 1990</xref>). However, the predicted outcome was typically one of peace and the avoidance of conflict, which is indeed what is observed in many animal contests (<xref ref-type="bibr" rid="bib15">Briffa M, 2013</xref>). In contrast to such lessons, experimental work suggests that bacteria often engage in deadly conflict (<xref ref-type="bibr" rid="bib1">Abrudan et al., 2015</xref>; <xref ref-type="bibr" rid="bib76">Mavridou et al., 2018</xref>; <xref ref-type="bibr" rid="bib96">Oliveira et al., 2015</xref>; <xref ref-type="bibr" rid="bib41">Gonzalez et al., 2018</xref>; <xref ref-type="bibr" rid="bib8">Be'er et al., 2009</xref>; <xref ref-type="bibr" rid="bib112">Vetsigian et al., 2011</xref>). Our models offer an evolutionary rational for this observation. The regulation of combat in bacteria is not usually about avoiding conflict; it is about timing an attack and downregulating it once a competitor is no longer a threat.</p></sec></sec><sec id="s3" sec-type="materials|methods"><title>Materials and methods</title><sec id="s3-1"><title>Overview</title><p>In this study we use a modelling framework that captures two scales of competition (<xref ref-type="fig" rid="fig1">Figure 1</xref>). At the local level, we model bacterial strain competitions using systems of ODEs. These equations are well suited to model temporal dynamics on the relatively short ecological timescales at which bacterial strains interact with nutrients and competitors. At the global level, we model the evolution of different strategies within a metapopulation. This metapopulation level allows us to follow the evolution of different strategies across much longer <italic>evolutionary</italic> timescales, and to capture the important interplay of local and global fitness (<xref ref-type="fig" rid="fig1">Figure 1d</xref>). We use this game theory framework to identify strategies that are evolutionarily successful against a diversity of possible competitors. All questions addressed in this work require both layers of modelling. The system of ODEs that models constitutive toxin production is described in the next section and forms the basis for all of the models. Evolution at the metapopulation level is implemented using a common logic (<xref ref-type="fig" rid="fig1">Figure 1c,d</xref>), using variations that capture a range of questions and evolutionary scenarios as detailed below.</p></sec><sec id="s3-2"><title>A differential equation model of bacterial warfare</title><p>Our model captures pairwise competitions between bacterial strains, which have the potential to produce toxins (<xref ref-type="fig" rid="fig1">Figure 1a</xref>). This first model allows a strain to have a fixed investment into its toxin – below we describe the extension of this model that allows toxin regulation in response to external cues. We employ ODEs, which are well suited to capture the temporal dynamics of strain interactions happening at ecological timescales. A number of different models have been used to study the evolution of bacterial public good regulation (<xref ref-type="bibr" rid="bib92">Niehus et al., 2017</xref>; <xref ref-type="bibr" rid="bib47">Heilmann et al., 2015</xref>; <xref ref-type="bibr" rid="bib65">Kümmerli and Brown, 2010</xref>). Here, we follow <xref ref-type="bibr" rid="bib17">Bucci et al., 2011</xref>, because they model both nutrients and toxins explicitly, which are both important cues for the regulation of toxin production. We study a competition between two strains that each possess a toxin that does not harm the cells of the producer strain, but does harm the other strain. In reality, strains may carry multiple toxins and resistances (<xref ref-type="bibr" rid="bib22">Cordero et al., 2012</xref>; <xref ref-type="bibr" rid="bib42">Gordon et al., 1998</xref>) and the evolution of multiple mechanisms of attack and defence is an interesting question in its own right. However, we focus here on a single toxin produced by each strain. We also describe the dynamics of the nutrients and cell densities in a well-mixed environment. The interactions of cells, nutrients, and toxins can be described by the system of ODEs:<disp-formula id="equ1"><label>(1)</label><mml:math id="m1"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:mtable columnalign="left left" columnspacing="1em" rowspacing="4pt"><mml:mtr><mml:mtd><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:msub><mml:mi>C</mml:mi><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo></mml:mrow></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac></mml:mstyle></mml:mtd><mml:mtd><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mo>=</mml:mo><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mn>1</mml:mn><mml:mo>−</mml:mo><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:msub><mml:mi>μ</mml:mi><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub><mml:mfrac><mml:mrow><mml:mi>N</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mi>t</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mrow><mml:mi>N</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mi>t</mml:mi><mml:mo stretchy="false">)</mml:mo><mml:mo>+</mml:mo><mml:msub><mml:mi>K</mml:mi><mml:mrow><mml:mi>N</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:msub><mml:mi>C</mml:mi><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo></mml:mrow><mml:mo>−</mml:mo><mml:mi>k</mml:mi><mml:msub><mml:mi>T</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo></mml:mrow><mml:msub><mml:mi>C</mml:mi><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo></mml:mrow><mml:mo>,</mml:mo></mml:mstyle></mml:mtd></mml:mtr><mml:mtr><mml:mtd><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:msub><mml:mi>C</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo></mml:mrow></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac></mml:mstyle></mml:mtd><mml:mtd><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mo>=</mml:mo><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mn>1</mml:mn><mml:mo>−</mml:mo><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:msub><mml:mi>μ</mml:mi><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub><mml:mfrac><mml:mrow><mml:mi>N</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mi>t</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mrow><mml:mi>N</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mi>t</mml:mi><mml:mo stretchy="false">)</mml:mo><mml:mo>+</mml:mo><mml:msub><mml:mi>K</mml:mi><mml:mrow><mml:mi>N</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:msub><mml:mi>C</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo></mml:mrow><mml:mo>−</mml:mo><mml:mi>k</mml:mi><mml:msub><mml:mi>T</mml:mi><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo></mml:mrow><mml:msub><mml:mi>C</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo></mml:mrow><mml:mo>,</mml:mo></mml:mstyle></mml:mtd></mml:mtr><mml:mtr><mml:mtd><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:msub><mml:mi>T</mml:mi><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo></mml:mrow></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac></mml:mstyle></mml:mtd><mml:mtd><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mo>=</mml:mo><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:mfrac><mml:mrow><mml:mi>N</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mi>t</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mrow><mml:mi>N</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mi>t</mml:mi><mml:mo stretchy="false">)</mml:mo><mml:mo>+</mml:mo><mml:msub><mml:mi>K</mml:mi><mml:mrow><mml:mi>N</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:msub><mml:mi>C</mml:mi><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo></mml:mrow><mml:mo>−</mml:mo><mml:msub><mml:mi>l</mml:mi><mml:mrow><mml:mi>T</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mi>T</mml:mi><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo></mml:mrow><mml:mo>,</mml:mo></mml:mstyle></mml:mtd></mml:mtr><mml:mtr><mml:mtd><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:msub><mml:mi>T</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo></mml:mrow></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac></mml:mstyle></mml:mtd><mml:mtd><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mo>=</mml:mo><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mfrac><mml:mrow><mml:mi>N</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mi>t</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mrow><mml:mi>N</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mi>t</mml:mi><mml:mo stretchy="false">)</mml:mo><mml:mo>+</mml:mo><mml:msub><mml:mi>K</mml:mi><mml:mrow><mml:mi>N</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:msub><mml:mi>C</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo></mml:mrow><mml:mo>−</mml:mo><mml:msub><mml:mi>l</mml:mi><mml:mrow><mml:mi>T</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mi>T</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo></mml:mrow><mml:mo>,</mml:mo></mml:mstyle></mml:mtd></mml:mtr><mml:mtr><mml:mtd><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mi>N</mml:mi><mml:mrow><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo></mml:mrow></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac></mml:mstyle></mml:mtd><mml:mtd><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mo>=</mml:mo><mml:mo>−</mml:mo><mml:mfrac><mml:mrow><mml:mi>N</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mi>t</mml:mi><mml:mo stretchy="false">)</mml:mo></mml:mrow><mml:mrow><mml:mi>N</mml:mi><mml:mo stretchy="false">(</mml:mo><mml:mi>t</mml:mi><mml:mo stretchy="false">)</mml:mo><mml:mo>+</mml:mo><mml:msub><mml:mi>K</mml:mi><mml:mrow><mml:mi>N</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:msub><mml:mi>C</mml:mi><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo></mml:mrow><mml:mo>+</mml:mo><mml:msub><mml:mi>C</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo></mml:mrow></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mo>,</mml:mo></mml:mstyle></mml:mtd></mml:mtr></mml:mtable></mml:mrow></mml:mstyle></mml:math></disp-formula>where <italic>C<sub>A</sub></italic>(<italic>t</italic>) and <italic>C<sub>B</sub></italic>(<italic>t</italic>) denote the biomasses of cell strains <italic>A</italic> and <italic>B</italic>, respectively, <italic>T<sub>A</sub></italic>(<italic>t</italic>) and <italic>T<sub>B</sub></italic>(<italic>t</italic>) denote the biomass of each strain’s toxin, and <italic>N</italic>(<italic>t</italic>) denotes the concentration of a growth-limiting nutrient for which both strains compete. We consider a pool of nutrient that is depleted by the cells. Similarly to <xref ref-type="bibr" rid="bib86">Nadell et al., 2008</xref>, we describe the energy that is available to the cells by the Monod equation, in which <italic>K<sub>N</sub></italic> is the nutrient saturation constant. The maximum growth rate is given by <italic>µ<sub>max</sub></italic>. Toxins kill with efficiency <italic>k</italic> and are lost with rate <italic>l<sub>T</sub>.</italic> We assume that all toxins have identical loss and killing rates in order to remove biochemical differences between strains and focus our analysis on the effects of different production strategies.</p><p>For constitutive toxin production, the strategy of a strain is given simply by a fixed <italic>f</italic> (<italic>f</italic> ∈ [0,1]), which captures the investment into toxin production relative to cell biomass. The production of antibiotics and bacteriocins can have significant metabolic costs and can even require a cell to lyse, as occurs with colicins and pyocins (<xref ref-type="bibr" rid="bib18">Cascales et al., 2007</xref>; <xref ref-type="bibr" rid="bib90">Nakayama et al., 2000</xref>). We model the cost of toxin production on cellular growth as a linear allocative trade-off function in the growth term (<xref ref-type="bibr" rid="bib17">Bucci et al., 2011</xref>). For example, a strain that invests <italic>f</italic> = 0.1 into its toxin will only reach 90% of its maximal growth rate.</p><p>The dynamics of cells, nutrients, and toxins are modelled as continuous for their typical range. But when a cell strain reaches a very low concentration (<italic>C</italic>(<italic>t</italic>)=10<sup>−6</sup>), we assume that stochastic extinction occurs such that cell concentration drops to 0. Further, our model assumes a limited lifetime of the local patches by stopping the dynamics when 24 hr (or less for the analysis of shortened competition times, <xref ref-type="fig" rid="app1fig5">Appendix 1—figure 5</xref>) have passed.</p><p>We solve the system of ODEs numerically using an implicit Euler method. This numerical scheme is implemented in MATLAB (version 9.5.0.944444) (<xref ref-type="bibr" rid="bib75">MATLAB, 2018</xref>). Our implementation solves the equations (<xref ref-type="disp-formula" rid="equ1">Equation (1))</xref> until the defined end time. We avoid numerical issues due to negative state variables by setting any state variables reaching a value below 10<sup>−8</sup> to 0.</p></sec><sec id="s3-3"><title>A model of regulated toxin attack</title><p>To extend the above model to include sensing, toxin production of bacterial strain <italic>A</italic> is either a function of nutrient depletion, toxin of strain <italic>B</italic>, or of quorum sensing (given as cell biomass of strain <italic>A</italic>). Each signal triggers toxin production via a simple on-and-off switch (<xref ref-type="bibr" rid="bib24">Cornforth and Foster, 2013</xref>) so that the toxin production of strain <italic>A</italic> is given through one of the equations:<disp-formula id="equ2"><label>(2)</label><mml:math id="m2"><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:msub><mml:mrow><mml:mi/><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi><mml:mi>i</mml:mi><mml:mi>t</mml:mi><mml:mi>i</mml:mi><mml:mi>a</mml:mi><mml:mi>l</mml:mi></mml:mrow></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi><mml:mi>d</mml:mi><mml:mi>u</mml:mi><mml:mi>c</mml:mi><mml:mi>e</mml:mi><mml:mi>d</mml:mi></mml:mrow></mml:msub><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi><mml:mi>i</mml:mi><mml:mi>t</mml:mi><mml:mi>i</mml:mi><mml:mi>a</mml:mi><mml:mi>l</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo><mml:mi>H</mml:mi><mml:mfenced close="]" open="[" separators="|"><mml:mrow><mml:mfenced separators="|"><mml:mrow><mml:mi>N</mml:mi><mml:mfenced separators="|"><mml:mrow><mml:mi>t</mml:mi><mml:mo>=</mml:mo><mml:mn>0</mml:mn></mml:mrow></mml:mfenced><mml:mo>-</mml:mo><mml:mi>N</mml:mi><mml:mfenced separators="|"><mml:mrow><mml:mi>t</mml:mi></mml:mrow></mml:mfenced></mml:mrow></mml:mfenced><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>U</mml:mi></mml:mrow><mml:mrow><mml:mi>N</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfenced><mml:mo>,</mml:mo></mml:math></disp-formula><disp-formula id="equ3"><label>(3)</label><mml:math id="m3"><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:msub><mml:mrow><mml:mi/><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi><mml:mi>i</mml:mi><mml:mi>t</mml:mi><mml:mi>i</mml:mi><mml:mi>a</mml:mi><mml:mi>l</mml:mi></mml:mrow></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi><mml:mi>d</mml:mi><mml:mi>u</mml:mi><mml:mi>c</mml:mi><mml:mi>e</mml:mi><mml:mi>d</mml:mi></mml:mrow></mml:msub><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi><mml:mi>i</mml:mi><mml:mi>t</mml:mi><mml:mi>i</mml:mi><mml:mi>a</mml:mi><mml:mi>l</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo><mml:mi>H</mml:mi><mml:mo>(</mml:mo><mml:msub><mml:mrow><mml:mi>T</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>U</mml:mi></mml:mrow><mml:mrow><mml:mi>T</mml:mi><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo><mml:mo>,</mml:mo></mml:math></disp-formula><disp-formula id="equ4"><label>(4)</label><mml:math id="m4"><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:msub><mml:mrow><mml:mi/><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi><mml:mi>i</mml:mi><mml:mi>t</mml:mi><mml:mi>i</mml:mi><mml:mi>a</mml:mi><mml:mi>l</mml:mi></mml:mrow></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi><mml:mi>d</mml:mi><mml:mi>u</mml:mi><mml:mi>c</mml:mi><mml:mi>e</mml:mi><mml:mi>d</mml:mi></mml:mrow></mml:msub><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi><mml:mi>i</mml:mi><mml:mi>t</mml:mi><mml:mi>i</mml:mi><mml:mi>a</mml:mi><mml:mi>l</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo><mml:mi>H</mml:mi><mml:mo>(</mml:mo><mml:msub><mml:mrow><mml:mi>C</mml:mi></mml:mrow><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>U</mml:mi></mml:mrow><mml:mrow><mml:mi>Q</mml:mi><mml:mi>S</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo><mml:mo>,</mml:mo></mml:math></disp-formula>where <italic>H</italic> is the Heaviside step function given as<disp-formula id="equ5"><label>(5)</label><mml:math id="m5"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:mi>H</mml:mi><mml:mrow><mml:mo>(</mml:mo><mml:mi>x</mml:mi><mml:mo>)</mml:mo></mml:mrow><mml:mo>=</mml:mo><mml:mrow><mml:mo>{</mml:mo><mml:mtable columnalign="left left" columnspacing="1em" displaystyle="false" rowspacing=".2em"><mml:mtr><mml:mtd><mml:mn>0</mml:mn><mml:mo>,</mml:mo><mml:mi>x</mml:mi><mml:mo>&lt;</mml:mo><mml:mn>0</mml:mn></mml:mtd></mml:mtr><mml:mtr><mml:mtd><mml:mn>1</mml:mn><mml:mo>,</mml:mo><mml:mi>x</mml:mi><mml:mo>≥</mml:mo><mml:mn>0</mml:mn></mml:mtd></mml:mtr></mml:mtable><mml:mo fence="true" stretchy="true" symmetric="true"/></mml:mrow></mml:mrow></mml:mstyle></mml:math></disp-formula>and where <inline-formula><mml:math id="inf1"><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi><mml:mi>i</mml:mi><mml:mi>t</mml:mi><mml:mi>i</mml:mi><mml:mi>a</mml:mi><mml:mi>l</mml:mi></mml:mrow></mml:msub><mml:mo>∈</mml:mo><mml:mo>[</mml:mo><mml:mn>0,1</mml:mn><mml:mo>]</mml:mo></mml:math></inline-formula> and <inline-formula><mml:math id="inf2"><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi><mml:mi>d</mml:mi><mml:mi>u</mml:mi><mml:mi>c</mml:mi><mml:mi>e</mml:mi><mml:mi>d</mml:mi></mml:mrow></mml:msub><mml:mo>∈</mml:mo><mml:mo>[</mml:mo><mml:mn>0,1</mml:mn><mml:mo>]</mml:mo></mml:math></inline-formula>.</p><p>These equations of regulated toxin production each comprise the initial investment into toxins (<italic>f<sub>initial</sub></italic>) when the trigger term is deactivated and the trigger term itself. The trigger term contains a Heaviside step function and becomes active when the signal increases over the sensing threshold (<italic>U<sub>N</sub></italic>/<italic>U<sub>TB</sub></italic>/<italic>U<sub>QS</sub></italic>). When activated, the trigger term changes the initial toxin investment (<italic>f<sub>initial</sub></italic>) to become the induced toxin investment (<italic>f<sub>induced</sub></italic>). We allow the induced toxin investment to be smaller (when the signal is a repressor) or larger than the initial toxin investment (when the signal is an activator).</p></sec><sec id="s3-4"><title>Invasion analysis</title><p>We use our first models to predict the optimal constitutive toxin production strategy across different ecological conditions. Here, the assumed scenario is a monomorphic metapopulation (all strains have identical warfare strategy), where a rare mutant strategy appears that may or may not invade this metapopulation. As time progresses toward infinity, the metapopulation will finally be dominated by a strategy that can invade the metapopulation of any other strategy and that can itself not be invaded. We implement this scenario using classic pairwise invasion analysis. More specifically, we employ game theory and, in particular, invasion analysis to find the best strategies (<xref ref-type="bibr" rid="bib94">Nowak and Sigmund, 2004</xref>; <xref ref-type="bibr" rid="bib79">McElreath and Boyd, 2013</xref>), where the best strategy is one that, if adopted by the whole population, cannot be invaded by any other strategy. These strategies are also called evolutionarily stable strategies (<xref ref-type="bibr" rid="bib77">Maynard Smith, 1982</xref>).</p><p>We follow previous work (<xref ref-type="bibr" rid="bib95">Oliveira et al., 2014</xref>; <xref ref-type="bibr" rid="bib27">Cremer et al., 2012</xref>) by assuming a microbial life cycle that consists of a seeding step where local patches are seeded with two competing strains, a competition step where strains grow and interact according to the differential equations explained above, and a mixing step where cells from all patches disperse and mix, leading to a new seeding episode (<xref ref-type="fig" rid="fig1">Figure 1c</xref>). The proportion of the different strains (or strategies) that are seeded is determined by the strain frequencies after the competition step. Without explicitly modelling this life cycle, invasion analysis (<xref ref-type="bibr" rid="bib79">McElreath and Boyd, 2013</xref>) asks whether a particular strain with strategy <italic>f<sub>inv</sub></italic> when rare can invade a population dominated by another strategy <italic>f<sub>res</sub></italic> (the resident <xref ref-type="bibr" rid="bib114">Weibull, 1997</xref>; <xref ref-type="fig" rid="fig1">Figure 1d</xref>). To answer this, we calculate the fitness of the resident strategy (<italic>w<sub>res</sub></italic>) and the fitness of the invading strategy (<italic>w<sub>inv</sub></italic>). The fitness of the resident is its final biomass when in competition with an identical strategy so that <italic>w<sub>res</sub></italic> = <italic>w</italic>(<italic>f<sub>res</sub></italic>|<italic>f<sub>res</sub></italic>) and the fitness of the rare invader is determined by its final biomass in the competition between invader and resident strategy, <italic>w<sub>inv</sub></italic> = <italic>w</italic>(<italic>f<sub>inv</sub></italic>|<italic>f<sub>res</sub></italic>). We then calculate the invasion index for an invading strategy according to <xref ref-type="bibr" rid="bib83">Mitri et al., 2011</xref> as<disp-formula id="equ6"><label>(6)</label><mml:math id="m6"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:msub><mml:mi>I</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi><mml:mi>v</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mfrac><mml:msub><mml:mi>w</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi><mml:mi>v</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mi>w</mml:mi><mml:mrow><mml:mi>r</mml:mi><mml:mi>e</mml:mi><mml:mi>s</mml:mi></mml:mrow></mml:msub></mml:mfrac><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:mi>w</mml:mi><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi><mml:mi>v</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mo stretchy="false">|</mml:mo></mml:mrow><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mi>r</mml:mi><mml:mi>e</mml:mi><mml:mi>s</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow><mml:mrow><mml:mi>w</mml:mi><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mi>r</mml:mi><mml:mi>e</mml:mi><mml:mi>s</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mo stretchy="false">|</mml:mo></mml:mrow><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mi>r</mml:mi><mml:mi>e</mml:mi><mml:mi>s</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:mfrac><mml:mo>.</mml:mo></mml:mrow></mml:mstyle></mml:math></disp-formula></p><p>When the invasion index <italic>I<sub>inv</sub></italic> is larger than 1, the rare strategy can invade the resident strategy; when the index is smaller than 1, the rare strategy cannot invade, and it disappears. Finally, we also test for back-invasion and compute <italic>I<sub>inv</sub></italic> for when the resident is rare and the mutant is the resident. We implement strain competitions by solving the system of ODEs described above. We define evoluationarily stable strategies as those strategies that have an <italic>I<sub>inv</sub></italic> larger than 1 against all studied competitors (and both as rare and resident strategy). By calculating the invasion index for a large number of invading strategy-resident strategy pairs, we obtain a pairwise invasibility plot (<xref ref-type="bibr" rid="bib14">Brännström et al., 2013</xref>) (insets in <xref ref-type="fig" rid="app1fig4">Appendix 1—figure 4</xref>). Using this plot, we find a single evolutionarily stable strategy <italic>f</italic>* that can invade all strategies and that cannot be invaded by any other strategy. We determine this globally optimal strategy using the algorithm outlined in the Appendix 1—code 1. We can then ask how the parameters of the model affect the evolution of toxin investment (<xref ref-type="table" rid="table1">Table 1</xref>).</p></sec><sec id="s3-5"><title>Invasion analysis of sensing strategies</title><p>We next ask whether regulated strategies will evolutionarily replace constitutive production. Here, the ecological scenario is the same as above: monomorphic populations of constitutive toxin production strategies are threatened to be invaded by rare strategies that can sense (<xref ref-type="fig" rid="fig1">Figure 1d</xref>). We perform a parameter grid search that tests a large number of sensing strategies (stepping: ∆<italic>f<sub>initial</sub></italic>/∆<italic>f<sub>induced</sub></italic> = 0.02 and ∆<italic>U</italic> = 0.002, constraints: <inline-formula><mml:math id="inf3"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi><mml:mi>i</mml:mi><mml:mi>t</mml:mi><mml:mi>i</mml:mi><mml:mi>a</mml:mi><mml:mi>l</mml:mi></mml:mrow></mml:msub><mml:mo>∈</mml:mo><mml:mrow><mml:mo>[</mml:mo><mml:mrow><mml:mn>0</mml:mn><mml:mo>,</mml:mo><mml:mn>1</mml:mn></mml:mrow><mml:mo>]</mml:mo></mml:mrow></mml:mrow></mml:mstyle></mml:math></inline-formula>, <inline-formula><mml:math id="inf4"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi><mml:mi>d</mml:mi><mml:mi>u</mml:mi><mml:mi>c</mml:mi><mml:mi>e</mml:mi><mml:mi>d</mml:mi></mml:mrow></mml:msub><mml:mi>ϵ</mml:mi><mml:mrow><mml:mo>[</mml:mo><mml:mrow><mml:mn>0</mml:mn><mml:mo>,</mml:mo><mml:mn>1</mml:mn></mml:mrow><mml:mo>]</mml:mo></mml:mrow></mml:mrow></mml:mstyle></mml:math></inline-formula>, <inline-formula><mml:math id="inf5"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:msub><mml:mi>U</mml:mi><mml:mrow><mml:mi>N</mml:mi></mml:mrow></mml:msub><mml:mo>∈</mml:mo><mml:mrow><mml:mo>[</mml:mo><mml:mrow><mml:mn>0</mml:mn><mml:mo>,</mml:mo><mml:mn>1</mml:mn></mml:mrow><mml:mo>]</mml:mo></mml:mrow></mml:mrow></mml:mstyle></mml:math></inline-formula>, <inline-formula><mml:math id="inf6"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:msub><mml:mi>U</mml:mi><mml:mrow><mml:mi>T</mml:mi><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mo>∈</mml:mo><mml:mrow><mml:mo>[</mml:mo><mml:mrow><mml:mn>0</mml:mn><mml:mo>,</mml:mo><mml:mn>20</mml:mn></mml:mrow><mml:mo>]</mml:mo></mml:mrow></mml:mrow></mml:mstyle></mml:math></inline-formula>, <inline-formula><mml:math id="inf7"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:msub><mml:mi>U</mml:mi><mml:mrow><mml:mi>Q</mml:mi><mml:mi>S</mml:mi></mml:mrow></mml:msub><mml:mo>∈</mml:mo><mml:mrow><mml:mo>[</mml:mo><mml:mrow><mml:mn>0</mml:mn><mml:mo>,</mml:mo><mml:mn>20</mml:mn></mml:mrow><mml:mo>]</mml:mo></mml:mrow></mml:mrow></mml:mstyle></mml:math></inline-formula>) against the range of constitutive strategies. For the constitutive strategies, we select from a fine grid spacing that also includes the optimal constitutive strategy (<italic>f<sub>fixed</sub></italic> = [0.00, 0.01, 0.02, …, 1.00]). For each pair of sensing and non-sensing strategies, we compute the invasion index once for the sensing strategy as the resident and again for the non-sensing strategy being the resident. We then search for those sensing strategies that can invade all non-sensing strategies and that themselves cannot be invaded by any other non-sensing strategy. We show where those strategies lie in the parameter space of <inline-formula><mml:math id="inf8"><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi><mml:mi>i</mml:mi><mml:mi>t</mml:mi><mml:mi>i</mml:mi><mml:mi>a</mml:mi><mml:mi>l</mml:mi></mml:mrow></mml:msub></mml:math></inline-formula> and <inline-formula><mml:math id="inf9"><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi><mml:mi>d</mml:mi><mml:mi>u</mml:mi><mml:mi>c</mml:mi><mml:mi>e</mml:mi><mml:mi>d</mml:mi></mml:mrow></mml:msub></mml:math></inline-formula> (<xref ref-type="fig" rid="fig2">Figure 2a-c</xref>).</p></sec><sec id="s3-6"><title>Sensing strategies against standing diversity</title><p>We also study the evolutionary success of the three different types of sensing when being in constant competition with a diverse set of competitors. Here, the ecological scenario is a polymorphic metapopulation – a mix of different constitutive production strategies – with a given diversity. We assume that this diverse set of strategies is not influenced by evolution in the focal sensing strategy due to, for example, immigration that continually resupplies the diversity of competitors. We then ask what happens when a rare sensing strain enters this metapopulation, where its success depends on its success across pairwise competitions with the different resident strategies.</p><p>We implement this by competing focal sensing strategies against a set of different constitutive strategies and computing their fitness from the average biomass produced across those competitions. Specifically, for each of the three different sensing types, we perform a parameter grid search, creating a large number of predefined strategies across the parameter range of <italic>f<sub>initial</sub></italic> (∈[0,1], at increments of 0.05), <italic>f<sub>induced</sub></italic> (∈[0,1], 0.05) and respective thresholds <italic>U<sub>N</sub></italic> (∈[0,1], 0.02), <italic>U<sub>TB</sub></italic> (∈[0.001,4], 0.0005), and <italic>U<sub>QS</sub></italic> (∈[0.01,1.2], 0.01). Each of those sensing strategies is competed against a fixed set of constitutive strategies, one at a time, by solving the above system of equations. We then compute for each sensing strategy the average fitness across its competitions. Within each of the three sensing types we find the single strategy with the highest average fitness. For those winners we show the average fitness as bars in <xref ref-type="fig" rid="fig3">Figure 3</xref> together with the fitnesses obtained against each individual constitutive strategy. We repeat this entire procedure for five different levels of diversity among the constitutive strategies. Starting with the lowest diversity set, which contains only a single constitutive strategy (<italic>f</italic> = 0.5), we then add increasingly extreme strategies, yielding three competitors (<italic>f</italic> = 0.4,0.5,0.6), five competitors (<italic>f</italic> = 0.3,0.4,0.5,0.6,0.7), seven competitors (<italic>f</italic> = 0.2,0.3,0.4,0.5,0.6,0.7,0.8), and finally nine competitors (<italic>f</italic> = 0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9).</p><p>Using the simulated results, we fit linear regression model with the sensing type as a categorical predictor variable and the number of competitors as a numerical predictor variable. The regression takes the form<disp-formula id="equ7"><mml:math id="m7"><mml:msub><mml:mrow><mml:mi>F</mml:mi></mml:mrow><mml:mrow><mml:mi>i</mml:mi></mml:mrow></mml:msub><mml:mo>~</mml:mo><mml:mi>N</mml:mi><mml:mo>(</mml:mo><mml:msub><mml:mrow><mml:mi>α</mml:mi></mml:mrow><mml:mrow><mml:mi>S</mml:mi><mml:mfenced close="]" open="[" separators="|"><mml:mrow><mml:mi>i</mml:mi></mml:mrow></mml:mfenced></mml:mrow></mml:msub><mml:mo>+</mml:mo><mml:mi>β</mml:mi><mml:mi>D</mml:mi><mml:mfenced close="]" open="[" separators="|"><mml:mrow><mml:mi>i</mml:mi></mml:mrow></mml:mfenced><mml:mo>,</mml:mo><mml:mi>σ</mml:mi><mml:mo>)</mml:mo></mml:math></disp-formula>where <italic>F<sub>i</sub></italic> is the fitness of the <italic>i</italic>th competition, which we assume to be normally distributed around a mean given by a linear equation and with standard deviation <italic>σ</italic>. The fixed intercept is given through <italic>α</italic><sub><italic>S</italic>[<italic>i</italic>]</sub>, where <italic>S</italic>[<italic>i</italic>] is the <italic>i</italic>th element of integer vector <italic>S</italic> that contains only two possible values indicating whether the toxin sensor or a different sensor is in the competition <italic>i</italic>. <italic>D</italic>[<italic>i</italic>] is the <italic>i</italic>th element of integer vector <italic>D</italic>, which gives the number of competitors in the <italic>i</italic>th competition. Finally, <italic>β</italic> gives the change of fitness when adding one competitor. We fit the regression model using R (version 3.6.1) (<xref ref-type="bibr" rid="bib98">R Development Core Team, 2011</xref>).</p></sec><sec id="s3-7"><title>Genetic algorithm</title><p>Finally, we study which sensing strategies are most successful in competition with other sensing strategies. We study this both within each type of sensing and across all three different types. Here, the scenario is a polymorphic metapopulation of coevolving sensing strategies. Mutation and migration create new strategies inside this population. A strategy’s achieved biomass in pairwise competitions with other strains determines its ability to stay and amplify in the metapopulation. The model initially studies a wide variety of strategies competing with one another. However, as time passes, the metapopulation converges and consists of increasingly optimal strategies. As this happens, the analysis then approximates the invasion analyses described above, where most strains are largely identical and rare mutants are pitted against this majority in the metapopulation (<xref ref-type="fig" rid="fig1">Figure 1d</xref>).</p><p>Specifically, we use a genetic algorithm to search for the evolutionarily stable strategy in the large space of possible strategies of a single type of regulation (and also in the space of all possible regulating strategies). This algorithm adapts the typical structure of a genetic algorithm (<xref ref-type="bibr" rid="bib81">Melanie, 1996</xref>) where in each round a population of individuals is first tested to evaluate fitness and it is then replaced by a new daughter generation. Individuals of this new generation are created by a mix of cloning and mutating individuals from the previous parent generation selected based on their fitness and by addition of novel random strategies. As is typical in non-adaptive algorithms , the control parameters of the algorithm (e.g. number of generations, number of strategies in the population, rate of mutation, etc.) are chosen to achieve short simulation times and good convergence behaviour as determined by visually inspecting the distribution of population parameters over time (<xref ref-type="bibr" rid="bib81">Melanie, 1996</xref>). Our population of competing strategies has a constant size of <italic>n</italic>=60. Initially a set of random strategies is created, whereby the three parameters that define an individual sensing strategy are drawn from a uniform distribution with given parameter constraints (<inline-formula><mml:math id="inf10"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi><mml:mi>i</mml:mi><mml:mi>t</mml:mi><mml:mi>i</mml:mi><mml:mi>a</mml:mi><mml:mi>l</mml:mi></mml:mrow></mml:msub><mml:mo>∈</mml:mo><mml:mrow><mml:mo>[</mml:mo><mml:mrow><mml:mn>0</mml:mn><mml:mo>,</mml:mo><mml:mn>1</mml:mn></mml:mrow><mml:mo>]</mml:mo></mml:mrow></mml:mrow></mml:mstyle></mml:math></inline-formula>, <inline-formula><mml:math id="inf11"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mi>i</mml:mi><mml:mi>n</mml:mi><mml:mi>d</mml:mi><mml:mi>u</mml:mi><mml:mi>c</mml:mi><mml:mi>e</mml:mi><mml:mi>d</mml:mi></mml:mrow></mml:msub><mml:mo>∈</mml:mo><mml:mrow><mml:mo>[</mml:mo><mml:mrow><mml:mn>0</mml:mn><mml:mo>,</mml:mo><mml:mn>1</mml:mn></mml:mrow><mml:mo>]</mml:mo></mml:mrow></mml:mrow></mml:mstyle></mml:math></inline-formula>, <inline-formula><mml:math id="inf12"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:msub><mml:mi>U</mml:mi><mml:mrow><mml:mi>N</mml:mi></mml:mrow></mml:msub><mml:mo>∈</mml:mo><mml:mrow><mml:mo>[</mml:mo><mml:mrow><mml:mn>0</mml:mn><mml:mo>,</mml:mo><mml:mn>1</mml:mn></mml:mrow><mml:mo>]</mml:mo></mml:mrow></mml:mrow></mml:mstyle></mml:math></inline-formula>, <inline-formula><mml:math id="inf13"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:msub><mml:mi>U</mml:mi><mml:mrow><mml:mi>T</mml:mi><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mo>∈</mml:mo><mml:mrow><mml:mo>[</mml:mo><mml:mrow><mml:mn>0</mml:mn><mml:mo>,</mml:mo><mml:mn>4</mml:mn></mml:mrow><mml:mo>]</mml:mo></mml:mrow></mml:mrow></mml:mstyle></mml:math></inline-formula>, <inline-formula><mml:math id="inf14"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:msub><mml:mi>U</mml:mi><mml:mrow><mml:mi>Q</mml:mi><mml:mi>S</mml:mi></mml:mrow></mml:msub><mml:mo>∈</mml:mo><mml:mrow><mml:mo>[</mml:mo><mml:mrow><mml:mn>0</mml:mn><mml:mo>,</mml:mo><mml:mn>1.2</mml:mn></mml:mrow><mml:mo>]</mml:mo></mml:mrow></mml:mrow></mml:mstyle></mml:math></inline-formula>). The constraints for the sensing thresholds take the range of the respective signals as they are observed across the large number of competitions performed in the invasion analysis of sensing strains described above. (For the initial population in the case where all three sensing types compete, the sensing type is chosen at random with equal probability for all three types and, to avoid long run times and artefactual superiority due to parameter constraints, initial parameter values start at the optimum from the within strategy competition.)</p><p>In every round then, each strategy competes against all <italic>n</italic> strategies, including its own type. The final biomass of every strategy is summed across its competitions to give its competitive fitness. Then, a new daughter generation is generated. The four most competitive parent strategies are chosen to move into the next generation without parameter mutation, 36 strategies are drawn from the parent generation with probability proportional to their fitness and one of their parameters is mutated by adding a value drawn from a normal distribution with mean of 0 and standard deviation of 0.001. If, after mutation, a daughter strategy violates the parameter constraints, the random draw gets repeated until the constraints are met. Finally, 10 immigrant strategies are generated by choosing their sensing parameters as random draws from a uniform distribution within the constraints. (In the case of all three strategies competing, the sensing type is first drawn at random with equal probability, and then the sensing parameters are drawn at random.) For the competition between types of a single sensing strategies, the algorithm is run for 100 generation. (For the tournament with all three strategies, we ran the first 20 generations without selection, where we replace the population each generation with migrants, to allow comparison with the case where selection occurs, <xref ref-type="fig" rid="fig4">Figure 4c</xref>). The evolving parameter values for the top four strategies are averaged for each generation and saved (<xref ref-type="fig" rid="fig4">Figure 4a</xref>). The averaged values in the last timestep give the evolutionary stable strategy for each tournament (<xref ref-type="fig" rid="fig4">Figure 4b</xref>). In our sensitivity analysis, we also examine the results of the genetic algorithm with alternative sets of control parameters, including a smaller and a larger size of the mutation standard deviation (0.01 and 0.0005), a smaller and larger proportion of ‘migrating’ strategies in each generation (5 of 60, and 20 of 60), and five different sizes of the population of strategies (50, 70, 80, 90, 100). This yields a total of 20 alternative parameter combinations.</p></sec><sec id="s3-8"><title>Code availability</title><p>The MATLAB code for the regulated toxin model, the invasion analysis, and the evolutionary tournament is available on GitHub (<ext-link ext-link-type="uri" xlink:href="https://github.com/reneniehus/bact_warfare">https://github.com/reneniehus/bact_warfare</ext-link>, copy archived at <ext-link ext-link-type="uri" xlink:href="https://archive.softwareheritage.org/swh:1:dir:c60dd23f7004bca655d5420d5ac0c7fc4b795c93;origin=https://github.com/reneniehus/bact_warfare;visit=swh:1:snp:a076335e29e65fe4712624d803de7bfaacbf821b;anchor=swh:1:rev:923e104aa634230547ba464c6bc8fee07f662ffa">swh:1:rev:923e104aa634230547ba464c6bc8fee07f662ffa</ext-link>, <xref ref-type="bibr" rid="bib93">Niehus, 2021</xref>).</p></sec></sec></body><back><ack id="ack"><title>Acknowledgements</title><p>Thank you to Michael Bentley, Jonas Schluter, Kat Coyte, Nicholas Davies, Wook Kim, and Rolf Kümmerli for feedback. RN is funded by the EPSRC-funded Systems Biology Doctoral Training Centre studentship EP/G50029/1. NMO is funded by the Herchel Smith Fellowship. AGF is funded by the Vice Chancellor’s Fellowship from the University of Sheffield. KRF is funded by European Research Council Grant 787932 and Wellcome Trust Investigator award 209397/Z/17/Z. This project is supported by a Templeton World Charity Foundation grant.</p></ack><sec id="s4" sec-type="additional-information"><title>Additional information</title><fn-group content-type="competing-interest"><title>Competing interests</title><fn fn-type="COI-statement" id="conf1"><p>No competing interests declared</p></fn></fn-group><fn-group content-type="author-contribution"><title>Author contributions</title><fn fn-type="con" id="con1"><p>Conceptualization, Resources, Data curation, Software, Formal analysis, Validation, Investigation, Visualization, Methodology, Writing - original draft, Writing - review and editing</p></fn><fn fn-type="con" id="con2"><p>Conceptualization, Formal analysis, Investigation, Methodology, Writing - review and editing</p></fn><fn fn-type="con" id="con3"><p>Validation, Methodology, Writing - review and editing</p></fn><fn fn-type="con" id="con4"><p>Formal analysis, Supervision, Investigation, Writing - review and editing</p></fn><fn fn-type="con" id="con5"><p>Conceptualization, Investigation, Methodology, Writing - original draft, Project administration, Writing - review and editing</p></fn></fn-group></sec><sec id="s5" sec-type="supplementary-material"><title>Additional files</title><supplementary-material id="transrepform"><label>Transparent reporting form</label><media mime-subtype="pdf" mimetype="application" xlink:href="elife-69756-transrepform-v1.pdf"/></supplementary-material></sec><sec id="s6" sec-type="data-availability"><title>Data availability</title><p>The MATLAB code for the regulated toxin model, the invasion analysis, and the evolutionary tournament is available on github (<ext-link ext-link-type="uri" xlink:href="https://github.com/reneniehus/bact_warfare">https://github.com/reneniehus/bact_warfare</ext-link>, copy archived at <ext-link ext-link-type="uri" xlink:href="https://archive.softwareheritage.org/swh:1:rev:923e104aa634230547ba464c6bc8fee07f662ffa">https://archive.softwareheritage.org/swh:1:rev:923e104aa634230547ba464c6bc8fee07f662ffa</ext-link>).</p></sec><ref-list><title>References</title><ref id="bib1"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Abrudan</surname> <given-names>MI</given-names></name><name><surname>Smakman</surname> <given-names>F</given-names></name><name><surname>Grimbergen</surname> <given-names>AJ</given-names></name><name><surname>Westhoff</surname> <given-names>S</given-names></name><name><surname>Miller</surname> <given-names>EL</given-names></name><name><surname>van Wezel</surname> <given-names>GP</given-names></name><name><surname>Rozen</surname> <given-names>DE</given-names></name></person-group><year iso-8601-date="2015">2015</year><article-title>Socially mediated induction and suppression of antibiosis during bacterial coexistence</article-title><source>PNAS</source><volume>112</volume><fpage>11054</fpage><lpage>11059</lpage><pub-id pub-id-type="doi">10.1073/pnas.1504076112</pub-id><pub-id pub-id-type="pmid">26216986</pub-id></element-citation></ref><ref id="bib2"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Allesina</surname> <given-names>S</given-names></name><name><surname>Tang</surname> <given-names>S</given-names></name></person-group><year iso-8601-date="2012">2012</year><article-title>Stability criteria for complex ecosystems</article-title><source>Nature</source><volume>483</volume><fpage>205</fpage><lpage>208</lpage><pub-id pub-id-type="doi">10.1038/nature10832</pub-id><pub-id pub-id-type="pmid">22343894</pub-id></element-citation></ref><ref id="bib3"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Anderson</surname> <given-names>MS</given-names></name><name><surname>Garcia</surname> <given-names>EC</given-names></name><name><surname>Cotter</surname> <given-names>PA</given-names></name></person-group><year iso-8601-date="2012">2012</year><article-title>The Burkholderia bcpAIOB genes define unique classes of two-partner secretion and contact dependent growth inhibition systems</article-title><source>PLOS Genetics</source><volume>8</volume><elocation-id>e1002877</elocation-id><pub-id pub-id-type="doi">10.1371/journal.pgen.1002877</pub-id><pub-id pub-id-type="pmid">22912595</pub-id></element-citation></ref><ref id="bib4"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Aoki</surname> <given-names>SK</given-names></name><name><surname>Diner</surname> <given-names>EJ</given-names></name><name><surname>de Roodenbeke</surname> <given-names>CT</given-names></name><name><surname>Burgess</surname> <given-names>BR</given-names></name><name><surname>Poole</surname> <given-names>SJ</given-names></name><name><surname>Braaten</surname> <given-names>BA</given-names></name><name><surname>Jones</surname> <given-names>AM</given-names></name><name><surname>Webb</surname> <given-names>JS</given-names></name><name><surname>Hayes</surname> <given-names>CS</given-names></name><name><surname>Cotter</surname> <given-names>PA</given-names></name><name><surname>Low</surname> <given-names>DA</given-names></name></person-group><year iso-8601-date="2010">2010</year><article-title>A widespread family of polymorphic contact-dependent toxin delivery systems in bacteria</article-title><source>Nature</source><volume>468</volume><fpage>439</fpage><lpage>442</lpage><pub-id pub-id-type="doi">10.1038/nature09490</pub-id><pub-id pub-id-type="pmid">21085179</pub-id></element-citation></ref><ref id="bib5"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Axelrod</surname> <given-names>R</given-names></name><name><surname>Hamilton</surname> <given-names>WD</given-names></name></person-group><year iso-8601-date="1981">1981</year><article-title>The evolution of cooperation</article-title><source>Science</source><volume>211</volume><fpage>1390</fpage><lpage>1396</lpage><pub-id pub-id-type="doi">10.1126/science.7466396</pub-id><pub-id pub-id-type="pmid">7466396</pub-id></element-citation></ref><ref id="bib6"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Basler</surname> <given-names>M</given-names></name><name><surname>Ho</surname> <given-names>BT</given-names></name><name><surname>Mekalanos</surname> <given-names>JJ</given-names></name></person-group><year iso-8601-date="2013">2013</year><article-title>Tit-for-tat: type VI secretion system counterattack during bacterial cell-cell interactions</article-title><source>Cell</source><volume>152</volume><fpage>884</fpage><lpage>894</lpage><pub-id pub-id-type="doi">10.1016/j.cell.2013.01.042</pub-id><pub-id pub-id-type="pmid">23415234</pub-id></element-citation></ref><ref id="bib7"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Basler</surname> <given-names>M</given-names></name><name><surname>Mekalanos</surname> <given-names>JJ</given-names></name></person-group><year iso-8601-date="2012">2012</year><article-title>Type 6 secretion dynamics within and between bacterial cells</article-title><source>Science</source><volume>337</volume><elocation-id>815</elocation-id><pub-id pub-id-type="doi">10.1126/science.1222901</pub-id><pub-id pub-id-type="pmid">22767897</pub-id></element-citation></ref><ref id="bib8"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Be'er</surname> <given-names>A</given-names></name><name><surname>Zhang</surname> <given-names>HP</given-names></name><name><surname>Florin</surname> <given-names>E-L</given-names></name><name><surname>Payne</surname> <given-names>SM</given-names></name><name><surname>Ben-Jacob</surname> <given-names>E</given-names></name><name><surname>Swinney</surname> <given-names>HL</given-names></name><name><surname>Be’er</surname> <given-names>A</given-names></name></person-group><year iso-8601-date="2009">2009</year><article-title>Deadly competition between sibling bacterial colonies</article-title><source>PNAS</source><volume>106</volume><fpage>428</fpage><lpage>433</lpage><pub-id pub-id-type="doi">10.1073/pnas.0811816106</pub-id></element-citation></ref><ref id="bib9"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Be'er</surname> <given-names>A</given-names></name><name><surname>Ariel</surname> <given-names>G</given-names></name><name><surname>Kalisman</surname> <given-names>O</given-names></name><name><surname>Helman</surname> <given-names>Y</given-names></name><name><surname>Sirota-Madi</surname> <given-names>A</given-names></name><name><surname>Zhang</surname> <given-names>HP</given-names></name><name><surname>Florin</surname> <given-names>EL</given-names></name><name><surname>Payne</surname> <given-names>SM</given-names></name><name><surname>Ben-Jacob</surname> <given-names>E</given-names></name><name><surname>Swinney</surname> <given-names>HL</given-names></name></person-group><year iso-8601-date="2010">2010</year><article-title>Lethal protein produced in response to competition between sibling bacterial colonies</article-title><source>PNAS</source><volume>107</volume><fpage>6258</fpage><lpage>6263</lpage><pub-id pub-id-type="doi">10.1073/pnas.1001062107</pub-id><pub-id pub-id-type="pmid">20308591</pub-id></element-citation></ref><ref id="bib10"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Bérdy</surname> <given-names>J</given-names></name></person-group><year iso-8601-date="2005">2005</year><article-title>Bioactive microbial metabolites</article-title><source>The Journal of Antibiotics</source><volume>58</volume><fpage>1</fpage><lpage>26</lpage><pub-id pub-id-type="doi">10.1038/ja.2005.1</pub-id><pub-id pub-id-type="pmid">15813176</pub-id></element-citation></ref><ref id="bib11"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Bernard</surname> <given-names>CS</given-names></name><name><surname>Brunet</surname> <given-names>YR</given-names></name><name><surname>Gueguen</surname> <given-names>E</given-names></name><name><surname>Cascales</surname> <given-names>E</given-names></name></person-group><year iso-8601-date="2010">2010</year><article-title>Nooks and crannies in type VI secretion regulation</article-title><source>Journal of Bacteriology</source><volume>192</volume><fpage>3850</fpage><lpage>3860</lpage><pub-id pub-id-type="doi">10.1128/JB.00370-10</pub-id><pub-id pub-id-type="pmid">20511495</pub-id></element-citation></ref><ref id="bib12"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Biernaskie</surname> <given-names>JM</given-names></name><name><surname>Gardner</surname> <given-names>A</given-names></name><name><surname>West</surname> <given-names>SA</given-names></name></person-group><year iso-8601-date="2013">2013</year><article-title>Multicoloured greenbeards, bacteriocin diversity and the rock-paper-scissors game</article-title><source>Journal of Evolutionary Biology</source><volume>26</volume><fpage>2081</fpage><lpage>2094</lpage><pub-id pub-id-type="doi">10.1111/jeb.12222</pub-id><pub-id pub-id-type="pmid">23980628</pub-id></element-citation></ref><ref id="bib13"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Boys</surname> <given-names>RJ</given-names></name><name><surname>Wilkinson</surname> <given-names>DJ</given-names></name><name><surname>Kirkwood</surname> <given-names>TBL</given-names></name></person-group><year iso-8601-date="2008">2008</year><article-title>Bayesian inference for a discretely observed stochastic kinetic model</article-title><source>Statistics and Computing</source><volume>18</volume><fpage>125</fpage><lpage>135</lpage><pub-id pub-id-type="doi">10.1007/s11222-007-9043-x</pub-id></element-citation></ref><ref id="bib14"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Brännström</surname> <given-names>Å</given-names></name><name><surname>Johansson</surname> <given-names>J</given-names></name><name><surname>von Festenberg</surname> <given-names>N</given-names></name></person-group><year iso-8601-date="2013">2013</year><article-title>The hitchhiker’s Guide to Adaptive Dynamics</article-title><source>Games</source><volume>4</volume><fpage>304</fpage><lpage>328</lpage><pub-id pub-id-type="doi">10.3390/g4030304</pub-id></element-citation></ref><ref id="bib15"><element-citation publication-type="book"><person-group person-group-type="author"><collab>Briffa M</collab></person-group><year iso-8601-date="2013">2013</year><source>Animal Contests</source><publisher-name>Cambridge University Press</publisher-name><pub-id pub-id-type="doi">10.1017/CBO9781139051248</pub-id></element-citation></ref><ref id="bib16"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Brown</surname> <given-names>SP</given-names></name><name><surname>Le Chat</surname> <given-names>L</given-names></name><name><surname>De Paepe</surname> <given-names>M</given-names></name><name><surname>Taddei</surname> <given-names>F</given-names></name></person-group><year iso-8601-date="2006">2006</year><article-title>Ecology of microbial invasions: amplification allows virus carriers to invade more rapidly when rare</article-title><source>Current Biology</source><volume>16</volume><fpage>2048</fpage><lpage>2052</lpage><pub-id pub-id-type="doi">10.1016/j.cub.2006.08.089</pub-id><pub-id pub-id-type="pmid">17055985</pub-id></element-citation></ref><ref id="bib17"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Bucci</surname> <given-names>V</given-names></name><name><surname>Nadell</surname> <given-names>CD</given-names></name><name><surname>Xavier</surname> <given-names>JB</given-names></name></person-group><year iso-8601-date="2011">2011</year><article-title>The evolution of bacteriocin production in bacterial biofilms</article-title><source>The American Naturalist</source><volume>178</volume><fpage>E162</fpage><lpage>E173</lpage><pub-id pub-id-type="doi">10.1086/662668</pub-id><pub-id pub-id-type="pmid">22089878</pub-id></element-citation></ref><ref id="bib18"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Cascales</surname> <given-names>E</given-names></name><name><surname>Buchanan</surname> <given-names>SK</given-names></name><name><surname>Duché</surname> <given-names>D</given-names></name><name><surname>Kleanthous</surname> <given-names>C</given-names></name><name><surname>Lloubès</surname> <given-names>R</given-names></name><name><surname>Postle</surname> <given-names>K</given-names></name><name><surname>Riley</surname> <given-names>M</given-names></name><name><surname>Slatin</surname> <given-names>S</given-names></name><name><surname>Cavard</surname> <given-names>D</given-names></name></person-group><year iso-8601-date="2007">2007</year><article-title>Colicin biology</article-title><source>Microbiology and Molecular Biology Reviews</source><volume>71</volume><fpage>158</fpage><lpage>229</lpage><pub-id pub-id-type="doi">10.1128/MMBR.00036-06</pub-id><pub-id pub-id-type="pmid">17347522</pub-id></element-citation></ref><ref id="bib19"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Chandler</surname> <given-names>JR</given-names></name><name><surname>Heilmann</surname> <given-names>S</given-names></name><name><surname>Mittler</surname> <given-names>JE</given-names></name><name><surname>Greenberg</surname> <given-names>EP</given-names></name></person-group><year iso-8601-date="2012">2012</year><article-title>Acyl-homoserine lactone-dependent eavesdropping promotes competition in a laboratory co-culture model</article-title><source>The ISME Journal</source><volume>6</volume><fpage>2219</fpage><lpage>2228</lpage><pub-id pub-id-type="doi">10.1038/ismej.2012.69</pub-id><pub-id pub-id-type="pmid">22763647</pub-id></element-citation></ref><ref id="bib20"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Chao</surname> <given-names>L</given-names></name><name><surname>Levin</surname> <given-names>BR</given-names></name></person-group><year iso-8601-date="1981">1981</year><article-title>Structured habitats and the evolution of anticompetitor toxins in Bacteria</article-title><source>PNAS</source><volume>78</volume><fpage>6324</fpage><lpage>6328</lpage><pub-id pub-id-type="doi">10.1073/pnas.78.10.6324</pub-id><pub-id pub-id-type="pmid">7031647</pub-id></element-citation></ref><ref id="bib21"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Chuang</surname> <given-names>JS</given-names></name><name><surname>Rivoire</surname> <given-names>O</given-names></name><name><surname>Leibler</surname> <given-names>S</given-names></name></person-group><year iso-8601-date="2009">2009</year><article-title>Simpson's paradox in a synthetic microbial system</article-title><source>Science</source><volume>323</volume><fpage>272</fpage><lpage>275</lpage><pub-id pub-id-type="doi">10.1126/science.1166739</pub-id><pub-id pub-id-type="pmid">19131632</pub-id></element-citation></ref><ref id="bib22"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Cordero</surname> <given-names>OX</given-names></name><name><surname>Wildschutte</surname> <given-names>H</given-names></name><name><surname>Kirkup</surname> <given-names>B</given-names></name><name><surname>Proehl</surname> <given-names>S</given-names></name><name><surname>Ngo</surname> <given-names>L</given-names></name><name><surname>Hussain</surname> <given-names>F</given-names></name><name><surname>Le Roux</surname> <given-names>F</given-names></name><name><surname>Mincer</surname> <given-names>T</given-names></name><name><surname>Polz</surname> <given-names>MF</given-names></name></person-group><year iso-8601-date="2012">2012</year><article-title>Ecological populations of Bacteria act as socially cohesive units of antibiotic production and resistance</article-title><source>Science</source><volume>337</volume><fpage>1228</fpage><lpage>1231</lpage><pub-id pub-id-type="doi">10.1126/science.1219385</pub-id><pub-id pub-id-type="pmid">22955834</pub-id></element-citation></ref><ref id="bib23"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Cornforth</surname> <given-names>DM</given-names></name><name><surname>Sumpter</surname> <given-names>DJ</given-names></name><name><surname>Brown</surname> <given-names>SP</given-names></name><name><surname>Brännström</surname> <given-names>Å</given-names></name></person-group><year iso-8601-date="2012">2012</year><article-title>Synergy and group size in microbial cooperation</article-title><source>The American Naturalist</source><volume>180</volume><fpage>296</fpage><lpage>305</lpage><pub-id pub-id-type="doi">10.1086/667193</pub-id><pub-id pub-id-type="pmid">22854073</pub-id></element-citation></ref><ref id="bib24"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Cornforth</surname> <given-names>DM</given-names></name><name><surname>Foster</surname> <given-names>KR</given-names></name></person-group><year iso-8601-date="2013">2013</year><article-title>Competition sensing: the social side of bacterial stress responses</article-title><source>Nature Reviews Microbiology</source><volume>11</volume><fpage>285</fpage><lpage>293</lpage><pub-id pub-id-type="doi">10.1038/nrmicro2977</pub-id><pub-id pub-id-type="pmid">23456045</pub-id></element-citation></ref><ref id="bib25"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Cotter</surname> <given-names>PA</given-names></name><name><surname>DiRita</surname> <given-names>VJ</given-names></name></person-group><year iso-8601-date="2000">2000</year><article-title>Bacterial virulence gene regulation: an evolutionary perspective</article-title><source>Annual Review of Microbiology</source><volume>54</volume><fpage>519</fpage><lpage>565</lpage><pub-id pub-id-type="doi">10.1146/annurev.micro.54.1.519</pub-id><pub-id pub-id-type="pmid">11018137</pub-id></element-citation></ref><ref id="bib26"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Coyte</surname> <given-names>KZ</given-names></name><name><surname>Schluter</surname> <given-names>J</given-names></name><name><surname>Foster</surname> <given-names>KR</given-names></name></person-group><year iso-8601-date="2015">2015</year><article-title>The ecology of the microbiome: networks, competition, and stability</article-title><source>Science</source><volume>350</volume><fpage>663</fpage><lpage>666</lpage><pub-id pub-id-type="doi">10.1126/science.aad2602</pub-id><pub-id pub-id-type="pmid">26542567</pub-id></element-citation></ref><ref id="bib27"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Cremer</surname> <given-names>J</given-names></name><name><surname>Melbinger</surname> <given-names>A</given-names></name><name><surname>Frey</surname> <given-names>E</given-names></name></person-group><year iso-8601-date="2012">2012</year><article-title>Growth dynamics and the evolution of cooperation in microbial populations</article-title><source>Scientific Reports</source><volume>2</volume><elocation-id>281</elocation-id><pub-id pub-id-type="doi">10.1038/srep00281</pub-id><pub-id pub-id-type="pmid">22355791</pub-id></element-citation></ref><ref id="bib28"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Czárán</surname> <given-names>TL</given-names></name><name><surname>Hoekstra</surname> <given-names>RF</given-names></name><name><surname>Pagie</surname> <given-names>L</given-names></name></person-group><year iso-8601-date="2002">2002</year><article-title>Chemical warfare between microbes promotes biodiversity</article-title><source>PNAS</source><volume>99</volume><fpage>786</fpage><lpage>790</lpage><pub-id pub-id-type="doi">10.1073/pnas.012399899</pub-id><pub-id pub-id-type="pmid">11792831</pub-id></element-citation></ref><ref id="bib29"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Eickhoff</surname> <given-names>MJ</given-names></name><name><surname>Bassler</surname> <given-names>BL</given-names></name></person-group><year iso-8601-date="2018">2018</year><article-title>SnapShot: bacterial quorum sensing</article-title><source>Cell</source><volume>174</volume><elocation-id>1328</elocation-id><pub-id pub-id-type="doi">10.1016/j.cell.2018.08.003</pub-id><pub-id pub-id-type="pmid">30142348</pub-id></element-citation></ref><ref id="bib30"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Enquist</surname> <given-names>M</given-names></name><name><surname>Leimar</surname> <given-names>O</given-names></name></person-group><year iso-8601-date="1990">1990</year><article-title>The evolution of fatal fighting</article-title><source>Animal Behaviour</source><volume>39</volume><fpage>1</fpage><lpage>9</lpage><pub-id pub-id-type="doi">10.1016/S0003-3472(05)80721-3</pub-id></element-citation></ref><ref id="bib31"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Fontaine</surname> <given-names>L</given-names></name><name><surname>Boutry</surname> <given-names>C</given-names></name><name><surname>Guédon</surname> <given-names>E</given-names></name><name><surname>Guillot</surname> <given-names>A</given-names></name><name><surname>Ibrahim</surname> <given-names>M</given-names></name><name><surname>Grossiord</surname> <given-names>B</given-names></name><name><surname>Hols</surname> <given-names>P</given-names></name></person-group><year iso-8601-date="2007">2007</year><article-title>Quorum-sensing regulation of the production of blp bacteriocins in Streptococcus thermophilus</article-title><source>Journal of Bacteriology</source><volume>189</volume><fpage>7195</fpage><lpage>7205</lpage><pub-id pub-id-type="doi">10.1128/JB.00966-07</pub-id><pub-id pub-id-type="pmid">17693498</pub-id></element-citation></ref><ref id="bib32"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Frank</surname> <given-names>SA</given-names></name></person-group><year iso-8601-date="1994">1994</year><article-title>Spatial polymorphism of bacteriocins and other allelopathic traits</article-title><source>Evolutionary Ecology</source><volume>8</volume><fpage>369</fpage><lpage>386</lpage><pub-id pub-id-type="doi">10.1007/BF01238189</pub-id></element-citation></ref><ref id="bib33"><element-citation publication-type="book"><person-group person-group-type="author"><name><surname>Freedman</surname> <given-names>L</given-names></name></person-group><year iso-8601-date="1989">1989</year><source>The Evolution of Nuclear Strategy</source><publisher-name>Springer International Publishing AG</publisher-name></element-citation></ref><ref id="bib34"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Fuqua</surname> <given-names>WC</given-names></name><name><surname>Winans</surname> <given-names>SC</given-names></name><name><surname>Greenberg</surname> <given-names>EP</given-names></name></person-group><year iso-8601-date="1994">1994</year><article-title>Quorum sensing in Bacteria: the LuxR-LuxI family of cell density-responsive transcriptional regulators</article-title><source>Journal of Bacteriology</source><volume>176</volume><fpage>269</fpage><lpage>275</lpage><pub-id pub-id-type="doi">10.1128/jb.176.2.269-275.1994</pub-id><pub-id pub-id-type="pmid">8288518</pub-id></element-citation></ref><ref id="bib35"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Gardner</surname> <given-names>A</given-names></name><name><surname>West</surname> <given-names>SA</given-names></name><name><surname>Buckling</surname> <given-names>A</given-names></name></person-group><year iso-8601-date="2004">2004</year><article-title>Bacteriocins, spite and virulence</article-title><source>Proceedings of the Royal Society of London. Series B: Biological Sciences</source><volume>271</volume><fpage>1529</fpage><lpage>1535</lpage><pub-id pub-id-type="doi">10.1098/rspb.2004.2756</pub-id></element-citation></ref><ref id="bib36"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Gardner</surname> <given-names>A</given-names></name><name><surname>West</surname> <given-names>SA</given-names></name><name><surname>Griffin</surname> <given-names>AS</given-names></name></person-group><year iso-8601-date="2007">2007</year><article-title>Is bacterial persistence a social trait?</article-title><source>PLOS ONE</source><volume>2</volume><elocation-id>e752</elocation-id><pub-id pub-id-type="doi">10.1371/journal.pone.0000752</pub-id><pub-id pub-id-type="pmid">17710151</pub-id></element-citation></ref><ref id="bib37"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Ghazaryan</surname> <given-names>L</given-names></name><name><surname>Tonoyan</surname> <given-names>L</given-names></name><name><surname>Ashhab</surname> <given-names>AA</given-names></name><name><surname>Soares</surname> <given-names>MI</given-names></name><name><surname>Gillor</surname> <given-names>O</given-names></name></person-group><year iso-8601-date="2014">2014</year><article-title>The role of stress in colicin regulation</article-title><source>Archives of Microbiology</source><volume>196</volume><fpage>753</fpage><lpage>764</lpage><pub-id pub-id-type="doi">10.1007/s00203-014-1017-8</pub-id><pub-id pub-id-type="pmid">25048159</pub-id></element-citation></ref><ref id="bib38"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Ghequire</surname> <given-names>MG</given-names></name><name><surname>De Mot</surname> <given-names>R</given-names></name></person-group><year iso-8601-date="2014">2014</year><article-title>Ribosomally encoded antibacterial proteins and peptides from Pseudomonas</article-title><source>FEMS Microbiology Reviews</source><volume>38</volume><fpage>523</fpage><lpage>568</lpage><pub-id pub-id-type="doi">10.1111/1574-6976.12079</pub-id><pub-id pub-id-type="pmid">24923764</pub-id></element-citation></ref><ref id="bib39"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Gillor</surname> <given-names>O</given-names></name><name><surname>Vriezen</surname> <given-names>JAC</given-names></name><name><surname>Riley</surname> <given-names>MA</given-names></name></person-group><year iso-8601-date="2008">2008</year><article-title>The role of SOS boxes in enteric bacteriocin regulation</article-title><source>Microbiology</source><volume>154</volume><fpage>1783</fpage><lpage>1792</lpage><pub-id pub-id-type="doi">10.1099/mic.0.2007/016139-0</pub-id><pub-id pub-id-type="pmid">18524933</pub-id></element-citation></ref><ref id="bib40"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Gillor</surname> <given-names>O</given-names></name><name><surname>Giladi</surname> <given-names>I</given-names></name><name><surname>Riley</surname> <given-names>MA</given-names></name></person-group><year iso-8601-date="2009">2009</year><article-title>Persistence of colicinogenic <italic>Escherichia coli</italic> in the mouse gastrointestinal tract</article-title><source>BMC Microbiology</source><volume>9</volume><elocation-id>165</elocation-id><pub-id pub-id-type="doi">10.1186/1471-2180-9-165</pub-id><pub-id pub-id-type="pmid">19674447</pub-id></element-citation></ref><ref id="bib41"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Gonzalez</surname> <given-names>D</given-names></name><name><surname>Sabnis</surname> <given-names>A</given-names></name><name><surname>Foster</surname> <given-names>KR</given-names></name><name><surname>Mavridou</surname> <given-names>DAI</given-names></name></person-group><year iso-8601-date="2018">2018</year><article-title>Costs and benefits of provocation in bacterial warfare</article-title><source>PNAS</source><volume>115</volume><fpage>7593</fpage><lpage>7598</lpage><pub-id pub-id-type="doi">10.1073/pnas.1801028115</pub-id><pub-id pub-id-type="pmid">29967163</pub-id></element-citation></ref><ref id="bib42"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Gordon</surname> <given-names>DM</given-names></name><name><surname>Riley</surname> <given-names>MA</given-names></name><name><surname>Pinou</surname> <given-names>T</given-names></name></person-group><year iso-8601-date="1998">1998</year><article-title>Temporal changes in the frequency of colicinogeny in <italic>Escherichia coli</italic> from house mice</article-title><source>Microbiology</source><volume>144 (Pt 8)</volume><fpage>2233</fpage><lpage>2240</lpage><pub-id pub-id-type="doi">10.1099/00221287-144-8-2233</pub-id><pub-id pub-id-type="pmid">9720045</pub-id></element-citation></ref><ref id="bib43"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Gordon</surname> <given-names>DM</given-names></name><name><surname>Riley</surname> <given-names>MA</given-names></name></person-group><year iso-8601-date="1999">1999</year><article-title>A theoretical and empirical investigation of the invasion dynamics of colicinogeny</article-title><source>Microbiology</source><volume>145 (Pt 3)</volume><fpage>655</fpage><lpage>661</lpage><pub-id pub-id-type="doi">10.1099/13500872-145-3-655</pub-id><pub-id pub-id-type="pmid">10217499</pub-id></element-citation></ref><ref id="bib44"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Granato</surname> <given-names>ET</given-names></name><name><surname>Meiller-Legrand</surname> <given-names>TA</given-names></name><name><surname>Foster</surname> <given-names>KR</given-names></name></person-group><year iso-8601-date="2019">2019</year><article-title>The evolution and ecology of bacterial warfare</article-title><source>Current Biology</source><volume>29</volume><fpage>R521</fpage><lpage>R537</lpage><pub-id pub-id-type="doi">10.1016/j.cub.2019.04.024</pub-id><pub-id pub-id-type="pmid">31163166</pub-id></element-citation></ref><ref id="bib45"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Gutiérrez</surname> <given-names>R</given-names></name><name><surname>Rosales</surname> <given-names>MJ</given-names></name></person-group><year iso-8601-date="1998">1998</year><article-title>Diffusion approximations for lotka – volterra type models</article-title><source>Communications in Statistics. Stochastic Models</source><volume>14</volume><fpage>809</fpage><lpage>832</lpage><pub-id pub-id-type="doi">10.1080/15326349808807502</pub-id></element-citation></ref><ref id="bib46"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Hayes</surname> <given-names>CS</given-names></name><name><surname>Aoki</surname> <given-names>SK</given-names></name><name><surname>Low</surname> <given-names>DA</given-names></name></person-group><year iso-8601-date="2010">2010</year><article-title>Bacterial contact-dependent delivery systems</article-title><source>Annual Review of Genetics</source><volume>44</volume><fpage>71</fpage><lpage>90</lpage><pub-id pub-id-type="doi">10.1146/annurev.genet.42.110807.091449</pub-id><pub-id pub-id-type="pmid">21047256</pub-id></element-citation></ref><ref id="bib47"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Heilmann</surname> <given-names>S</given-names></name><name><surname>Krishna</surname> <given-names>S</given-names></name><name><surname>Kerr</surname> <given-names>B</given-names></name></person-group><year iso-8601-date="2015">2015</year><article-title>Why do Bacteria regulate public goods by quorum sensing?-How the shapes of cost and benefit functions determine the form of optimal regulation</article-title><source>Frontiers in Microbiology</source><volume>6</volume><elocation-id>767</elocation-id><pub-id pub-id-type="doi">10.3389/fmicb.2015.00767</pub-id><pub-id pub-id-type="pmid">26284049</pub-id></element-citation></ref><ref id="bib48"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Hesketh</surname> <given-names>A</given-names></name><name><surname>Chen</surname> <given-names>WJ</given-names></name><name><surname>Ryding</surname> <given-names>J</given-names></name><name><surname>Chang</surname> <given-names>S</given-names></name><name><surname>Bibb</surname> <given-names>M</given-names></name></person-group><year iso-8601-date="2007">2007</year><article-title>The global role of ppGpp synthesis in morphological differentiation and antibiotic production in Streptomyces coelicolor A3(2)</article-title><source>Genome Biology</source><volume>8</volume><elocation-id>R161</elocation-id><pub-id pub-id-type="doi">10.1186/gb-2007-8-8-r161</pub-id><pub-id pub-id-type="pmid">17683547</pub-id></element-citation></ref><ref id="bib49"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Hesketh</surname> <given-names>A</given-names></name><name><surname>Hill</surname> <given-names>C</given-names></name><name><surname>Mokhtar</surname> <given-names>J</given-names></name><name><surname>Novotna</surname> <given-names>G</given-names></name><name><surname>Tran</surname> <given-names>N</given-names></name><name><surname>Bibb</surname> <given-names>M</given-names></name><name><surname>Hong</surname> <given-names>HJ</given-names></name></person-group><year iso-8601-date="2011">2011</year><article-title>Genome-wide dynamics of a bacterial response to antibiotics that target the cell envelope</article-title><source>BMC Genomics</source><volume>12</volume><elocation-id>226</elocation-id><pub-id pub-id-type="doi">10.1186/1471-2164-12-226</pub-id><pub-id pub-id-type="pmid">21569315</pub-id></element-citation></ref><ref id="bib50"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Hibbing</surname> <given-names>ME</given-names></name><name><surname>Fuqua</surname> <given-names>C</given-names></name><name><surname>Parsek</surname> <given-names>MR</given-names></name><name><surname>Peterson</surname> <given-names>SB</given-names></name></person-group><year iso-8601-date="2010">2010</year><article-title>Bacterial competition: surviving and thriving in the microbial jungle</article-title><source>Nature Reviews Microbiology</source><volume>8</volume><fpage>15</fpage><lpage>25</lpage><pub-id pub-id-type="doi">10.1038/nrmicro2259</pub-id><pub-id pub-id-type="pmid">19946288</pub-id></element-citation></ref><ref id="bib51"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Ho</surname> <given-names>BT</given-names></name><name><surname>Dong</surname> <given-names>TG</given-names></name><name><surname>Mekalanos</surname> <given-names>JJ</given-names></name></person-group><year iso-8601-date="2014">2014</year><article-title>A view to a kill: the bacterial type VI secretion system</article-title><source>Cell Host &amp; Microbe</source><volume>15</volume><fpage>9</fpage><lpage>21</lpage><pub-id pub-id-type="doi">10.1016/j.chom.2013.11.008</pub-id><pub-id pub-id-type="pmid">24332978</pub-id></element-citation></ref><ref id="bib52"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Hockett</surname> <given-names>KL</given-names></name><name><surname>Renner</surname> <given-names>T</given-names></name><name><surname>Baltrus</surname> <given-names>DA</given-names></name></person-group><year iso-8601-date="2015">2015</year><article-title>Independent Co-Option of a tailed bacteriophage into a killing complex in Pseudomonas</article-title><source>mBio</source><volume>6</volume><elocation-id>e00452</elocation-id><pub-id pub-id-type="doi">10.1128/mBio.00452-15</pub-id><pub-id pub-id-type="pmid">26265717</pub-id></element-citation></ref><ref id="bib53"><element-citation publication-type="book"><person-group person-group-type="author"><name><surname>Hofbauer</surname> <given-names>J</given-names></name><name><surname>Sigmund</surname> <given-names>K</given-names></name></person-group><year iso-8601-date="1998">1998</year><source>Evolutionary Games and Population Dynamics</source><publisher-name>Cambridge University Press</publisher-name><pub-id pub-id-type="doi">10.1017/CBO9781139173179</pub-id></element-citation></ref><ref id="bib54"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Hood</surname> <given-names>RD</given-names></name><name><surname>Singh</surname> <given-names>P</given-names></name><name><surname>Hsu</surname> <given-names>F</given-names></name><name><surname>Güvener</surname> <given-names>T</given-names></name><name><surname>Carl</surname> <given-names>MA</given-names></name><name><surname>Trinidad</surname> <given-names>RR</given-names></name><name><surname>Silverman</surname> <given-names>JM</given-names></name><name><surname>Ohlson</surname> <given-names>BB</given-names></name><name><surname>Hicks</surname> <given-names>KG</given-names></name><name><surname>Plemel</surname> <given-names>RL</given-names></name><name><surname>Li</surname> <given-names>M</given-names></name><name><surname>Schwarz</surname> <given-names>S</given-names></name><name><surname>Wang</surname> <given-names>WY</given-names></name><name><surname>Merz</surname> <given-names>AJ</given-names></name><name><surname>Goodlett</surname> <given-names>DR</given-names></name><name><surname>Mougous</surname> <given-names>JD</given-names></name></person-group><year iso-8601-date="2010">2010</year><article-title>A type VI secretion system of <italic>Pseudomonas aeruginosa</italic> targets a toxin to Bacteria</article-title><source>Cell Host &amp; Microbe</source><volume>7</volume><fpage>25</fpage><lpage>37</lpage><pub-id pub-id-type="doi">10.1016/j.chom.2009.12.007</pub-id><pub-id pub-id-type="pmid">20114026</pub-id></element-citation></ref><ref id="bib55"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Inaoka</surname> <given-names>T</given-names></name><name><surname>Takahashi</surname> <given-names>K</given-names></name><name><surname>Ohnishi-Kameyama</surname> <given-names>M</given-names></name><name><surname>Yoshida</surname> <given-names>M</given-names></name><name><surname>Ochi</surname> <given-names>K</given-names></name></person-group><year iso-8601-date="2003">2003</year><article-title>Guanine nucleotides guanosine 5'-diphosphate 3'-diphosphate and GTP co-operatively regulate the production of an antibiotic bacilysin in <italic>Bacillus subtilis</italic></article-title><source>Journal of Biological Chemistry</source><volume>278</volume><fpage>2169</fpage><lpage>2176</lpage><pub-id pub-id-type="doi">10.1074/jbc.M208722200</pub-id><pub-id pub-id-type="pmid">12372825</pub-id></element-citation></ref><ref id="bib56"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Inglis</surname> <given-names>RF</given-names></name><name><surname>Gardner</surname> <given-names>A</given-names></name><name><surname>Cornelis</surname> <given-names>P</given-names></name><name><surname>Buckling</surname> <given-names>A</given-names></name></person-group><year iso-8601-date="2009">2009</year><article-title>Spite and virulence in the bacterium <italic>Pseudomonas aeruginosa</italic></article-title><source>PNAS</source><volume>106</volume><fpage>5703</fpage><lpage>5707</lpage><pub-id pub-id-type="doi">10.1073/pnas.0810850106</pub-id><pub-id pub-id-type="pmid">19321425</pub-id></element-citation></ref><ref id="bib57"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Jamet</surname> <given-names>A</given-names></name><name><surname>Nassif</surname> <given-names>X</given-names></name></person-group><year iso-8601-date="2015">2015</year><article-title>New players in the toxin field: polymorphic toxin systems in Bacteria</article-title><source>mBio</source><volume>6</volume><elocation-id>e00285-15</elocation-id><pub-id pub-id-type="doi">10.1128/mBio.00285-15</pub-id><pub-id pub-id-type="pmid">25944858</pub-id></element-citation></ref><ref id="bib58"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Janion</surname> <given-names>C</given-names></name></person-group><year iso-8601-date="2008">2008</year><article-title>Inducible SOS response system of DNA repair and mutagenesis in <italic>Escherichia coli</italic></article-title><source>International Journal of Biological Sciences</source><volume>4</volume><fpage>338</fpage><lpage>344</lpage><pub-id pub-id-type="doi">10.7150/ijbs.4.338</pub-id><pub-id pub-id-type="pmid">18825275</pub-id></element-citation></ref><ref id="bib59"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Kelsic</surname> <given-names>ED</given-names></name><name><surname>Zhao</surname> <given-names>J</given-names></name><name><surname>Vetsigian</surname> <given-names>K</given-names></name><name><surname>Kishony</surname> <given-names>R</given-names></name></person-group><year iso-8601-date="2015">2015</year><article-title>Counteraction of antibiotic production and degradation stabilizes microbial communities</article-title><source>Nature</source><volume>521</volume><fpage>516</fpage><lpage>519</lpage><pub-id pub-id-type="doi">10.1038/nature14485</pub-id><pub-id pub-id-type="pmid">25992546</pub-id></element-citation></ref><ref id="bib60"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Kerr</surname> <given-names>B</given-names></name><name><surname>Riley</surname> <given-names>MA</given-names></name><name><surname>Feldman</surname> <given-names>MW</given-names></name><name><surname>Bohannan</surname> <given-names>BJ</given-names></name></person-group><year iso-8601-date="2002">2002</year><article-title>Local dispersal promotes biodiversity in a real-life game of rock-paper-scissors</article-title><source>Nature</source><volume>418</volume><fpage>171</fpage><lpage>174</lpage><pub-id pub-id-type="doi">10.1038/nature00823</pub-id><pub-id pub-id-type="pmid">12110887</pub-id></element-citation></ref><ref id="bib61"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Kim</surname> <given-names>W</given-names></name><name><surname>Racimo</surname> <given-names>F</given-names></name><name><surname>Schluter</surname> <given-names>J</given-names></name><name><surname>Levy</surname> <given-names>SB</given-names></name><name><surname>Foster</surname> <given-names>KR</given-names></name></person-group><year iso-8601-date="2014">2014</year><article-title>Importance of positioning for microbial evolution</article-title><source>PNAS</source><volume>111</volume><fpage>E1639</fpage><lpage>E1647</lpage><pub-id pub-id-type="doi">10.1073/pnas.1323632111</pub-id><pub-id pub-id-type="pmid">24715732</pub-id></element-citation></ref><ref id="bib62"><element-citation publication-type="book"><person-group person-group-type="author"><name><surname>Kokko</surname> <given-names>H</given-names></name></person-group><year iso-8601-date="2013">2013</year><chapter-title>Dyadic contests: modelling fights between two individuals</chapter-title><person-group person-group-type="editor"><name><surname>Hardy</surname> <given-names>I. C. W</given-names></name><name><surname>Briffa</surname> <given-names>M</given-names></name></person-group><source>Animal Contests</source><publisher-name>Cambridge University Press</publisher-name><fpage>5</fpage><lpage>32</lpage><pub-id pub-id-type="doi">10.1017/CBO9781139051248.004</pub-id></element-citation></ref><ref id="bib63"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Kommineni</surname> <given-names>S</given-names></name><name><surname>Bretl</surname> <given-names>DJ</given-names></name><name><surname>Lam</surname> <given-names>V</given-names></name><name><surname>Chakraborty</surname> <given-names>R</given-names></name><name><surname>Hayward</surname> <given-names>M</given-names></name><name><surname>Simpson</surname> <given-names>P</given-names></name><name><surname>Cao</surname> <given-names>Y</given-names></name><name><surname>Bousounis</surname> <given-names>P</given-names></name><name><surname>Kristich</surname> <given-names>CJ</given-names></name><name><surname>Salzman</surname> <given-names>NH</given-names></name></person-group><year iso-8601-date="2015">2015</year><article-title>Bacteriocin production augments niche competition by enterococci in the mammalian gastrointestinal tract</article-title><source>Nature</source><volume>526</volume><fpage>719</fpage><lpage>722</lpage><pub-id pub-id-type="doi">10.1038/nature15524</pub-id><pub-id pub-id-type="pmid">26479034</pub-id></element-citation></ref><ref id="bib64"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Krishna Kumar</surname> <given-names>R</given-names></name><name><surname>Meiller-Legrand</surname> <given-names>TA</given-names></name><name><surname>Alcinesio</surname> <given-names>A</given-names></name><name><surname>Gonzalez</surname> <given-names>D</given-names></name><name><surname>Mavridou</surname> <given-names>DAI</given-names></name><name><surname>Meacock</surname> <given-names>OJ</given-names></name><name><surname>Smith</surname> <given-names>WPJ</given-names></name><name><surname>Zhou</surname> <given-names>L</given-names></name><name><surname>Kim</surname> <given-names>W</given-names></name><name><surname>Pulcu</surname> <given-names>GS</given-names></name><name><surname>Bayley</surname> <given-names>H</given-names></name><name><surname>Foster</surname> <given-names>KR</given-names></name></person-group><year iso-8601-date="2021">2021</year><article-title>Droplet printing reveals the importance of micron-scale structure for bacterial ecology</article-title><source>Nature Communications</source><volume>12</volume><elocation-id>857</elocation-id><pub-id pub-id-type="doi">10.1038/s41467-021-20996-w</pub-id><pub-id pub-id-type="pmid">33558498</pub-id></element-citation></ref><ref id="bib65"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Kümmerli</surname> <given-names>R</given-names></name><name><surname>Brown</surname> <given-names>SP</given-names></name></person-group><year iso-8601-date="2010">2010</year><article-title>Molecular and regulatory properties of a public good shape the evolution of cooperation</article-title><source>PNAS</source><volume>107</volume><fpage>18921</fpage><lpage>18926</lpage><pub-id pub-id-type="doi">10.1073/pnas.1011154107</pub-id><pub-id pub-id-type="pmid">20944065</pub-id></element-citation></ref><ref id="bib66"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>LeRoux</surname> <given-names>M</given-names></name><name><surname>Kirkpatrick</surname> <given-names>RL</given-names></name><name><surname>Montauti</surname> <given-names>EI</given-names></name><name><surname>Tran</surname> <given-names>BQ</given-names></name><name><surname>Peterson</surname> <given-names>SB</given-names></name><name><surname>Harding</surname> <given-names>BN</given-names></name><name><surname>Whitney</surname> <given-names>JC</given-names></name><name><surname>Russell</surname> <given-names>AB</given-names></name><name><surname>Traxler</surname> <given-names>B</given-names></name><name><surname>Goo</surname> <given-names>YA</given-names></name><name><surname>Goodlett</surname> <given-names>DR</given-names></name><name><surname>Wiggins</surname> <given-names>PA</given-names></name><name><surname>Mougous</surname> <given-names>JD</given-names></name></person-group><year iso-8601-date="2015">2015a</year><article-title>Kin cell lysis is a danger signal that activates antibacterial pathways of <italic>Pseudomonas aeruginosa</italic></article-title><source>eLife</source><volume>4</volume><elocation-id>e05701</elocation-id><pub-id pub-id-type="doi">10.7554/eLife.05701</pub-id></element-citation></ref><ref id="bib67"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>LeRoux</surname> <given-names>M</given-names></name><name><surname>Peterson</surname> <given-names>SB</given-names></name><name><surname>Mougous</surname> <given-names>JD</given-names></name></person-group><year iso-8601-date="2015">2015b</year><article-title>Bacterial danger sensing</article-title><source>Journal of Molecular Biology</source><volume>427</volume><fpage>3744</fpage><lpage>3753</lpage><pub-id pub-id-type="doi">10.1016/j.jmb.2015.09.018</pub-id><pub-id pub-id-type="pmid">26434507</pub-id></element-citation></ref><ref id="bib68"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Levin</surname> <given-names>BR</given-names></name></person-group><year iso-8601-date="1988">1988</year><article-title>Frequency-Dependent selection in bacterial populations</article-title><source>Philosophical Transactions of the Royal Society of London. Series B, Biological Sciences</source><volume>319</volume><fpage>459</fpage><lpage>472</lpage><pub-id pub-id-type="doi">10.1098/rstb.1988.0059</pub-id><pub-id pub-id-type="pmid">2905487</pub-id></element-citation></ref><ref id="bib69"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Lewis</surname> <given-names>K</given-names></name></person-group><year iso-8601-date="2013">2013</year><article-title>Platforms for antibiotic discovery</article-title><source>Nature Reviews Drug Discovery</source><volume>12</volume><fpage>371</fpage><lpage>387</lpage><pub-id pub-id-type="doi">10.1038/nrd3975</pub-id><pub-id pub-id-type="pmid">23629505</pub-id></element-citation></ref><ref id="bib70"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Liu</surname> <given-names>X</given-names></name><name><surname>Chen</surname> <given-names>L</given-names></name></person-group><year iso-8601-date="2003">2003</year><article-title>Complex dynamics of Holling type II Lotka–Volterra predator–prey system with impulsive perturbations on the predator☆</article-title><source>Chaos, Solitons &amp; Fractals</source><volume>16</volume><fpage>311</fpage><lpage>320</lpage><pub-id pub-id-type="doi">10.1016/S0960-0779(02)00408-3</pub-id></element-citation></ref><ref id="bib71"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Lories</surname> <given-names>B</given-names></name><name><surname>Roberfroid</surname> <given-names>S</given-names></name><name><surname>Dieltjens</surname> <given-names>L</given-names></name><name><surname>De Coster</surname> <given-names>D</given-names></name><name><surname>Foster</surname> <given-names>KR</given-names></name><name><surname>Steenackers</surname> <given-names>HP</given-names></name></person-group><year iso-8601-date="2020">2020</year><article-title>Biofilm Bacteria use stress responses to detect and respond to competitors</article-title><source>Current Biology</source><volume>30</volume><fpage>1231</fpage><lpage>1244</lpage><pub-id pub-id-type="doi">10.1016/j.cub.2020.01.065</pub-id><pub-id pub-id-type="pmid">32084407</pub-id></element-citation></ref><ref id="bib72"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Ma</surname> <given-names>LS</given-names></name><name><surname>Hachani</surname> <given-names>A</given-names></name><name><surname>Lin</surname> <given-names>JS</given-names></name><name><surname>Filloux</surname> <given-names>A</given-names></name><name><surname>Lai</surname> <given-names>EM</given-names></name></person-group><year iso-8601-date="2014">2014</year><article-title>Agrobacterium tumefaciens deploys a superfamily of type VI secretion DNase effectors as weapons for interbacterial competition in planta</article-title><source>Cell Host &amp; Microbe</source><volume>16</volume><fpage>94</fpage><lpage>104</lpage><pub-id pub-id-type="doi">10.1016/j.chom.2014.06.002</pub-id><pub-id pub-id-type="pmid">24981331</pub-id></element-citation></ref><ref id="bib73"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Majeed</surname> <given-names>H</given-names></name><name><surname>Gillor</surname> <given-names>O</given-names></name><name><surname>Kerr</surname> <given-names>B</given-names></name><name><surname>Riley</surname> <given-names>MA</given-names></name></person-group><year iso-8601-date="2011">2011</year><article-title>Competitive interactions in <italic>Escherichia coli</italic> populations: the role of bacteriocins</article-title><source>The ISME Journal</source><volume>5</volume><fpage>71</fpage><lpage>81</lpage><pub-id pub-id-type="doi">10.1038/ismej.2010.90</pub-id><pub-id pub-id-type="pmid">20664553</pub-id></element-citation></ref><ref id="bib74"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Maldonado</surname> <given-names>A</given-names></name><name><surname>Ruiz-Barba</surname> <given-names>JL</given-names></name><name><surname>Jiménez-Díaz</surname> <given-names>R</given-names></name></person-group><year iso-8601-date="2003">2003</year><article-title>Purification and genetic characterization of plantaricin NC8, a novel coculture-inducible two-peptide bacteriocin from Lactobacillus plantarum NC8</article-title><source>Applied and Environmental Microbiology</source><volume>69</volume><fpage>383</fpage><lpage>389</lpage><pub-id pub-id-type="doi">10.1128/AEM.69.1.383-389.2003</pub-id><pub-id pub-id-type="pmid">12514019</pub-id></element-citation></ref><ref id="bib75"><element-citation publication-type="software"><person-group person-group-type="author"><collab>MATLAB</collab></person-group><year iso-8601-date="2018">2018</year><source>MATLAB</source><version designator="9.5.0.944444 (R2018b)">9.5.0.944444 (R2018b)</version><ext-link ext-link-type="uri" xlink:href="https://www.mathworks.com/products/new_products/release2018b.html">https://www.mathworks.com/products/new_products/release2018b.html</ext-link></element-citation></ref><ref id="bib76"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Mavridou</surname> <given-names>DAI</given-names></name><name><surname>Gonzalez</surname> <given-names>D</given-names></name><name><surname>Kim</surname> <given-names>W</given-names></name><name><surname>West</surname> <given-names>SA</given-names></name><name><surname>Foster</surname> <given-names>KR</given-names></name></person-group><year iso-8601-date="2018">2018</year><article-title>Bacteria use collective behavior to generate diverse combat strategies</article-title><source>Current Biology</source><volume>28</volume><fpage>345</fpage><lpage>355</lpage><pub-id pub-id-type="doi">10.1016/j.cub.2017.12.030</pub-id><pub-id pub-id-type="pmid">29395918</pub-id></element-citation></ref><ref id="bib77"><element-citation publication-type="book"><person-group person-group-type="author"><name><surname>Maynard Smith</surname> <given-names>J</given-names></name></person-group><year iso-8601-date="1982">1982</year><source>Evolution and the Theory of Games</source><publisher-name>Cambridge University Press</publisher-name><pub-id pub-id-type="doi">10.1017/CBO9780511806292</pub-id></element-citation></ref><ref id="bib78"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Maynard Smith</surname> <given-names>J</given-names></name><name><surname>Price</surname> <given-names>GR</given-names></name></person-group><year iso-8601-date="1973">1973</year><article-title>The logic of animal conflict</article-title><source>Nature</source><volume>246</volume><fpage>15</fpage><lpage>18</lpage><pub-id pub-id-type="doi">10.1038/246015a0</pub-id></element-citation></ref><ref id="bib79"><element-citation publication-type="book"><person-group person-group-type="author"><name><surname>McElreath</surname> <given-names>R</given-names></name><name><surname>Boyd</surname> <given-names>R</given-names></name></person-group><year iso-8601-date="2013">2013</year><source>Mathematical Models of Social Evolution</source><publisher-loc>Chicago</publisher-loc><publisher-name>University of Chicago Press</publisher-name><pub-id pub-id-type="doi">10.7208/chicago/9780226558288.001.0001</pub-id></element-citation></ref><ref id="bib80"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>McNally</surname> <given-names>L</given-names></name><name><surname>Bernardy</surname> <given-names>E</given-names></name><name><surname>Thomas</surname> <given-names>J</given-names></name><name><surname>Kalziqi</surname> <given-names>A</given-names></name><name><surname>Pentz</surname> <given-names>J</given-names></name><name><surname>Brown</surname> <given-names>SP</given-names></name><name><surname>Hammer</surname> <given-names>BK</given-names></name><name><surname>Yunker</surname> <given-names>PJ</given-names></name><name><surname>Ratcliff</surname> <given-names>WC</given-names></name></person-group><year iso-8601-date="2017">2017</year><article-title>Killing by type VI secretion drives genetic phase separation and correlates with increased cooperation</article-title><source>Nature Communications</source><volume>8</volume><elocation-id>14371</elocation-id><pub-id pub-id-type="doi">10.1038/ncomms14371</pub-id><pub-id pub-id-type="pmid">28165005</pub-id></element-citation></ref><ref id="bib81"><element-citation publication-type="book"><person-group person-group-type="author"><name><surname>Melanie</surname> <given-names>M</given-names></name></person-group><year iso-8601-date="1996">1996</year><source>An Introduction to Genetic Algorithms</source><publisher-name>MIT Press</publisher-name></element-citation></ref><ref id="bib82"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Michel-Briand</surname> <given-names>Y</given-names></name><name><surname>Baysse</surname> <given-names>C</given-names></name></person-group><year iso-8601-date="2002">2002</year><article-title>The pyocins of <italic>Pseudomonas aeruginosa</italic></article-title><source>Biochimie</source><volume>84</volume><fpage>499</fpage><lpage>510</lpage><pub-id pub-id-type="doi">10.1016/S0300-9084(02)01422-0</pub-id><pub-id pub-id-type="pmid">12423794</pub-id></element-citation></ref><ref id="bib83"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Mitri</surname> <given-names>S</given-names></name><name><surname>Xavier</surname> <given-names>JB</given-names></name><name><surname>Foster</surname> <given-names>KR</given-names></name></person-group><year iso-8601-date="2011">2011</year><article-title>Social evolution in multispecies biofilms</article-title><source>PNAS</source><volume>108 Suppl 2</volume><fpage>10839</fpage><lpage>10846</lpage><pub-id pub-id-type="doi">10.1073/pnas.1100292108</pub-id><pub-id pub-id-type="pmid">21690380</pub-id></element-citation></ref><ref id="bib84"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Miyata</surname> <given-names>ST</given-names></name><name><surname>Bachmann</surname> <given-names>V</given-names></name><name><surname>Pukatzki</surname> <given-names>S</given-names></name></person-group><year iso-8601-date="2013">2013</year><article-title>Type VI secretion system regulation as a consequence of evolutionary pressure</article-title><source>Journal of Medical Microbiology</source><volume>62</volume><fpage>663</fpage><lpage>676</lpage><pub-id pub-id-type="doi">10.1099/jmm.0.053983-0</pub-id><pub-id pub-id-type="pmid">23429693</pub-id></element-citation></ref><ref id="bib85"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Mougi</surname> <given-names>A</given-names></name><name><surname>Kondoh</surname> <given-names>M</given-names></name></person-group><year iso-8601-date="2012">2012</year><article-title>Diversity of interaction types and ecological community stability</article-title><source>Science</source><volume>337</volume><fpage>349</fpage><lpage>351</lpage><pub-id pub-id-type="doi">10.1126/science.1220529</pub-id><pub-id pub-id-type="pmid">22822151</pub-id></element-citation></ref><ref id="bib86"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Nadell</surname> <given-names>CD</given-names></name><name><surname>Xavier</surname> <given-names>JB</given-names></name><name><surname>Levin</surname> <given-names>SA</given-names></name><name><surname>Foster</surname> <given-names>KR</given-names></name></person-group><year iso-8601-date="2008">2008</year><article-title>The evolution of quorum sensing in bacterial biofilms</article-title><source>PLOS Biology</source><volume>6</volume><elocation-id>e14</elocation-id><pub-id pub-id-type="doi">10.1371/journal.pbio.0060014</pub-id><pub-id pub-id-type="pmid">18232735</pub-id></element-citation></ref><ref id="bib87"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Nadell</surname> <given-names>CD</given-names></name><name><surname>Foster</surname> <given-names>KR</given-names></name><name><surname>Xavier</surname> <given-names>JB</given-names></name></person-group><year iso-8601-date="2010">2010</year><article-title>Emergence of spatial structure in cell groups and the evolution of cooperation</article-title><source>PLOS Computational Biology</source><volume>6</volume><elocation-id>e1000716</elocation-id><pub-id pub-id-type="doi">10.1371/journal.pcbi.1000716</pub-id><pub-id pub-id-type="pmid">20333237</pub-id></element-citation></ref><ref id="bib88"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Nadell</surname> <given-names>CD</given-names></name><name><surname>Drescher</surname> <given-names>K</given-names></name><name><surname>Foster</surname> <given-names>KR</given-names></name></person-group><year iso-8601-date="2016">2016</year><article-title>Spatial structure, cooperation and competition in biofilms</article-title><source>Nature Reviews Microbiology</source><volume>14</volume><fpage>589</fpage><lpage>600</lpage><pub-id pub-id-type="doi">10.1038/nrmicro.2016.84</pub-id><pub-id pub-id-type="pmid">27452230</pub-id></element-citation></ref><ref id="bib89"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Nakatsuji</surname> <given-names>T</given-names></name><name><surname>Chen</surname> <given-names>TH</given-names></name><name><surname>Narala</surname> <given-names>S</given-names></name><name><surname>Chun</surname> <given-names>KA</given-names></name><name><surname>Two</surname> <given-names>AM</given-names></name><name><surname>Yun</surname> <given-names>T</given-names></name><name><surname>Shafiq</surname> <given-names>F</given-names></name><name><surname>Kotol</surname> <given-names>PF</given-names></name><name><surname>Bouslimani</surname> <given-names>A</given-names></name><name><surname>Melnik</surname> <given-names>AV</given-names></name><name><surname>Latif</surname> <given-names>H</given-names></name><name><surname>Kim</surname> <given-names>JN</given-names></name><name><surname>Lockhart</surname> <given-names>A</given-names></name><name><surname>Artis</surname> <given-names>K</given-names></name><name><surname>David</surname> <given-names>G</given-names></name><name><surname>Taylor</surname> <given-names>P</given-names></name><name><surname>Streib</surname> <given-names>J</given-names></name><name><surname>Dorrestein</surname> <given-names>PC</given-names></name><name><surname>Grier</surname> <given-names>A</given-names></name><name><surname>Gill</surname> <given-names>SR</given-names></name><name><surname>Zengler</surname> <given-names>K</given-names></name><name><surname>Hata</surname> <given-names>TR</given-names></name><name><surname>Leung</surname> <given-names>DY</given-names></name><name><surname>Gallo</surname> <given-names>RL</given-names></name></person-group><year iso-8601-date="2017">2017</year><article-title>Antimicrobials from human skin commensal Bacteria protect against <italic>Staphylococcus aureus</italic> and are deficient in atopic dermatitis</article-title><source>Science Translational Medicine</source><volume>9</volume><elocation-id>eaah4680</elocation-id><pub-id pub-id-type="doi">10.1126/scitranslmed.aah4680</pub-id><pub-id pub-id-type="pmid">28228596</pub-id></element-citation></ref><ref id="bib90"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Nakayama</surname> <given-names>K</given-names></name><name><surname>Takashima</surname> <given-names>K</given-names></name><name><surname>Ishihara</surname> <given-names>H</given-names></name><name><surname>Shinomiya</surname> <given-names>T</given-names></name><name><surname>Kageyama</surname> <given-names>M</given-names></name><name><surname>Kanaya</surname> <given-names>S</given-names></name><name><surname>Ohnishi</surname> <given-names>M</given-names></name><name><surname>Murata</surname> <given-names>T</given-names></name><name><surname>Mori</surname> <given-names>H</given-names></name><name><surname>Hayashi</surname> <given-names>T</given-names></name></person-group><year iso-8601-date="2000">2000</year><article-title>The R-type pyocin of <italic>Pseudomonas aeruginosa</italic> is related to P2 phage, and the F-type is related to lambda phage</article-title><source>Molecular Microbiology</source><volume>38</volume><fpage>213</fpage><lpage>231</lpage><pub-id pub-id-type="doi">10.1046/j.1365-2958.2000.02135.x</pub-id><pub-id pub-id-type="pmid">11069649</pub-id></element-citation></ref><ref id="bib91"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Navarro</surname> <given-names>L</given-names></name><name><surname>Rojo-Bezares</surname> <given-names>B</given-names></name><name><surname>Sáenz</surname> <given-names>Y</given-names></name><name><surname>Díez</surname> <given-names>L</given-names></name><name><surname>Zarazaga</surname> <given-names>M</given-names></name><name><surname>Ruiz-Larrea</surname> <given-names>F</given-names></name><name><surname>Torres</surname> <given-names>C</given-names></name></person-group><year iso-8601-date="2008">2008</year><article-title>Comparative study of the pln locus of the quorum-sensing regulated bacteriocin-producing L. plantarum J51 strain</article-title><source>International Journal of Food Microbiology</source><volume>128</volume><fpage>390</fpage><lpage>394</lpage><pub-id pub-id-type="doi">10.1016/j.ijfoodmicro.2008.08.004</pub-id><pub-id pub-id-type="pmid">18819721</pub-id></element-citation></ref><ref id="bib92"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Niehus</surname> <given-names>R</given-names></name><name><surname>Picot</surname> <given-names>A</given-names></name><name><surname>Oliveira</surname> <given-names>NM</given-names></name><name><surname>Mitri</surname> <given-names>S</given-names></name><name><surname>Foster</surname> <given-names>KR</given-names></name></person-group><year iso-8601-date="2017">2017</year><article-title>The evolution of siderophore production as a competitive trait</article-title><source>Evolution</source><volume>71</volume><fpage>1443</fpage><lpage>1455</lpage><pub-id pub-id-type="doi">10.1111/evo.13230</pub-id></element-citation></ref><ref id="bib93"><element-citation publication-type="software"><person-group person-group-type="author"><name><surname>Niehus</surname> <given-names>R</given-names></name></person-group><year iso-8601-date="2021">2021</year><data-title>bact_warfare</data-title><source>Software Heritage</source><version designator="swh:1:rev:923e104aa634230547ba464c6bc8fee07f662ffa">swh:1:rev:923e104aa634230547ba464c6bc8fee07f662ffa</version><ext-link ext-link-type="uri" xlink:href="https://archive.softwareheritage.org/swh:1:rev:923e104aa634230547ba464c6bc8fee07f662ffa">https://archive.softwareheritage.org/swh:1:rev:923e104aa634230547ba464c6bc8fee07f662ffa</ext-link></element-citation></ref><ref id="bib94"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Nowak</surname> <given-names>MA</given-names></name><name><surname>Sigmund</surname> <given-names>K</given-names></name></person-group><year iso-8601-date="2004">2004</year><article-title>Evolutionary dynamics of biological games</article-title><source>Science</source><volume>303</volume><fpage>793</fpage><lpage>799</lpage><pub-id pub-id-type="doi">10.1126/science.1093411</pub-id><pub-id pub-id-type="pmid">14764867</pub-id></element-citation></ref><ref id="bib95"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Oliveira</surname> <given-names>NM</given-names></name><name><surname>Niehus</surname> <given-names>R</given-names></name><name><surname>Foster</surname> <given-names>KR</given-names></name></person-group><year iso-8601-date="2014">2014</year><article-title>Evolutionary limits to cooperation in microbial communities</article-title><source>PNAS</source><volume>111</volume><fpage>17941</fpage><lpage>17946</lpage><pub-id pub-id-type="doi">10.1073/pnas.1412673111</pub-id><pub-id pub-id-type="pmid">25453102</pub-id></element-citation></ref><ref id="bib96"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Oliveira</surname> <given-names>NM</given-names></name><name><surname>Oliveria</surname> <given-names>NM</given-names></name><name><surname>Martinez-Garcia</surname> <given-names>E</given-names></name><name><surname>Xavier</surname> <given-names>J</given-names></name><name><surname>Durham</surname> <given-names>WM</given-names></name><name><surname>Kolter</surname> <given-names>R</given-names></name><name><surname>Kim</surname> <given-names>W</given-names></name><name><surname>Foster</surname> <given-names>KR</given-names></name></person-group><year iso-8601-date="2015">2015</year><article-title>Biofilm formation as a response to ecological competition</article-title><source>PLOS Biology</source><volume>13</volume><elocation-id>e1002191</elocation-id><pub-id pub-id-type="doi">10.1371/journal.pbio.1002191</pub-id><pub-id pub-id-type="pmid">26158271</pub-id></element-citation></ref><ref id="bib97"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>O’Sullivan</surname> <given-names>JN</given-names></name><name><surname>Rea</surname> <given-names>MC</given-names></name><name><surname>O’Connor</surname> <given-names>PM</given-names></name><name><surname>Hill</surname> <given-names>C</given-names></name><name><surname>Ross</surname> <given-names>RP</given-names></name></person-group><year iso-8601-date="2019">2019</year><article-title>Human skin Microbiota is a rich source of bacteriocin-producing staphylococci that kill human pathogens</article-title><source>FEMS Microbiology Ecology</source><volume>95</volume><elocation-id>fiy241</elocation-id><pub-id pub-id-type="doi">10.1093/femsec/fiy241</pub-id></element-citation></ref><ref id="bib98"><element-citation publication-type="software"><person-group person-group-type="author"><collab>R Development Core Team</collab></person-group><year iso-8601-date="2011">2011</year><data-title>R: A Language and Environment for Statistical Computing</data-title><publisher-loc>Vienna, Austria</publisher-loc><publisher-name>R Foundation for Statistical Computing</publisher-name><ext-link ext-link-type="uri" xlink:href="http://www.r-project.org">http://www.r-project.org</ext-link></element-citation></ref><ref id="bib99"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Rankin</surname> <given-names>D</given-names></name><name><surname>López-Sepulcre</surname> <given-names>A</given-names></name></person-group><year iso-8601-date="2005">2005</year><article-title>Can adaptation lead to extinction?</article-title><source>Oikos</source><volume>111</volume><fpage>616</fpage><lpage>619</lpage><pub-id pub-id-type="doi">10.1111/j.1600-0706.2005.14541.x</pub-id></element-citation></ref><ref id="bib100"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Riley</surname> <given-names>MA</given-names></name><name><surname>Wertz</surname> <given-names>JE</given-names></name></person-group><year iso-8601-date="2002">2002</year><article-title>Bacteriocins: evolution, ecology, and application</article-title><source>Annual Review of Microbiology</source><volume>56</volume><fpage>117</fpage><lpage>137</lpage><pub-id pub-id-type="doi">10.1146/annurev.micro.56.012302.161024</pub-id><pub-id pub-id-type="pmid">12142491</pub-id></element-citation></ref><ref id="bib101"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Russell</surname> <given-names>AB</given-names></name><name><surname>Peterson</surname> <given-names>SB</given-names></name><name><surname>Mougous</surname> <given-names>JD</given-names></name></person-group><year iso-8601-date="2014">2014</year><article-title>Type VI secretion system effectors: poisons with a purpose</article-title><source>Nature Reviews Microbiology</source><volume>12</volume><fpage>137</fpage><lpage>148</lpage><pub-id pub-id-type="doi">10.1038/nrmicro3185</pub-id><pub-id pub-id-type="pmid">24384601</pub-id></element-citation></ref><ref id="bib102"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Sana</surname> <given-names>TG</given-names></name><name><surname>Flaugnatti</surname> <given-names>N</given-names></name><name><surname>Lugo</surname> <given-names>KA</given-names></name><name><surname>Lam</surname> <given-names>LH</given-names></name><name><surname>Jacobson</surname> <given-names>A</given-names></name><name><surname>Baylot</surname> <given-names>V</given-names></name><name><surname>Durand</surname> <given-names>E</given-names></name><name><surname>Journet</surname> <given-names>L</given-names></name><name><surname>Cascales</surname> <given-names>E</given-names></name><name><surname>Monack</surname> <given-names>DM</given-names></name></person-group><year iso-8601-date="2016">2016</year><article-title>Salmonella typhimurium utilizes a T6SS-mediated antibacterial weapon to establish in the host gut</article-title><source>PNAS</source><volume>113</volume><fpage>E5044</fpage><lpage>E5051</lpage><pub-id pub-id-type="doi">10.1073/pnas.1608858113</pub-id><pub-id pub-id-type="pmid">27503894</pub-id></element-citation></ref><ref id="bib103"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Sassone-Corsi</surname> <given-names>M</given-names></name><name><surname>Nuccio</surname> <given-names>SP</given-names></name><name><surname>Liu</surname> <given-names>H</given-names></name><name><surname>Hernandez</surname> <given-names>D</given-names></name><name><surname>Vu</surname> <given-names>CT</given-names></name><name><surname>Takahashi</surname> <given-names>AA</given-names></name><name><surname>Edwards</surname> <given-names>RA</given-names></name><name><surname>Raffatellu</surname> <given-names>M</given-names></name></person-group><year iso-8601-date="2016">2016</year><article-title>Microcins mediate competition among Enterobacteriaceae in the inflamed gut</article-title><source>Nature</source><volume>540</volume><fpage>280</fpage><lpage>283</lpage><pub-id pub-id-type="doi">10.1038/nature20557</pub-id><pub-id pub-id-type="pmid">27798599</pub-id></element-citation></ref><ref id="bib104"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Slattery</surname> <given-names>M</given-names></name><name><surname>Rajbhandari</surname> <given-names>I</given-names></name><name><surname>Wesson</surname> <given-names>K</given-names></name></person-group><year iso-8601-date="2001">2001</year><article-title>Competition-Mediated antibiotic induction in the marine bacterium Streptomyces tenjimariensis</article-title><source>Microbial Ecology</source><volume>41</volume><fpage>90</fpage><lpage>96</lpage><pub-id pub-id-type="doi">10.1007/s002480000084</pub-id><pub-id pub-id-type="pmid">12032613</pub-id></element-citation></ref><ref id="bib105"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Smith</surname> <given-names>WPJ</given-names></name><name><surname>Brodmann</surname> <given-names>M</given-names></name><name><surname>Unterweger</surname> <given-names>D</given-names></name><name><surname>Davit</surname> <given-names>Y</given-names></name><name><surname>Comstock</surname> <given-names>LE</given-names></name><name><surname>Basler</surname> <given-names>M</given-names></name><name><surname>Foster</surname> <given-names>KR</given-names></name></person-group><year iso-8601-date="2020">2020</year><article-title>The evolution of tit-for-tat in Bacteria via the type VI secretion system</article-title><source>Nature Communications</source><volume>11</volume><elocation-id>5395</elocation-id><pub-id pub-id-type="doi">10.1038/s41467-020-19017-z</pub-id><pub-id pub-id-type="pmid">33106492</pub-id></element-citation></ref><ref id="bib106"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Speare</surname> <given-names>L</given-names></name><name><surname>Cecere</surname> <given-names>AG</given-names></name><name><surname>Guckes</surname> <given-names>KR</given-names></name><name><surname>Smith</surname> <given-names>S</given-names></name><name><surname>Wollenberg</surname> <given-names>MS</given-names></name><name><surname>Mandel</surname> <given-names>MJ</given-names></name><name><surname>Miyashiro</surname> <given-names>T</given-names></name><name><surname>Septer</surname> <given-names>AN</given-names></name></person-group><year iso-8601-date="2018">2018</year><article-title>Bacterial symbionts use a type VI secretion system to eliminate competitors in their natural host</article-title><source>PNAS</source><volume>115</volume><fpage>E8528</fpage><lpage>E8537</lpage><pub-id pub-id-type="doi">10.1073/pnas.1808302115</pub-id><pub-id pub-id-type="pmid">30127013</pub-id></element-citation></ref><ref id="bib107"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Stacy</surname> <given-names>A</given-names></name><name><surname>McNally</surname> <given-names>L</given-names></name><name><surname>Darch</surname> <given-names>SE</given-names></name><name><surname>Brown</surname> <given-names>SP</given-names></name><name><surname>Whiteley</surname> <given-names>M</given-names></name></person-group><year iso-8601-date="2016">2016</year><article-title>The biogeography of polymicrobial infection</article-title><source>Nature Reviews Microbiology</source><volume>14</volume><fpage>93</fpage><lpage>105</lpage><pub-id pub-id-type="doi">10.1038/nrmicro.2015.8</pub-id><pub-id pub-id-type="pmid">26714431</pub-id></element-citation></ref><ref id="bib108"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Steele</surname> <given-names>MI</given-names></name><name><surname>Kwong</surname> <given-names>WK</given-names></name><name><surname>Whiteley</surname> <given-names>M</given-names></name><name><surname>Moran</surname> <given-names>NA</given-names></name></person-group><year iso-8601-date="2017">2017</year><article-title>Diversification of type VI secretion system toxins reveals ancient antagonism among bee gut microbes</article-title><source>mBio</source><volume>8</volume><elocation-id>e01630-17</elocation-id><pub-id pub-id-type="doi">10.1128/mBio.01630-17</pub-id><pub-id pub-id-type="pmid">29233893</pub-id></element-citation></ref><ref id="bib109"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Stein</surname> <given-names>T</given-names></name></person-group><year iso-8601-date="2005">2005</year><article-title><italic>Bacillus subtilis</italic> antibiotics: structures, syntheses and specific functions</article-title><source>Molecular Microbiology</source><volume>56</volume><fpage>845</fpage><lpage>857</lpage><pub-id pub-id-type="doi">10.1111/j.1365-2958.2005.04587.x</pub-id><pub-id pub-id-type="pmid">15853875</pub-id></element-citation></ref><ref id="bib110"><element-citation publication-type="book"><person-group person-group-type="author"><name><surname>Storz</surname> <given-names>G</given-names></name><name><surname>Hengge</surname> <given-names>R</given-names></name></person-group><year iso-8601-date="2011">2011</year><source>Bacterial Stress Responses</source><edition>2nd Edn</edition><publisher-name>American Society of Microbiology</publisher-name></element-citation></ref><ref id="bib111"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Traxler</surname> <given-names>MF</given-names></name><name><surname>Watrous</surname> <given-names>JD</given-names></name><name><surname>Alexandrov</surname> <given-names>T</given-names></name><name><surname>Dorrestein</surname> <given-names>PC</given-names></name><name><surname>Kolter</surname> <given-names>R</given-names></name></person-group><year iso-8601-date="2013">2013</year><article-title>Interspecies interactions stimulate diversification of the Streptomyces coelicolor secreted metabolome</article-title><source>mBio</source><volume>4</volume><elocation-id>e00459-13</elocation-id><pub-id pub-id-type="doi">10.1128/mBio.00459-13</pub-id><pub-id pub-id-type="pmid">23963177</pub-id></element-citation></ref><ref id="bib112"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Vetsigian</surname> <given-names>K</given-names></name><name><surname>Jajoo</surname> <given-names>R</given-names></name><name><surname>Kishony</surname> <given-names>R</given-names></name></person-group><year iso-8601-date="2011">2011</year><article-title>Structure and evolution of Streptomyces interaction networks in soil and in silico</article-title><source>PLOS Biology</source><volume>9</volume><elocation-id>e1001184</elocation-id><pub-id pub-id-type="doi">10.1371/journal.pbio.1001184</pub-id><pub-id pub-id-type="pmid">22039352</pub-id></element-citation></ref><ref id="bib113"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Wechsler</surname> <given-names>T</given-names></name><name><surname>Kümmerli</surname> <given-names>R</given-names></name><name><surname>Dobay</surname> <given-names>A</given-names></name></person-group><year iso-8601-date="2019">2019</year><article-title>Understanding policing as a mechanism of cheater control in cooperating Bacteria</article-title><source>Journal of Evolutionary Biology</source><volume>32</volume><fpage>412</fpage><lpage>424</lpage><pub-id pub-id-type="doi">10.1111/jeb.13423</pub-id><pub-id pub-id-type="pmid">30724418</pub-id></element-citation></ref><ref id="bib114"><element-citation publication-type="book"><person-group person-group-type="author"><name><surname>Weibull</surname> <given-names>JW</given-names></name></person-group><year iso-8601-date="1997">1997</year><source>Evolutionary Game Theory</source><publisher-name>MIT Press</publisher-name></element-citation></ref><ref id="bib115"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Wiener</surname> <given-names>P</given-names></name></person-group><year iso-8601-date="1996">1996</year><article-title>Experimental studies on the ecological role of antibiotic production in Bacteria</article-title><source>Evolutionary Ecology</source><volume>10</volume><fpage>405</fpage><lpage>421</lpage><pub-id pub-id-type="doi">10.1007/BF01237726</pub-id></element-citation></ref><ref id="bib116"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Wloch-Salamon</surname> <given-names>DM</given-names></name><name><surname>Gerla</surname> <given-names>D</given-names></name><name><surname>Hoekstra</surname> <given-names>RF</given-names></name><name><surname>de Visser</surname> <given-names>JAGM</given-names></name></person-group><year iso-8601-date="2008">2008</year><article-title>Effect of dispersal and nutrient availability on the competitive ability of toxin-producing yeast</article-title><source>Proceedings of the Royal Society B: Biological Sciences</source><volume>275</volume><fpage>535</fpage><lpage>541</lpage><pub-id pub-id-type="doi">10.1098/rspb.2007.1461</pub-id></element-citation></ref><ref id="bib117"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Yang</surname> <given-names>CC</given-names></name><name><surname>Konisky</surname> <given-names>J</given-names></name></person-group><year iso-8601-date="1984">1984</year><article-title>Colicin V-treated <italic>Escherichia coli</italic> does not generate membrane potential</article-title><source>Journal of Bacteriology</source><volume>158</volume><fpage>757</fpage><lpage>759</lpage><pub-id pub-id-type="doi">10.1128/jb.158.2.757-759.1984</pub-id><pub-id pub-id-type="pmid">6373733</pub-id></element-citation></ref><ref id="bib118"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Zhang</surname> <given-names>D</given-names></name><name><surname>de Souza</surname> <given-names>RF</given-names></name><name><surname>Anantharaman</surname> <given-names>V</given-names></name><name><surname>Iyer</surname> <given-names>LM</given-names></name><name><surname>Aravind</surname> <given-names>L</given-names></name></person-group><year iso-8601-date="2012">2012</year><article-title>Polymorphic toxin systems: comprehensive characterization of trafficking modes, processing, mechanisms of action, immunity and ecology using comparative genomics</article-title><source>Biology Direct</source><volume>7</volume><elocation-id>18</elocation-id><pub-id pub-id-type="doi">10.1186/1745-6150-7-18</pub-id><pub-id pub-id-type="pmid">22731697</pub-id></element-citation></ref><ref id="bib119"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Zipperer</surname> <given-names>A</given-names></name><name><surname>Konnerth</surname> <given-names>MC</given-names></name><name><surname>Laux</surname> <given-names>C</given-names></name><name><surname>Berscheid</surname> <given-names>A</given-names></name><name><surname>Janek</surname> <given-names>D</given-names></name><name><surname>Weidenmaier</surname> <given-names>C</given-names></name><name><surname>Burian</surname> <given-names>M</given-names></name><name><surname>Schilling</surname> <given-names>NA</given-names></name><name><surname>Slavetinsky</surname> <given-names>C</given-names></name><name><surname>Marschal</surname> <given-names>M</given-names></name><name><surname>Willmann</surname> <given-names>M</given-names></name><name><surname>Kalbacher</surname> <given-names>H</given-names></name><name><surname>Schittek</surname> <given-names>B</given-names></name><name><surname>Brötz-Oesterhelt</surname> <given-names>H</given-names></name><name><surname>Grond</surname> <given-names>S</given-names></name><name><surname>Peschel</surname> <given-names>A</given-names></name><name><surname>Krismer</surname> <given-names>B</given-names></name></person-group><year iso-8601-date="2016">2016</year><article-title>Human commensals producing a novel antibiotic impair pathogen colonization</article-title><source>Nature</source><volume>535</volume><fpage>511</fpage><lpage>516</lpage><pub-id pub-id-type="doi">10.1038/nature18634</pub-id><pub-id pub-id-type="pmid">27466123</pub-id></element-citation></ref></ref-list><app-group><app id="appendix-1"><title>Appendix 1</title><boxed-text><p>Appendix 1—code 1: Pseudo code to find the evolutionarily stable strategy of fixed toxin production.<code xml:space="preserve">     Initialization: Find the initial resident fresini (for example, start with the highest average resident biomass)
     forward = 1 indicates if the next migrant will have a higher or lower toxin investment than the resident. Can be 1 or -1.
     previousforward = 1 record the direction of strategy change from the previous iteration
     previousfres = 0 record the resident from the previous iteration
     step = 0.1 initial step for the strategy change (initially coarse to localize the ESS)
     minstep = 0.0001 the precision we want for the strategy value
     singular = 0 boolean saying if a singular strategy is localised
     nbflip = 0 record the number of consecutive flips in direction
     fres = fresini
     newres = 0 boolean saying if there is a new resident

     while (!singular) {do this while no singular strategy is localised

          if (newres) {
               res vs N res competition. Compute the resident against the resident. Record the resident average strategy: wresav.
          }

          fmut = fres + forward*step pick an invader that differs from resident according to direction

          mut vs N res competition. Compute mutant vs resident competition. Record the mutant biomass (wmut) at the end of the competition.

          previousforward = forward update the previous direction
          previousfres = fres update the previous resident before the competition

          if (wmut &lt; wresav) {resident stays the resident.
               forward = - forward change the direction, to test a migrant with lower f value at the next step
          }

          if (wmut &gt; wresav) {the mutant invades and replaces the resident
               fres = fmut the new resident will take the migrant value
               newres = 1 we have a new resident, we'll have to compute its resident fitness at the next iteration
          }

          if (forward != previousforward) {compare the direction with previous direction
               nbflip = nbflip + 1
          }

          if (forward == previousforward) {compare the direction with previous direction
               nbflip = 0
          }

          this will allow to localise an ESS. We want fres to stay identical for 2 consecutive time steps, but we want to make sure that the higher and lower strategies have been checked. Indeed if the mutant that we just tested goes extinct, the resident will stay resident but that is not enough to say it is an ESS. We also want the number of flips in direction to be &gt; 1.

          if (previousfres == fres &amp; nbflip &gt; 1) {singular strategy localised

               if (step &lt;= minstep) {precision is high enough
                    singular = 1 we have found the optimal strategy
               }

               if (step &gt; minstep) {will redo the whole procedure with tinier step
                    step = step/10 increase precision 10 times
                    nbflip = 0 reset the number of consecutive flips
               }
          }
     }
     Record the final fres (ESS).
     Finally, we test whether this fres (ESS) is a GLOBAL optimum by competing it against the range of strategies given through f = [0, 0.01, 0.02, ….1].</code></p><sec id="s7" sec-type="appendix"><title>Supplementary analytics</title><p>For the system of ODEs presented in <xref ref-type="disp-formula" rid="equ1">Equation (1)</xref>, the system state could be rewritten in the vectorised form <inline-formula><mml:math id="inf15"><mml:mi mathvariant="bold">X</mml:mi><mml:mo>=</mml:mo><mml:msup><mml:mrow><mml:mfenced separators="|"><mml:mrow><mml:msub><mml:mrow><mml:mi>C</mml:mi></mml:mrow><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:mfenced separators="|"><mml:mrow><mml:mi>t</mml:mi></mml:mrow></mml:mfenced><mml:mo>,</mml:mo><mml:mi/><mml:msub><mml:mrow><mml:mi>C</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mfenced separators="|"><mml:mrow><mml:mi>t</mml:mi></mml:mrow></mml:mfenced><mml:mo>,</mml:mo><mml:msub><mml:mrow><mml:mi>T</mml:mi></mml:mrow><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:mfenced separators="|"><mml:mrow><mml:mi>t</mml:mi></mml:mrow></mml:mfenced><mml:mo>,</mml:mo><mml:mi/><mml:msub><mml:mrow><mml:mi>T</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mfenced separators="|"><mml:mrow><mml:mi>t</mml:mi></mml:mrow></mml:mfenced><mml:mo>,</mml:mo><mml:mi/><mml:mi>N</mml:mi><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo></mml:mrow></mml:mfenced></mml:mrow><mml:mrow><mml:mi mathvariant="normal">T</mml:mi></mml:mrow></mml:msup></mml:math></inline-formula> with the system dynamics denoted as<disp-formula id="equ8"><label>(S1)</label><mml:math id="m8"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:mfrac><mml:mrow><mml:mi>d</mml:mi><mml:mrow><mml:mi mathvariant="bold">X</mml:mi></mml:mrow></mml:mrow><mml:mrow><mml:mi>d</mml:mi><mml:mi>t</mml:mi></mml:mrow></mml:mfrac><mml:mo>=</mml:mo><mml:mrow><mml:mrow><mml:mi mathvariant="bold">F</mml:mi></mml:mrow></mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mrow><mml:mi mathvariant="normal">X</mml:mi></mml:mrow><mml:mo>,</mml:mo><mml:msub><mml:mi>f</mml:mi><mml:mi>A</mml:mi></mml:msub><mml:mo>,</mml:mo><mml:msub><mml:mi>f</mml:mi><mml:mi>B</mml:mi></mml:msub><mml:mo>,</mml:mo><mml:mi>k</mml:mi><mml:mo>,</mml:mo><mml:msub><mml:mi>l</mml:mi><mml:mi>r</mml:mi></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mo>.</mml:mo></mml:mrow></mml:mstyle></mml:math></disp-formula></p><p>We denote a specific equilibrium state by <inline-formula><mml:math id="inf16"><mml:msup><mml:mrow><mml:mi mathvariant="bold">X</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msup></mml:math></inline-formula>. In order to analyse the associated linearly asymptotical stability of the above system at <inline-formula><mml:math id="inf17"><mml:msup><mml:mrow><mml:mi mathvariant="bold">X</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msup></mml:math></inline-formula>, we should first find solutions safisfying <inline-formula><mml:math id="inf18"><mml:msup><mml:mrow><mml:mi mathvariant="bold">F</mml:mi><mml:mo>(</mml:mo><mml:mi mathvariant="bold">X</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msup><mml:mo>,</mml:mo><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>A</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>,</mml:mo><mml:mi/><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>,</mml:mo><mml:mi>k</mml:mi><mml:mo>,</mml:mo><mml:msub><mml:mrow><mml:mi>l</mml:mi></mml:mrow><mml:mrow><mml:mi>T</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo><mml:mo>=</mml:mo><mml:mn>0</mml:mn><mml:mo>.</mml:mo></mml:math></inline-formula> We note, that in <xref ref-type="disp-formula" rid="equ1">Equation (1)</xref>, the dynamics of <italic>N</italic> is defined by a negative derivative, and from this derivative we can see that a stable state regarding <italic>N</italic> can only be reached when there are no cells or no nutrients. However, no cells is a trivial and extreme state (i.e. no cells are left for further seeding), and no nutrients cannot be reached within finite durations. We will therefore abandon the dyanmics of <italic>N</italic> from the system, basically assuming chemostat environment where different levels of <italic>N</italic> can be acchieved through balancing consumption and influx of <italic>N</italic>. This changes of course how cell strains interact, but it will help to show in a simpler way how analytical methods fail even for this simplified system of equations.</p><p>Now, setting <inline-formula><mml:math id="inf19"><mml:msup><mml:mrow><mml:mi mathvariant="bold">F</mml:mi><mml:mo>(</mml:mo><mml:mi mathvariant="bold">X</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msup><mml:mo>,</mml:mo><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>A</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>,</mml:mo><mml:mi/><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>,</mml:mo><mml:mi>k</mml:mi><mml:mo>,</mml:mo><mml:msub><mml:mrow><mml:mi>l</mml:mi></mml:mrow><mml:mrow><mml:mi>T</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo><mml:mo>=</mml:mo><mml:mn>0</mml:mn></mml:math></inline-formula> further gives<disp-formula id="equ9"><label>(S2)</label><mml:math id="m9"><mml:mfenced separators="|"><mml:mrow><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfenced><mml:msub><mml:mrow><mml:mi>u</mml:mi></mml:mrow><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub><mml:mfrac><mml:mrow><mml:mi>N</mml:mi></mml:mrow><mml:mrow><mml:mi>N</mml:mi><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>k</mml:mi></mml:mrow><mml:mrow><mml:mi>N</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:msub><mml:mrow><mml:mi>C</mml:mi></mml:mrow><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:mo>-</mml:mo><mml:mi>k</mml:mi><mml:msub><mml:mrow><mml:mi>T</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mrow><mml:mi>C</mml:mi></mml:mrow><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mn>0</mml:mn></mml:math></disp-formula><disp-formula id="equ10"><label>(S3)</label><mml:math id="m10"><mml:mfenced separators="|"><mml:mrow><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfenced><mml:msub><mml:mrow><mml:mi>u</mml:mi></mml:mrow><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub><mml:mfrac><mml:mrow><mml:mi>N</mml:mi></mml:mrow><mml:mrow><mml:mi>N</mml:mi><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>k</mml:mi></mml:mrow><mml:mrow><mml:mi>N</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:msub><mml:mrow><mml:mi>C</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mo>-</mml:mo><mml:mi>k</mml:mi><mml:msub><mml:mrow><mml:mi>T</mml:mi></mml:mrow><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mrow><mml:mi>C</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mn>0</mml:mn></mml:math></disp-formula><disp-formula id="equ11"><label>(S4)</label><mml:math id="m11"><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:mfrac><mml:mrow><mml:mi>N</mml:mi></mml:mrow><mml:mrow><mml:mi>N</mml:mi><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>k</mml:mi></mml:mrow><mml:mrow><mml:mi>N</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:msub><mml:mrow><mml:mi>C</mml:mi></mml:mrow><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>l</mml:mi></mml:mrow><mml:mrow><mml:mi>T</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mrow><mml:mi>T</mml:mi></mml:mrow><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mn>0</mml:mn></mml:math></disp-formula><disp-formula id="equ12"><label>(S5)</label><mml:math id="m12"><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mfrac><mml:mrow><mml:mi>N</mml:mi></mml:mrow><mml:mrow><mml:mi>N</mml:mi><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>k</mml:mi></mml:mrow><mml:mrow><mml:mi>N</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:msub><mml:mrow><mml:mi>C</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>l</mml:mi></mml:mrow><mml:mrow><mml:mi>T</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mrow><mml:mi>T</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mn>0</mml:mn></mml:math></disp-formula></p><p>From <xref ref-type="disp-formula" rid="equ9">Equation (S2)</xref>, we have<disp-formula id="equ13"><label>(S6)</label><mml:math id="m13"><mml:msub><mml:mrow><mml:mi>T</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mfenced separators="|"><mml:mrow><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfenced><mml:msub><mml:mrow><mml:mi>u</mml:mi></mml:mrow><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub><mml:mfrac><mml:mrow><mml:mi>N</mml:mi></mml:mrow><mml:mrow><mml:mi>k</mml:mi><mml:mo>(</mml:mo><mml:mi>N</mml:mi><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>k</mml:mi></mml:mrow><mml:mrow><mml:mi>N</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo></mml:mrow></mml:mfrac><mml:mo>.</mml:mo></mml:math></disp-formula></p><p>From <xref ref-type="disp-formula" rid="equ10">Equation (S3)</xref>, we have<disp-formula id="equ14"><label>(S7)</label><mml:math id="m14"><mml:msub><mml:mrow><mml:mi>T</mml:mi></mml:mrow><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mfenced separators="|"><mml:mrow><mml:mn>1</mml:mn><mml:mo>-</mml:mo><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfenced><mml:msub><mml:mrow><mml:mi>u</mml:mi></mml:mrow><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub><mml:mfrac><mml:mrow><mml:mi>N</mml:mi></mml:mrow><mml:mrow><mml:mi>k</mml:mi><mml:mo>(</mml:mo><mml:mi>N</mml:mi><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>k</mml:mi></mml:mrow><mml:mrow><mml:mi>N</mml:mi></mml:mrow></mml:msub><mml:mo>)</mml:mo></mml:mrow></mml:mfrac><mml:mo>.</mml:mo></mml:math></disp-formula></p><p>From <xref ref-type="disp-formula" rid="equ12">Equation (S5)</xref>, we have<disp-formula id="equ15"><label>(S8)</label><mml:math id="m15"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:msub><mml:mi>T</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mfrac><mml:mi>N</mml:mi><mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mi>N</mml:mi><mml:mo>+</mml:mo><mml:msub><mml:mi>k</mml:mi><mml:mrow><mml:mi>N</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:msub><mml:mi>l</mml:mi><mml:mrow><mml:mi>T</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:msub><mml:mi>C</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mo>.</mml:mo></mml:mrow></mml:mstyle></mml:math></disp-formula></p><p>From <xref ref-type="disp-formula" rid="equ11">Equation (S4)</xref>, we have<disp-formula id="equ16"><label>(S9)</label><mml:math id="m16"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:msub><mml:mi>T</mml:mi><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:mfrac><mml:mi>N</mml:mi><mml:mrow><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mi>N</mml:mi><mml:mo>+</mml:mo><mml:msub><mml:mi>k</mml:mi><mml:mrow><mml:mi>N</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:msub><mml:mi>l</mml:mi><mml:mrow><mml:mi>T</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:msub><mml:mi>C</mml:mi><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:mo>.</mml:mo></mml:mrow></mml:mstyle></mml:math></disp-formula></p><p>Thus, we know from <xref ref-type="disp-formula" rid="equ15 equ16">Equations (S8) and (S9)</xref> that<disp-formula id="equ17"><label>(S10)</label><mml:math id="m17"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:mfrac><mml:msub><mml:mi>T</mml:mi><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mi>T</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:mfrac><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mi>C</mml:mi><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mi>C</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mo>.</mml:mo></mml:mrow></mml:mstyle></mml:math></disp-formula></p><p>Similarly from <xref ref-type="disp-formula" rid="equ13 equ14">Equations (S6) and (S7)</xref>, we get<disp-formula id="equ18"><label>(S11)</label><mml:math id="m18"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:mfrac><mml:msub><mml:mi>T</mml:mi><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mi>T</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:mfrac><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:mn>1</mml:mn><mml:mo>−</mml:mo><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mrow><mml:mn>1</mml:mn><mml:mo>−</mml:mo><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mo>.</mml:mo></mml:mrow></mml:mstyle></mml:math></disp-formula></p><p>Therefore, from <xref ref-type="disp-formula" rid="equ17 equ18">Equations (S10) and (S11)</xref>, we have<disp-formula id="equ19"><label>(S12)</label><mml:math id="m19"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mi>C</mml:mi><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mn>1</mml:mn><mml:mo>−</mml:mo><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mo>=</mml:mo><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mi>C</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mn>1</mml:mn><mml:mo>−</mml:mo><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mo>.</mml:mo></mml:mrow></mml:mstyle></mml:math></disp-formula></p><p>From <xref ref-type="disp-formula" rid="equ13 equ15">Equations (S6) and (S8)</xref>, we know that<disp-formula id="equ20"><label>(S13)</label><mml:math id="m20"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mo>=</mml:mo><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mn>1</mml:mn><mml:mo>−</mml:mo><mml:msub><mml:mi>f</mml:mi><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:msub><mml:mi>u</mml:mi><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub><mml:mfrac><mml:msub><mml:mi>l</mml:mi><mml:mrow><mml:mi>T</mml:mi></mml:mrow></mml:msub><mml:mrow><mml:mi>k</mml:mi><mml:msub><mml:mi>C</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:mo>.</mml:mo></mml:mrow></mml:mstyle></mml:math></disp-formula></p><p>From <xref ref-type="disp-formula" rid="equ19 equ20">Equations (S12) and (S13)</xref>, we know<disp-formula id="equ21"><label>(S14)</label><mml:math id="m21"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:msubsup><mml:mi>f</mml:mi><mml:mrow><mml:mi>A</mml:mi></mml:mrow><mml:mrow><mml:mo>∗</mml:mo></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mi>l</mml:mi><mml:mrow><mml:mi>T</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mi>μ</mml:mi><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub><mml:mi>k</mml:mi><mml:msub><mml:mi>C</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mo>−</mml:mo><mml:msubsup><mml:mi>μ</mml:mi><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msubsup><mml:msubsup><mml:mi>l</mml:mi><mml:mrow><mml:mi>T</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msubsup></mml:mrow><mml:mrow><mml:msup><mml:mi>k</mml:mi><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msup><mml:msub><mml:mi>C</mml:mi><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mi>C</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mo>−</mml:mo><mml:msubsup><mml:mi>μ</mml:mi><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msubsup><mml:msubsup><mml:mi>l</mml:mi><mml:mrow><mml:mi>T</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msubsup></mml:mrow></mml:mfrac><mml:mo>,</mml:mo></mml:mrow></mml:mstyle></mml:math></disp-formula>and note that here when <inline-formula><mml:math id="inf20"><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>A</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mn>1</mml:mn></mml:math></inline-formula>, we obtain <inline-formula><mml:math id="inf21"><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mn>0</mml:mn></mml:math></inline-formula>, which is not applicable.</p><p>Substituting <xref ref-type="disp-formula" rid="equ21">Equation (S14)</xref> into <xref ref-type="disp-formula" rid="equ16">Equation (S9)</xref>, we then know<disp-formula id="equ22"><label>(S15)</label><mml:math id="m22"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:msubsup><mml:mi>T</mml:mi><mml:mrow><mml:mi>A</mml:mi></mml:mrow><mml:mrow><mml:mo>∗</mml:mo></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mi>μ</mml:mi><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub><mml:mi>k</mml:mi><mml:msub><mml:mi>C</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mo>−</mml:mo><mml:msubsup><mml:mi>μ</mml:mi><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msubsup><mml:msubsup><mml:mi>l</mml:mi><mml:mrow><mml:mi>T</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msubsup></mml:mrow><mml:mrow><mml:msup><mml:mi>k</mml:mi><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msup><mml:msub><mml:mi>C</mml:mi><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mi>C</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mo>−</mml:mo><mml:msubsup><mml:mi>μ</mml:mi><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msubsup><mml:msubsup><mml:mi>l</mml:mi><mml:mrow><mml:mi>T</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msubsup></mml:mrow></mml:mfrac><mml:mfrac><mml:mi>N</mml:mi><mml:mrow><mml:mi>N</mml:mi><mml:mo>+</mml:mo><mml:msub><mml:mi>k</mml:mi><mml:mrow><mml:mi>N</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:msub><mml:mi>C</mml:mi><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:mo>.</mml:mo></mml:mrow></mml:mstyle></mml:math></disp-formula></p><p>Similarly, we further have<disp-formula id="equ23"><label>(S16)</label><mml:math id="m23"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:msubsup><mml:mi>f</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mrow><mml:mo>∗</mml:mo></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mi>l</mml:mi><mml:mrow><mml:mi>T</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mi>μ</mml:mi><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub><mml:mi>k</mml:mi><mml:msub><mml:mi>C</mml:mi><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:mo>−</mml:mo><mml:msubsup><mml:mi>μ</mml:mi><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msubsup><mml:msubsup><mml:mi>l</mml:mi><mml:mrow><mml:mi>T</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msubsup></mml:mrow><mml:mrow><mml:msup><mml:mi>k</mml:mi><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msup><mml:msub><mml:mi>C</mml:mi><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mi>C</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mo>−</mml:mo><mml:msubsup><mml:mi>μ</mml:mi><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msubsup><mml:msubsup><mml:mi>l</mml:mi><mml:mrow><mml:mi>T</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msubsup></mml:mrow></mml:mfrac><mml:mo>,</mml:mo></mml:mrow></mml:mstyle></mml:math></disp-formula>and<disp-formula id="equ24"><label>(S17)</label><mml:math id="m24"><mml:msubsup><mml:mrow><mml:mi>T</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:msub><mml:mrow><mml:mi>μ</mml:mi></mml:mrow><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub><mml:mi>k</mml:mi><mml:msub><mml:mrow><mml:mi>C</mml:mi></mml:mrow><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:mo>-</mml:mo><mml:msubsup><mml:mrow><mml:mi>μ</mml:mi></mml:mrow><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msubsup><mml:msubsup><mml:mrow><mml:mi>l</mml:mi></mml:mrow><mml:mrow><mml:mi>T</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msubsup></mml:mrow><mml:mrow><mml:msup><mml:mrow><mml:mi>k</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msup><mml:msub><mml:mrow><mml:mi>C</mml:mi></mml:mrow><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mrow><mml:mi>C</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mo>-</mml:mo><mml:msubsup><mml:mrow><mml:mi>μ</mml:mi></mml:mrow><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msubsup><mml:msubsup><mml:mrow><mml:mi>l</mml:mi></mml:mrow><mml:mrow><mml:mi>T</mml:mi></mml:mrow><mml:mrow><mml:mn>2</mml:mn></mml:mrow></mml:msubsup></mml:mrow></mml:mfrac><mml:mfrac><mml:mrow><mml:mi>N</mml:mi></mml:mrow><mml:mrow><mml:mi>N</mml:mi><mml:mo>+</mml:mo><mml:msub><mml:mrow><mml:mi>k</mml:mi></mml:mrow><mml:mrow><mml:mi>N</mml:mi></mml:mrow></mml:msub></mml:mrow></mml:mfrac><mml:msub><mml:mrow><mml:mi>C</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub><mml:mo>.</mml:mo></mml:math></disp-formula></p><p>And the Jacobian matrix of the system state <inline-formula><mml:math id="inf22"><mml:msup><mml:mrow><mml:mi mathvariant="bold">X</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msup></mml:math></inline-formula> is<disp-formula id="equ25"><label>(S18)</label><mml:math id="m25"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:mtable columnalign="right left" columnspacing="1em" rowspacing="4pt"><mml:mtr><mml:mtd><mml:mrow><mml:mi mathvariant="normal">A</mml:mi></mml:mrow></mml:mtd><mml:mtd><mml:mo>=</mml:mo><mml:mfrac><mml:mrow><mml:mi mathvariant="normal">∂</mml:mi><mml:mrow><mml:mrow><mml:mi mathvariant="bold">F</mml:mi></mml:mrow></mml:mrow></mml:mrow><mml:mrow><mml:mi mathvariant="normal">∂</mml:mi><mml:mrow><mml:mrow><mml:mi mathvariant="bold">X</mml:mi></mml:mrow></mml:mrow></mml:mrow></mml:mfrac><mml:mrow><mml:mo maxsize="1.2em" minsize="1.2em">|</mml:mo></mml:mrow><mml:mrow><mml:msup><mml:mi mathvariant="normal">X</mml:mi><mml:mo>∗</mml:mo></mml:msup></mml:mrow><mml:mo>=</mml:mo></mml:mtd></mml:mtr><mml:mtr><mml:mtd/><mml:mtd><mml:mrow><mml:mo>[</mml:mo><mml:mtable columnspacing="1em" rowspacing="4pt"><mml:mtr><mml:mtd><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mo stretchy="false">(</mml:mo><mml:mn>1</mml:mn><mml:mo>−</mml:mo><mml:msub><mml:mi>f</mml:mi><mml:mi>A</mml:mi></mml:msub><mml:mo stretchy="false">)</mml:mo><mml:msub><mml:mi>μ</mml:mi><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub><mml:mfrac><mml:mi>N</mml:mi><mml:mrow><mml:mi>N</mml:mi><mml:mo>+</mml:mo><mml:msub><mml:mi>k</mml:mi><mml:mi>N</mml:mi></mml:msub></mml:mrow></mml:mfrac><mml:mo>−</mml:mo><mml:mi>k</mml:mi><mml:msub><mml:mi>T</mml:mi><mml:mi>B</mml:mi></mml:msub></mml:mstyle></mml:mtd><mml:mtd><mml:mn>0</mml:mn></mml:mtd><mml:mtd><mml:mn>0</mml:mn></mml:mtd><mml:mtd><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mo>−</mml:mo><mml:mi>k</mml:mi><mml:msub><mml:mi>C</mml:mi><mml:mi>A</mml:mi></mml:msub></mml:mstyle></mml:mtd><mml:mtd><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mfrac><mml:msub><mml:mi>k</mml:mi><mml:mi>N</mml:mi></mml:msub><mml:msup><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mi>N</mml:mi><mml:mo>+</mml:mo><mml:msub><mml:mi>K</mml:mi><mml:mi>N</mml:mi></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mn>2</mml:mn></mml:msup></mml:mfrac><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mn>1</mml:mn><mml:mo>−</mml:mo><mml:msub><mml:mi>f</mml:mi><mml:mi>A</mml:mi></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:msub><mml:mi>μ</mml:mi><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mi>C</mml:mi><mml:mi>A</mml:mi></mml:msub></mml:mstyle></mml:mtd></mml:mtr><mml:mtr><mml:mtd><mml:mn>0</mml:mn></mml:mtd><mml:mtd><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mo stretchy="false">(</mml:mo><mml:mn>1</mml:mn><mml:mo>−</mml:mo><mml:msub><mml:mi>f</mml:mi><mml:mi>B</mml:mi></mml:msub><mml:mo stretchy="false">)</mml:mo><mml:msub><mml:mi>μ</mml:mi><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub><mml:mfrac><mml:mi>N</mml:mi><mml:mrow><mml:mi>N</mml:mi><mml:mo>+</mml:mo><mml:msub><mml:mi>k</mml:mi><mml:mi>N</mml:mi></mml:msub></mml:mrow></mml:mfrac><mml:mo>−</mml:mo><mml:mi>k</mml:mi><mml:msub><mml:mi>T</mml:mi><mml:mi>A</mml:mi></mml:msub></mml:mstyle></mml:mtd><mml:mtd><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mo>−</mml:mo><mml:mi>k</mml:mi><mml:msub><mml:mi>C</mml:mi><mml:mi>B</mml:mi></mml:msub></mml:mstyle></mml:mtd><mml:mtd><mml:mn>0</mml:mn></mml:mtd><mml:mtd><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mfrac><mml:msub><mml:mi>k</mml:mi><mml:mi>N</mml:mi></mml:msub><mml:msup><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mi>N</mml:mi><mml:mo>+</mml:mo><mml:msub><mml:mi>K</mml:mi><mml:mi>N</mml:mi></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mn>2</mml:mn></mml:msup></mml:mfrac><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mn>1</mml:mn><mml:mo>−</mml:mo><mml:msub><mml:mi>f</mml:mi><mml:mi>B</mml:mi></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:msub><mml:mi>μ</mml:mi><mml:mrow><mml:mi>m</mml:mi><mml:mi>a</mml:mi><mml:mi>x</mml:mi></mml:mrow></mml:msub><mml:msub><mml:mi>C</mml:mi><mml:mi>B</mml:mi></mml:msub></mml:mstyle></mml:mtd></mml:mtr><mml:mtr><mml:mtd><mml:mstyle displaystyle="true" scriptlevel="0"><mml:msub><mml:mi>f</mml:mi><mml:mi>A</mml:mi></mml:msub><mml:mfrac><mml:mi>N</mml:mi><mml:mrow><mml:mi>N</mml:mi><mml:mo>+</mml:mo><mml:msub><mml:mi>K</mml:mi><mml:mi>N</mml:mi></mml:msub></mml:mrow></mml:mfrac></mml:mstyle></mml:mtd><mml:mtd><mml:mn>0</mml:mn></mml:mtd><mml:mtd><mml:mo>−</mml:mo><mml:msub><mml:mi>l</mml:mi><mml:mi>T</mml:mi></mml:msub></mml:mtd><mml:mtd><mml:mn>0</mml:mn></mml:mtd><mml:mtd><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mfrac><mml:msub><mml:mi>k</mml:mi><mml:mi>N</mml:mi></mml:msub><mml:msup><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mi>N</mml:mi><mml:mo>+</mml:mo><mml:msub><mml:mi>K</mml:mi><mml:mi>N</mml:mi></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mn>2</mml:mn></mml:msup></mml:mfrac><mml:msub><mml:mi>f</mml:mi><mml:mi>A</mml:mi></mml:msub><mml:msub><mml:mi>C</mml:mi><mml:mi>A</mml:mi></mml:msub></mml:mstyle></mml:mtd></mml:mtr><mml:mtr><mml:mtd><mml:mn>0</mml:mn></mml:mtd><mml:mtd><mml:mstyle displaystyle="true" scriptlevel="0"><mml:msub><mml:mi>f</mml:mi><mml:mi>A</mml:mi></mml:msub><mml:mfrac><mml:mi>N</mml:mi><mml:mrow><mml:mi>N</mml:mi><mml:mo>+</mml:mo><mml:msub><mml:mi>K</mml:mi><mml:mi>N</mml:mi></mml:msub></mml:mrow></mml:mfrac></mml:mstyle></mml:mtd><mml:mtd><mml:mn>0</mml:mn></mml:mtd><mml:mtd><mml:mo>−</mml:mo><mml:msub><mml:mi>l</mml:mi><mml:mi>T</mml:mi></mml:msub></mml:mtd><mml:mtd><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mfrac><mml:msub><mml:mi>k</mml:mi><mml:mi>N</mml:mi></mml:msub><mml:msup><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:mi>N</mml:mi><mml:mo>+</mml:mo><mml:msub><mml:mi>K</mml:mi><mml:mi>N</mml:mi></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow><mml:mn>2</mml:mn></mml:msup></mml:mfrac><mml:msub><mml:mi>f</mml:mi><mml:mi>B</mml:mi></mml:msub><mml:msub><mml:mi>C</mml:mi><mml:mi>B</mml:mi></mml:msub></mml:mstyle></mml:mtd></mml:mtr><mml:mtr><mml:mtd><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mo>−</mml:mo><mml:mfrac><mml:mi>N</mml:mi><mml:mrow><mml:mi>N</mml:mi><mml:mo>+</mml:mo><mml:msub><mml:mi>K</mml:mi><mml:mi>N</mml:mi></mml:msub></mml:mrow></mml:mfrac></mml:mstyle></mml:mtd><mml:mtd><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mo>−</mml:mo><mml:mfrac><mml:mi>N</mml:mi><mml:mrow><mml:mi>N</mml:mi><mml:mo>+</mml:mo><mml:msub><mml:mi>K</mml:mi><mml:mi>N</mml:mi></mml:msub></mml:mrow></mml:mfrac></mml:mstyle></mml:mtd><mml:mtd><mml:mn>0</mml:mn></mml:mtd><mml:mtd><mml:mn>0</mml:mn></mml:mtd><mml:mtd><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mo>−</mml:mo><mml:mfrac><mml:mi>N</mml:mi><mml:mrow><mml:mi>N</mml:mi><mml:mo>+</mml:mo><mml:msub><mml:mi>K</mml:mi><mml:mi>N</mml:mi></mml:msub></mml:mrow></mml:mfrac><mml:mrow><mml:mo>(</mml:mo><mml:mrow><mml:msub><mml:mi>C</mml:mi><mml:mi>A</mml:mi></mml:msub><mml:mo>+</mml:mo><mml:msub><mml:mi>C</mml:mi><mml:mi>B</mml:mi></mml:msub></mml:mrow><mml:mo>)</mml:mo></mml:mrow></mml:mstyle></mml:mtd></mml:mtr></mml:mtable><mml:mo>]</mml:mo></mml:mrow></mml:mtd></mml:mtr></mml:mtable></mml:mrow></mml:mstyle></mml:math></disp-formula></p><p>By computing the maximum real part of all the eigenvalues of <inline-formula><mml:math id="inf23"><mml:mi mathvariant="bold">A</mml:mi></mml:math></inline-formula> (denoted by <inline-formula><mml:math id="inf24"><mml:mrow><mml:mi>Re</mml:mi><mml:mo>(</mml:mo><mml:mi>λ</mml:mi><mml:mo>)</mml:mo></mml:mrow></mml:math></inline-formula>), we know that <inline-formula><mml:math id="inf25"><mml:mrow><mml:msup><mml:mstyle mathsize="normal" mathvariant="bold"><mml:mi>X</mml:mi></mml:mstyle><mml:mo>*</mml:mo></mml:msup></mml:mrow></mml:math></inline-formula> is linearly asymptotical stable when <inline-formula><mml:math id="inf26"><mml:mrow><mml:mi>Re</mml:mi><mml:mo>(</mml:mo><mml:mi>λ</mml:mi><mml:mo>)</mml:mo><mml:mo>&lt;</mml:mo><mml:mn>0</mml:mn></mml:mrow></mml:math></inline-formula>. This canonical measure of stability indicates whether and how fast the system would return to <inline-formula><mml:math id="inf27"><mml:mrow><mml:msup><mml:mstyle mathsize="normal" mathvariant="bold"><mml:mi>X</mml:mi></mml:mstyle><mml:mo>*</mml:mo></mml:msup></mml:mrow></mml:math></inline-formula> after a small perturbation (<xref ref-type="bibr" rid="bib53">Hofbauer and Sigmund, 1998</xref>; <xref ref-type="bibr" rid="bib85">Mougi and Kondoh, 2012</xref>; <xref ref-type="bibr" rid="bib26">Coyte et al., 2015</xref>; <xref ref-type="bibr" rid="bib2">Allesina and Tang, 2012</xref>).</p><p>Next, we calculate the derivative of the system for different values of <inline-formula><mml:math id="inf28"><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub></mml:math></inline-formula> and <inline-formula><mml:math id="inf29"><mml:msub><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:math></inline-formula>, choosing values for <inline-formula><mml:math id="inf30"><mml:mi>k</mml:mi></mml:math></inline-formula> and <inline-formula><mml:math id="inf31"><mml:msub><mml:mrow><mml:mi>l</mml:mi></mml:mrow><mml:mrow><mml:mi>T</mml:mi></mml:mrow></mml:msub></mml:math></inline-formula> to be as given in <xref ref-type="table" rid="table1">Table 1</xref>, and setting <inline-formula><mml:math id="inf32"><mml:msubsup><mml:mrow><mml:mi>C</mml:mi></mml:mrow><mml:mrow><mml:mi>A</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo></mml:math></inline-formula> and <inline-formula><mml:math id="inf33"><mml:msubsup><mml:mrow><mml:mi>C</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo></mml:math></inline-formula> to be 0.1, and <inline-formula><mml:math id="inf34"><mml:msubsup><mml:mrow><mml:mi>T</mml:mi></mml:mrow><mml:mrow><mml:mi>A</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo></mml:math></inline-formula> and <inline-formula><mml:math id="inf35"><mml:msubsup><mml:mrow><mml:mi>T</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo></mml:math></inline-formula> to be 1. We compare the analytical derivatives of the biomasses to the results of our numerical calculations (<xref ref-type="fig" rid="fig1">Figure 1a–d</xref>). We find that all computed values are identical.</p><p>Finally, we calculate the stability (which is quantified by <inline-formula><mml:math id="inf36"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:mo>−</mml:mo><mml:mi>R</mml:mi><mml:mi>e</mml:mi><mml:mrow><mml:mo>(</mml:mo><mml:mi>λ</mml:mi><mml:mo>)</mml:mo></mml:mrow></mml:mrow></mml:mstyle></mml:math></inline-formula>) of <inline-formula><mml:math id="inf37"><mml:msup><mml:mrow><mml:mi mathvariant="bold">X</mml:mi></mml:mrow><mml:mrow><mml:mi mathvariant="bold">*</mml:mi></mml:mrow></mml:msup><mml:mo>=</mml:mo><mml:msup><mml:mrow><mml:mfenced separators="|"><mml:mrow><mml:msubsup><mml:mrow><mml:mi>C</mml:mi></mml:mrow><mml:mrow><mml:mi>A</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mfenced separators="|"><mml:mrow><mml:mi>t</mml:mi></mml:mrow></mml:mfenced><mml:mo>,</mml:mo><mml:mi/><mml:msubsup><mml:mrow><mml:mi>C</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mfenced separators="|"><mml:mrow><mml:mi>t</mml:mi></mml:mrow></mml:mfenced><mml:mo>,</mml:mo><mml:msubsup><mml:mrow><mml:mi>T</mml:mi></mml:mrow><mml:mrow><mml:mi>A</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mfenced separators="|"><mml:mrow><mml:mi>t</mml:mi></mml:mrow></mml:mfenced><mml:mo>,</mml:mo><mml:mi/><mml:msubsup><mml:mrow><mml:mi>T</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mfenced separators="|"><mml:mrow><mml:mi>t</mml:mi></mml:mrow></mml:mfenced><mml:mo>,</mml:mo><mml:mi/><mml:mn>1</mml:mn></mml:mrow></mml:mfenced></mml:mrow><mml:mrow><mml:mi mathvariant="normal">T</mml:mi></mml:mrow></mml:msup></mml:math></inline-formula> for different values of <inline-formula><mml:math id="inf38"><mml:msubsup><mml:mrow><mml:mi>C</mml:mi></mml:mrow><mml:mrow><mml:mi>A</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo></mml:math></inline-formula> and <inline-formula><mml:math id="inf39"><mml:msubsup><mml:mrow><mml:mi>C</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup><mml:mo>(</mml:mo><mml:mi>t</mml:mi><mml:mo>)</mml:mo></mml:math></inline-formula> ranging from 0.1 to 1. We choose values for <inline-formula><mml:math id="inf40"><mml:mi>k</mml:mi></mml:math></inline-formula> and <inline-formula><mml:math id="inf41"><mml:msub><mml:mrow><mml:mi>l</mml:mi></mml:mrow><mml:mrow><mml:mi>T</mml:mi></mml:mrow></mml:msub></mml:math></inline-formula> to be as given in <xref ref-type="table" rid="table1">Table 1</xref>, and <inline-formula><mml:math id="inf42"><mml:msubsup><mml:mrow><mml:mi>f</mml:mi></mml:mrow><mml:mrow><mml:mi>A</mml:mi></mml:mrow><mml:mrow><mml:mi>*</mml:mi></mml:mrow></mml:msubsup></mml:math></inline-formula>, <inline-formula><mml:math id="inf43"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:msubsup><mml:mi>f</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mrow><mml:mo>∗</mml:mo></mml:mrow></mml:msubsup></mml:mrow></mml:mstyle></mml:math></inline-formula>, <inline-formula><mml:math id="inf44"><mml:mstyle displaystyle="true" scriptlevel="0"><mml:mrow><mml:msubsup><mml:mi>T</mml:mi><mml:mrow><mml:mi>A</mml:mi></mml:mrow><mml:mrow><mml:mo>∗</mml:mo></mml:mrow></mml:msubsup><mml:mo>,</mml:mo><mml:mspace width="thinmathspace"/><mml:mrow><mml:mi mathvariant="normal">a</mml:mi><mml:mi mathvariant="normal">n</mml:mi><mml:mi mathvariant="normal">d</mml:mi></mml:mrow><mml:mspace width="thinmathspace"/><mml:msubsup><mml:mi>T</mml:mi><mml:mrow><mml:mi>B</mml:mi></mml:mrow><mml:mrow><mml:mo>∗</mml:mo></mml:mrow></mml:msubsup></mml:mrow></mml:mstyle></mml:math></inline-formula> take values defined in <xref ref-type="disp-formula" rid="equ20 equ21 equ22 equ23">Equations S13–S16</xref>.</p><p>We could see that all of possible values of <inline-formula><mml:math id="inf45"><mml:msub><mml:mrow><mml:mi>C</mml:mi></mml:mrow><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub></mml:math></inline-formula> and <inline-formula><mml:math id="inf46"><mml:msub><mml:mrow><mml:mi>C</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:math></inline-formula> indicate that the system is unstable, suggesting that an analytical analysis to exactly capture the temporal unstable state of the system is not applicable.</p><fig id="app1fig1" position="float"><label>Appendix 1—figure 1.</label><caption><title>Analytical derivative of strain biomass compared to numerical change in strain biomass.</title><p>For different combinations of <italic>f<sub>A</sub></italic> and <italic>f<sub>B</sub></italic> values, analytical derivative of strain <italic>A</italic>’s biomass (<bold>a</bold>) and of strain <italic>B</italic>’s (<bold>b</bold>). This is shown side-by-side with numerical change in biomass of strain <italic>A</italic> (<bold>c</bold>) and strain <italic>B</italic> (<bold>d</bold>).</p></caption><graphic mime-subtype="tiff" mimetype="image" xlink:href="elife-69756-app1-fig1-v1.tif"/></fig><fig id="app1fig2" position="float"><label>Appendix 1—figure 2.</label><caption><title>Stability analysis of the system.</title><p>Plot shows for a range of values for <inline-formula><mml:math id="inf47"><mml:msub><mml:mrow><mml:mi>C</mml:mi></mml:mrow><mml:mrow><mml:mi>A</mml:mi></mml:mrow></mml:msub></mml:math></inline-formula> and <inline-formula><mml:math id="inf48"><mml:msub><mml:mrow><mml:mi>C</mml:mi></mml:mrow><mml:mrow><mml:mi>B</mml:mi></mml:mrow></mml:msub></mml:math></inline-formula> the negative of the maximum real part of all the eigenvalues of <inline-formula><mml:math id="inf49"><mml:mi mathvariant="bold">A</mml:mi></mml:math></inline-formula>(−<inline-formula><mml:math id="inf50"><mml:mrow><mml:mi>Re</mml:mi><mml:mo>(</mml:mo><mml:mi>λ</mml:mi><mml:mo>)</mml:mo></mml:mrow></mml:math></inline-formula>, see details above). Negative values indicate that the system’s state is stable. We choose values for <inline-formula><mml:math id="inf51"><mml:mi>k</mml:mi></mml:math></inline-formula> and <inline-formula><mml:math id="inf52"><mml:msub><mml:mrow><mml:mi>l</mml:mi></mml:mrow><mml:mrow><mml:mi>T</mml:mi></mml:mrow></mml:msub></mml:math></inline-formula> to be as given in <xref ref-type="table" rid="table1">Table 1</xref>.</p></caption><graphic mime-subtype="tiff" mimetype="image" xlink:href="elife-69756-app1-fig2-v1.tif"/></fig><fig id="app1fig3" position="float"><label>Appendix 1—figure 3.</label><caption><title>The effect of nutrient availability on optimal toxin investment.</title><p>We plot the evolutionary stable investment into toxin over a range of different initial levels of nutrient (<italic>N</italic>(<italic>t</italic>=0)). The optimal investment is highest for an intermediate amount of nutrients. Other parameters of the model take the standard values given in <xref ref-type="table" rid="table1">Table 1</xref>.</p></caption><graphic mime-subtype="tiff" mimetype="image" xlink:href="elife-69756-app1-fig3-v1.tif"/></fig><fig id="app1fig4" position="float"><label>Appendix 1—figure 4.</label><caption><title>At high toxin efficiency an evolutionary arms race can drive populations towards extinction.</title><p>We plot the optimal toxin investment <italic>f</italic>* (red line) and the investment threshold for mutual destruction <italic>f<sub>kill</sub></italic> (orange line) over different toxin efficiencies (<bold>k</bold>). Insets show the pairwise invasibility plot for low, medium, and high toxin efficiency. In these plots the <italic>x</italic> and <italic>y</italic> axis give the toxin investment (with range 0–1) of the resident and the invading strategy, respectively. Green areas indicate where the invader strategy can successfully replace the resident strategy, red areas indicate where invasion fails. Where the two green and two red triangles have their meeting point at the diagonal line, lies the evolutionarily stable strategy. Black areas indicate where the resident strategy dies off in competition with itself. We see that above a certain toxin efficiency (<italic>k</italic> = 179), coevolution causes toxin strategies to produce amounts of toxins that are deadly to both competitors. The toxin arms race causes an evolutionary suicide of the population, analogous to mutually assured destruction. All other model parameters take standard value as given in <xref ref-type="table" rid="table1">Table 1</xref>.</p></caption><graphic mime-subtype="tiff" mimetype="image" xlink:href="elife-69756-app1-fig4-v1.tif"/></fig><fig id="app1fig5" position="float"><label>Appendix 1—figure 5.</label><caption><title>Short competitions favour the evolution of pre-emptive attack.</title><p>We investigate the effect of shortening the duration of competitions and ask how this affects the best performing strategies. In nature, the duration of competition will vary depending on the rates of dispersal to new patches. (<bold>a</bold>) Shortening competition time has little effect on the evolution of constitutive toxin production. (<bold>b</bold>) Initial investment in regulated toxins increases strongly, favouring pre-emptive attacks. Short competition times select for an increased baseline of aggression in sensing strategies, because it becomes important to overcome a competitor as quickly as possible. (<bold>c</bold>) At short competition times (6 hr), regulation still remains beneficial and strategies of all three sensing types exist that can invade and evolutionarily replace all constitutive producers (red areas). All parameters take standard values as given in <xref ref-type="table" rid="table1">Table 1</xref>.</p></caption><graphic mime-subtype="tiff" mimetype="image" xlink:href="elife-69756-app1-fig5-v1.tif"/></fig><fig id="app1fig6" position="float"><label>Appendix 1—figure 6.</label><caption><title>All four competitive dyanmics occur in our simulations.</title><p>We enumerate the occurrence of the four different outcomes from the global and local competitions as shown in <xref ref-type="fig" rid="fig1">Figure 1d</xref>. Here, the numbers (shown in green) of these outcomes are shown for the simulations used for the three different analyses in <xref ref-type="fig" rid="fig2">Figure 2</xref>. We also show in the column to the right the total number of simulations run for each of these analyses, and we give in brackets the proportion of occurrences relative to this total number.</p></caption><graphic mime-subtype="tiff" mimetype="image" xlink:href="elife-69756-app1-fig6-v1.tif"/></fig><fig id="app1fig7" position="float"><label>Appendix 1—figure 7.</label><caption><title>The benefit of toxin sensing is robust across varying environmental conditions.</title><p><xref ref-type="fig" rid="fig3">Figure 3</xref> shows that toxin sensing is the best performing strategy when competing with diverse toxin strategies. Here, we compete the different sensing strategies again against a range of nine constitutive producers (<italic>f</italic>=0.1, 0.2, …, 0.9) (as in <xref ref-type="fig" rid="fig3">Figure 3b</xref>) but under different conditions, which are (<bold>a</bold>) high killing efficiency of the toxin (<italic>k</italic>=30), (<bold>b</bold>) high loss rate of the toxin (<italic>l</italic>=0.4), and (<bold>c</bold>) high initial nutrients (<italic>N</italic>(<italic>t</italic>=0)=5). All other parameters take standard values as in <xref ref-type="table" rid="table1">Table 1</xref>.</p></caption><graphic mime-subtype="tiff" mimetype="image" xlink:href="elife-69756-app1-fig7-v1.tif"/></fig><fig id="app1fig8" position="float"><label>Appendix 1—figure 8.</label><caption><title>Toxin sensing emerges as the overall winner across wide parameter ranges.</title><p>As in <xref ref-type="fig" rid="fig4">Figure 4c</xref>, we pit all three sensory strategies against each other in a coevolutionary tournament (genetic algorithm) and we record the proportion of each of the three different types of strategies at the end of the evolution. We show these proportions as coloured dots, and the average proportion across 10 repeat runs of the algorithm as coloured crosses. Finally, we repeat this while varying one model parameter at a time over approximately one order of magnitude, keeping the other parameters as given in <xref ref-type="table" rid="table1">Table 1</xref>. Toxin-based regulation only fails to show dominance under parameter regimes where selection for the different strategies is relatively weak and noisy in its outcome, that is, low <italic>k</italic> (toxin has weak effect), high initial cell numbers/low nutrients/slow cell division (few cell divisions per competition cycle and so weaker natural selection).</p></caption><graphic mime-subtype="tiff" mimetype="image" xlink:href="elife-69756-app1-fig8-v1.tif"/></fig><fig id="app1fig9" position="float"><label>Appendix 1—figure 9.</label><caption><title>The evolution of reciprocation (toxin responders) in models of deterministic and stochastic initial strain frequency.</title><p>(<bold>a</bold>) Outcome of the large tournament model with initial strain proportion at 50:50 (as in <xref ref-type="fig" rid="fig4">Figure 4</xref>). Shown is the metapopulation proportions of the three different strategy types (toxin sensing in red, quorum sensing in orange, nutrient sensing in blue) over time. (<bold>b</bold>) and (<bold>c</bold>) show the same tournament but with competing genotypes arriving stochastically into each competition to create a wide range of initial proportions of each strain ranging from 0 to 1. Density plots on the right show the distribution of initial proportion of strains. The arrival order of the two competing strains is chosen uniformly at random, then the waiting time until the next strain arrives follows an exponential distribution with mean of 20 min (<bold>b</bold>) and 1 hr (<bold>c</bold>). We see that, both for the 50:50 mix (<bold>a</bold>), and under variable initial frequency (<bold>b and c</bold>) the toxin responders evolve (red line), rather than quorum- (yellow) or nutrient-sensing (blue) strains.</p></caption><graphic mime-subtype="tiff" mimetype="image" xlink:href="elife-69756-app1-fig9-v1.tif"/></fig><fig id="app1fig10" position="float"><label>Appendix 1—figure 10.</label><caption><title>The benefit of toxin sensing over other sensing strategies is lost when competition time is short.</title><p>As in <xref ref-type="fig" rid="fig4">Figure 4c</xref>, we pit all three sensory strategies against each other in a coevolutionary tournament, but with shortened competition time of 6 hr, which is before the toxin sensor typically recovers (<xref ref-type="fig" rid="fig4">Figure 4d</xref>). Lines show the population proportions of the three strategies for 10 runs of the tournament. In the left-hand side, panel quorum sensing is most successful, but which strategy wins changes based upon chance variation in the initial parameter values such that nutrient sensing (right-hand side panel) and toxin sensing (not shown) can also win depending on the parameter ranges set for each sensing type. This indicates that with short competition time, who wins is determined by lucky initial parameter draws that allow one type to dominate the population with a pool of optimised individuals, but the competitive optimum can be reached equally by any of the three sensing types.</p></caption><graphic mime-subtype="tiff" mimetype="image" xlink:href="elife-69756-app1-fig10-v1.tif"/></fig></sec></boxed-text></app></app-group></back><sub-article article-type="decision-letter" id="sa1"><front-stub><article-id pub-id-type="doi">10.7554/eLife.69756.sa1</article-id><title-group><article-title>Decision letter</article-title></title-group><contrib-group><contrib contrib-type="editor"><name><surname>Bitbol</surname><given-names>Anne-Florence</given-names></name><role>Reviewing Editor</role><aff><institution>Ecole Polytechnique Federale de Lausanne (EPFL)</institution><country>Switzerland</country></aff></contrib></contrib-group><contrib-group><contrib contrib-type="reviewer"><name><surname>Kümmerli</surname><given-names>Rolf</given-names> </name><role>Reviewer</role><aff><institution>University of Zurich</institution><country>Switzerland</country></aff></contrib></contrib-group></front-stub><body><boxed-text><p>In the interests of transparency, eLife publishes the most substantive revision requests and the accompanying author responses.</p></boxed-text><p><bold>Acceptance summary:</bold></p><p>Bacteria often produce toxins to fight competitors. There has been strong interest in understanding the molecular mechanisms of toxin production, release and mode of actions. Less well understood are the costs and benefits of toxin production and how natural selection acts on regulatory circuits controlling toxin production. The paper tackles this problem. Using computer simulations, the authors show that regulated toxin production is generally a better strategy than constitutive toxin production, and reciprocication is fundamental in competitions. Interestingly, reciprocication doesn't evolve into peaceful coexistence, but a strenuous battle.</p><p><bold>Decision letter after peer review:</bold></p><p>[Editors’ note: the authors submitted for reconsideration following the decision after peer review. What follows is the decision letter after the first round of review.]</p><p>Thank you for submitting your article &quot;The Evolution of Strategy in Bacterial Warfare&quot; for consideration by <italic>eLife</italic>. Your article has been reviewed by 3 peer reviewers, and the evaluation has been overseen by a Reviewing Editor and a Senior Editor. The following individual involved in review of your submission has agreed to reveal their identity: Rolf Kümmerli (Reviewer #3).</p><p>Our decision has been reached after consultation between the reviewers. Based on these discussions, we regret to inform you that we cannot accept your work for publication in <italic>eLife</italic> at present. However, if you address all the major concerns below through in-depth changes to the manuscript and new computations, we will be happy to consider a suitably revised manuscript as a new submission, that will be sent back to the same referees. Suggestions below were synthesized from the 3 reviews by the Reviewing Editor.</p><p>Summary:</p><p>Bacteria typically produce toxins to fight competitors. There has been strong interest in understanding the molecular mechanisms of toxin production, release and mode of actions. Less well understood are the costs and benefits of toxin production and how natural selection should act on regulatory circuits controlling toxin production. The paper tackles this problem. Using computer simulations, the authors show that regulated toxin production is generally a better strategy than constitutive toxin production, and reciprocication is fundamental in competitions. Interestingly, reciprocication doesn't evolve into peaceful coexistence, but a strenuous battle.</p><p>All Reviewers and the Reviewing Editor found that the paper makes important and interesting conclusions, and agreed that the model is relevant. However, there were significant reservations about methodology, and about whether the approach fully warrants the conclusions of the paper.</p><p>Essential revisions:</p><p>1) Because of the computational approach of searching parameter space of a quite complex ODE model, a clear quantitative understanding is not provided, but rather an intuition for the observed results. While the model captures the different toxin regulatory systems, which may be complicated to tackle analytically, some analytical insight would really help to demonstrate the generality of the conclusions.</p><p>For instance, an analytical model contrasting constitutive vs. regulated traits (first part of the paper), would build a stronger foundation.</p><p>2) The authors should clarify why the local versus global analysis is required. This is all the more true that the effect of spatial structure was not explored in the current paper.</p><p>If all competitions are pair-wise and the main focus are strategies that invade all other strategies and cannot be reinvaded, why is a metapopulation analysis necessary? Also, the concept is presented is presented in Figure 1, but it is not farther discussed.</p><p>The strategies that win/lose locally, but lose/win globally should be discussed to shed light on the importance of this metapopulation analysis. This might matter with regards to possible extensions of the model to spatial settings.</p><p>3) The connection to (evolutionary) game theory appears superficial. The authors should clarify this point and be particularly careful about wording when they explain the bases of their model.</p><p>In particular, the sentence &quot;we combine evolutionary game theory with differential equation modelling&quot; (line 20) is unfortunate. Evolutionary game theory is primarily differential equation modelling, as for instance, the replicator and replicator mutator equations are ordinary differential equations. (One exception regards finite population analysis, where tools from statistical physics enter.)</p><p>In addition, invasion analysis by itself is static game theory. It implies dynamics from stability of fixed points, but not the actual dynamics itself which is taken into account when studying evolutionary games.</p><p>4) Are the initial frequencies of the two competing populations important for the final outcome? This is related to the previous question regarding different outcomes between local and global. Also, while the model is currently deterministic, in real case scenarios noise plays a big role, so it would be good to briefly discuss this.</p><p>5) In the regulated models, the parameter constraints allow f_induced and f_initial to range between 0 and 1. But because of how the model is set-up, this means that it can happen (and it definitely does looking at Figure 2) that f_initial+f_induced=f is outside the [0,1] range, which is though the constrained range for the f of the constitutive competing strain. This might cause strange model behavior and definitely an unfair competition, so these parameters should be removed/checked.</p><p>1) The model developed in the manuscript captures the toxin regulatory system in bacteria, which is very interesting. However, the title of the manuscript and the abstract should be revised to better reflect the specific system under study.</p><p>2) The population dynamic equations in eq set 1 could be analysed further to get some analytical handle to promote our understanding. The authors could start from the following paper Vasconcelos, P., Rueffler C., 2020, How Does Joint Evolution of Consumer Traits Affect Resource Specialization? The American Naturalist 195: 331-348.</p><p>In addition, the final biomass densities used in the calculation of the invasion fitness (Eq. 2) could be further simplified by focusing on the equilibrium solutions of Eqs. 1 (perhaps under which assumptions the solutions are possible could already be interesting). Providing an expression for the invasion fitness would be a real plus.</p><p>3) Please clarify the rationale for choosing parameters in the simulations, and discuss robustness, beyond the statement &quot;parameters of the algorithm […] are chosen to achieve short simulation times and good convergence behaviour as determined by visually inspecting the distribution of population parameters over time.&quot; (727-730)</p><p>4) Some of the findings are intuitive, as the authors acknowledge. E.g. regulated traits outperform non-regulated traits, but others are more surprising and very interesting. For example, many toxins are quorum-sensing regulated (e.g. phenazines in <italic>P. aeruginosa</italic>). But the authors show that this is not an ideal mechanism because a strain might be killed before it's reaching a high enough density to switch on QS-regulated toxins. I'd like to see a more detailed discussion on this putative mismatch. Related to this, my intuition is that the three mechanisms might work in concert, i.e. a toxin is QS controlled, but the threshold for QS activation is lowered by competition sensing. This would be interesting to discuss.</p><p>5) The conclusion on lines 32-35 is strong. It might apply to mixed conditions as simulated here. However, in spatially structured habitats reciprocal fighting might lead to co-existence as competitors manage to defend their 'territories' and fighting only occurs at the borders. The swift elimination of competitors is maybe less common than assumed in real-world set ups.</p><p>6) The argument is that toxin sensing works best as the winner switches off toxin production once the competitor is eliminated. However, toxins might outlast their producers, such that the switching off might take longer than assumed. Can the authors comments on this?</p><p>[Editors’ note: further revisions were suggested prior to acceptance, as described below.]</p><p>Thank you for submitting your revised article &quot;The evolution of strategy in bacterial warfare: quorum sensing, stress responses, and the regulation of bacteriocins and antibiotics&quot; for consideration by <italic>eLife</italic>. Your article has been reviewed by 2 peer reviewers, and the evaluation has been overseen by a Reviewing Editor and Aleksandra Walczak as the Senior Editor. The following individual involved in review of your submission has agreed to reveal their identity: Rolf Kümmerli (Reviewer #2).</p><p>Both reviewers are very positive about your revised manuscript and recommend publication. However, both reviewers and the reviewing editor agree that one revision would improve your manuscript. Therefore, we would like to ask you to do this revision before we accept your manuscript for publication.</p><p>Essential revision:</p><p>While the motivation for the local vs. global analysis is well explained, the results from this analysis should be clarified. In figure 1, interesting examples are proposed of strategies that might win/lose locally and then lose/win globally. These are very interesting cases that point at non-trivial competition dynamics. It would be important to add a figure or table (perhaps in the supplement) and an associated discussion paragraph where it is shown that doing this additional meta-population analysis is necessary and adds something to the local competition part. The aim of this addition would be to address the following question: Would the optimal strategy change if one didn't do the global competition step? Some statistics of counter-intuituive scenarios explored, based on their classification in figure 1d, would address this point.</p><p><italic>Reviewer #1 (Recommendations for the authors):</italic></p><p>The manuscript puts forward exciting hypotheses about the strategies of toxin production in bacteria, which would be very interesting to test experimentally. Also, future work that tries to shed deeper analytical insight in the results would undoubtedly be very interesting.</p><p>I think the work is definitely worth publication. I find the presentation of the results sometimes difficult to follow, partially because the details of the models, which is very helpful to understand the results, is detailed at the end of the paper in the methods. But probably this is unavoidable given the format.</p><p>I believe the current version of the manuscript reads better and clarifies some of the misunderstandings in previous versions. There are, however, some criticisms that have not, in my opinion, been well addressed.</p><p>1) I appreciate the complexity of the model and the strengths that come with including this complexity. The new analytical work carried out to investigate stability of the fixed points helps towards the analytical interpretation of the results. I think, however, the criticism previously raised by the reviewers was trying to determine whether a simpler model, analytically tractable, would be able to reproduce some of the results showed here, while giving more analytical insight. I don't think the manuscript currently addresses this issue. On the other hand, I also think that it can be left to future work as it is a very interesting and challenging research direction.</p><p>2) I am satisfied with the motivation behind the local versus global analysis, which I think is very important, especially in potential future applications to spatial settings of this work. The motivation behind the analysis was never in question. What I don't understand are the results from this analysis. In figure 1, interesting examples are proposed of strategies that might win/lose locally and then lose/win globally. These are very interesting cases that point at non-trivial competition dynamics that would be interesting to investigate further in future work, but I don't see these cases discussed anywhere in the results. I understand that the results of the algorithm come from a sequence of local competition, dispersal, seeding, etc…, that include this metapopulation competition, but I would like to see a figure/paragraph/discussion where it is shown that doing this additional meta-population analysis adds something to the local competition part. Would the optimal strategy change if one didn't do the global competition step? If the answer is yes, which I imagine it is, where do I see this?</p><p><italic>Reviewer #2 (Recommendations for the authors):</italic></p><p>The authors have done a very good job in revising their paper. The main issue that arose during the first round of reviewing was the lack of an analytical model to establish a stronger foundation of the principles of competition sensing. Although it was not me who brought up this issue, I have consulted the authors' responses, edits in the main paper and extra analysis in the supplements with great care. My opinion is that the authors have convincingly solved the debate. There is simply no possibility to device an analytical model that captures even the simplest regulatory circuits involved in competition sensing and toxin production. The most important thing is that the authors have not only used verbal arguments to make their point, but have immensely invested in analytical modelling to show why the approach does not work. I believe that the strength of the paper is its biological realism and the fact that it generates predictions that can be empirically tested.</p><p>Moreover, the authors have adequately addressed my own comments. The discussion on interactions between regulatory mechanisms and the role of ecology have significantly improved the paper. The addition on local vs. global interactions is also important, especially for non-specialist readers.</p></body></sub-article><sub-article article-type="reply" id="sa2"><front-stub><article-id pub-id-type="doi">10.7554/eLife.69756.sa2</article-id><title-group><article-title>Author response</article-title></title-group></front-stub><body><p>[Editors’ note: the authors resubmitted a revised version of the paper for consideration. What follows is the authors’ response to the first round of review.]</p><disp-quote content-type="editor-comment"><p>Essential revisions:</p><p>1) Because of the computational approach of searching parameter space of a quite complex ODE model, a clear quantitative understanding is not provided, but rather an intuition for the observed results. While the model captures the different toxin regulatory systems, which may be complicated to tackle analytically, some analytical insight would really help to demonstrate the generality of the conclusions.</p><p>For instance, an analytical model contrasting constitutive vs. regulated traits (first part of the paper), would build a stronger foundation.</p></disp-quote><p>We agree that analytical solutions are desirable whenever possible. We did not go this route in this study because our goal is to capture the details of bacterial regulation and competition that microbiologists care about, and to study when and why such complex regulation evolves. The issue then is that analytical solutions would require much simpler starting equations, or simplifying assumptions, with which we would not have achieved our goal. This is already evident in our equation 1, which is based upon a previously published study on bacterial competition via toxins (Bucci, Nadell, and Xavier 2011). This equation, although it does not include the details of toxin regulation, is already of a class that is problematic for analytics.</p><p>Nevertheless, over these last months, we have engaged in a serious effort to see what explorations might be possible analytically with our model or a simplified version of it that still captured the relevant biology. To do this, we brought on board a mathematician (Aming Li) who is an expert in the analytics of ecological and evolutionary processes. More specifically, we used Equation 1 from our manuscript and wrote the analytical form that gives the system's derivative for a given state with respect to time as well as the Jacobian matrix to explore the stability of the system (new Supplementary analytics section of the manuscript). It is important to note that we are making the simplifying assumption of setting nutrients to a constant, akin to a chemostat version of our model. We cannot make a similar assumption regarding toxins, as this would remove the key way in which the bacterial strains are interacting.</p><p>We then analytically explored the system's stability for a set initial conditions and a range of toxin investments. We compared the analytical results for the derivatives with the results from our numerical simulation, and we found them to be identical (Supplementary analytics section, Supplementary Analytics Figure 1). This is then a confirmation that analytics and our numerics give the same results, although this result is expected because we have implemented our numerical simulations with step sizes chosen to extremely accurately approximate an analytical solution. Our stability analysis of the system shows that all equilibria are unstable (Supplementary analytics section, Supplementary Analytics Figure 1), which is because our model contains feedback loops that render it unstable for non-trivial states.</p><p>Supplementary Analytics Figure 1 also demonstrates clearly how analytical explorations fall short of tackling the essence of our system: the results show that the toxin investment of strain A at time t does not impact biomass B, which seems counterintuitive. This is because the analytical solution explores an instant in time, but fails entirely to capture the key interactions between strains. Those occur through toxin production (and in the full model through consumption of limited nutrients), and those create feed-back loops within the system (for example toxin investment of A is responsible for reduction in biomass of B and then in turn for a reduction in toxin B), analogous to more classical predator-prey models, which we note have previously been shown to be intractable by analytics (Boys, Wilkinson, and Kirkwood 2008; Liu and Chen 2003; Gutiérrez and Rosales 1998).</p><p>In summary, we found that an analytical exploration of the model did not capture the key processes at hand, nor did it help us with our understanding. We have now added a new paragraph where we discuss this (&quot;Overview&quot; section of &quot;Results and Discussion&quot;) and better explain why we rely on numerics. We also now include the analytical stability analysis as a Supplementary Method (Supplementary Analytics section).</p><p>In place of analytical results, we have numerically explored the evolution of different regulatory strategies under a wide range of conditions, including i) against one optimised unregulated strategy (Figure 2), ii) against a diversity of unregulated strategies (Figure 3), iii) against the same class of unregulated strategy (Figure 4a,b) and, finally, iv) against an open set of all of the regulated and unregulated strategies (Figure 4c,d). Across all of these scenarios, the strategy class that performs the best is toxin sensing, our key conclusion. Moreover, we have tested the robustness of this prediction across numerous parameter sweeps (Figures 2, S4, S5, S6), which again predict the supremacy of toxin sensing. Finally, we are able to provide an intuitive post hoc explanation for why toxin sensing does so well – it is able to downregulate toxin production after winning a competition – and, importantly, we demonstrate this explanation is indeed causal by shortening competition time which removes this advantage (Figures 3, S7). All of these points combine to give us a lot of confidence in our predictions.</p><p>To close this discussion, we would also like to emphasise that – while our work does not have proofs of the sort that are seen in some papers in theoretical biology – our attention to biological details does mean that we generate readily testable prediction e.g. bacteria should often use damage or cues of damage to coordinate their attacks. Our approach then allows us to fulfil our goals better than generating simpler models that lack these details in order to look for more abstract principles. That is, while our work may not be amenable to robustness testing via analytics, it <italic>is</italic> amenable to experimental testing by microbiologists, and this is our research priority.</p><disp-quote content-type="editor-comment"><p>2) The authors should clarify why the local versus global analysis is required. This is all the more true that the effect of spatial structure was not explored in the current paper.</p><p>If all competitions are pair-wise and the main focus are strategies that invade all other strategies and cannot be reinvaded, why is a metapopulation analysis necessary? Also, the concept is presented is presented in Figure 1, but it is not farther discussed.</p><p>The strategies that win/lose locally, but lose/win globally should be discussed to shed light on the importance of this metapopulation analysis. This might matter with regards to possible extensions of the model to spatial settings.</p></disp-quote><p>Our modelling captures different strategies for bacterial interactions and we are interested in the expected long-term evolutionary fate for these strategies. To achieve this in a way that is relevant to the real world, we consider the potential competition both within and between patches of bacteria, which recognises that the outcome of local competition in any given patch will often not be sufficient to predict evolutionary trajectories. Consider, for example, a competition between two strains of bacteria in one of the pores of your tongue. If we focus solely on local competition within the pore, then any strategy that results in a focal strain making more cells than its competitor will be favoured, even if this leads to relative ruin for the winning strain, with only a few cells surviving the process. However, given these competitions can go on in many pores across many tongues, it is unlikely that such extreme strategies would be favoured as they mean few cells are produced to colonise new patches. Instead, the best strategies are those that make the most cells to disperse, which can also mean they win locally, but it might not. This is what our global analysis captures and it is why it is critical for our modelling. To make this clearer, we now include the above thought experiment in the main text (under section &quot;Evolution of warfare via unregulated toxin production&quot;) in reference to Figure 1. We also now discuss spatial structure both with regards to the local (ODE) model, and with regards to our metapopulation level (see &quot;Conclusions&quot;, second paragraph).</p><disp-quote content-type="editor-comment"><p>3) The connection to (evolutionary) game theory appears superficial. The authors should clarify this point and be particularly careful about wording when they explain the bases of their model.</p><p>In particular, the sentence &quot;we combine evolutionary game theory with differential equation modelling&quot; (line 20) is unfortunate. Evolutionary game theory is primarily differential equation modelling, as for instance, the replicator and replicator mutator equations are ordinary differential equations. (One exception regards finite population analysis, where tools from statistical physics enter.)</p><p>In addition, invasion analysis by itself is static game theory. It implies dynamics from stability of fixed points, but not the actual dynamics itself which is taken into account when studying evolutionary games.</p></disp-quote><p>We agree that our wording in the example above and in other places was not very clear. However, our work is more than superficially linked to game theory. To appreciate this, one has to realise that there are, by now, two rather different approaches used in evolutionary game theory. Evolutionary game theory, as originally conceived by Maynard Smith and Price, is based on calculations that ask whether a given strategy will invade from initially being rare (static game theory e.g. Maynard-Smith 1982. Evolution and the Theory of Games, Cambridge University Press). These are the kinds of tests that we are performing. More recently, an alternative set of approaches that use differential equations to follow the evolutionary process have also been called evolutionary game theory (dynamic game theory e.g. Hofbauer and Sigmund 1998. Evolutionary games and population dynamics. Cambridge University Press).</p><p>The confusion here then lies in the fact that we are not using this second form of game theory, but we are using ODEs. However, in our case the ODEs follow competitions on ecological timescales, which we use to calculate the success of a strategy against another strategy who meet locally. It is because of these biological details – the competition for nutrients and with toxins and the resulting feedback loops – that we need to capture in our local competitions that our system is not amenable to using dynamic game theory (see our response to point (1)). And of course we cannot just stop at modelling local competition without studying how this will affect the entire meta-populations on an evolutionary time-scale (as discussed in the last point). To achieve this, we combine our numerical solutions of our local competition with static game theory to ask whether this local invasion will lead to a global invasion (Maynard Smith and Price). To avoid further confusion for any reader, we now make it clearer that we are using static game theory in the text as follows:</p><p>–line 33: Abstract “Here we combine a detailed dynamic model of bacterial competition with static game theory to study the rules of bacterial warfare.” This avoids too many detailed modelling terms before we define them clearly in the main text</p><p>(previously: “Here we combine evolutionary game theory with differential equation modelling to study the rules of bacterial warfare.”)</p><p>– line 95: Introduction “Here we study the evolution of strategy during bacterial warfare by combining a detailed differential equation model of toxin-based competition with static game theory to identify the most evolutionarily successful strategies.” (previously: “Here we study the evolution of strategy during bacterial warfare by combining an explicit differential equation model of toxin-based competition with evolutionary game theory.”)</p><p>– line 119: Results and Discussion, Overview “We use these differential equations to model ecological interactions of bacterial strains and determine the outcome of competition for a given strategy against another strategy when they meet locally. These local-level competitions are embedded into a larger meta-population framework that determines long-term evolutionary outcomes [56] (Figure 1c and d). This meta-population modelling includes invasion analysis, in the tradition of static game theory developed by Maynard Smith and Price [57], and a more explicit genetic algorithm that employs the same logic (Methods). This algorithm pits diverse strategies against each other across a large number of combinations in order to find the most successful strategies. In these meta-population models, bacterial strains are assumed to compete locally in a large number of patches, but also globally through dispersal to seed new, empty patches based on a standard life history of bacteria used in previous models [58–62] (Figure 1c). Also as previously [62], we refer to the global population as a metapopulation to distinguish it from the local bacterial cell population in each patch. This approach accounts for the possibility that a strategy can do well in local competition, but do poorly globally, and vice versa (Figure 1d). ” (previously: “We use these equations to pit different strategies of attack against one another, and these local competitions are imbedded into a larger framework that uses evolutionary game theory [55] to understand which strategies will evolve (Figure 1 c and d).”)</p><p>– line 225: “To capture this effect, we embed the local-level competitions within a broader meta-population framework in order to make evolutionary predictions [56,69,70] (see Figure 1 c and d). This framework allows us to ask whether a particular, initially rare, strategy can successfully invade a metapopulation of another strategy (Methods).” (previously: “We embed these competitions within a broader framework of evolutionary game theory[55,64,65]“)</p><disp-quote content-type="editor-comment"><p>4) Are the initial frequencies of the two competing populations important for the final outcome? This is related to the previous question regarding different outcomes between local and global. Also, while the model is currently deterministic, in real case scenarios noise plays a big role, so it would be good to briefly discuss this.</p></disp-quote><p>This question is covered by one of several parameter sweeps that were in the original submission (Figure S6). There we study the effects of initial frequency in a model of stochastic variation in the initial strain frequencies, using the most general model where all strategies compete with one another. Our results show our predictions are robust for different initial frequencies in the two strains. We have now extended our description of this result in the main text (section &quot;The coevolution of regulated attack strategies') to make this clearer.</p><disp-quote content-type="editor-comment"><p>5) In the regulated models, the parameter constraints allow f_induced and f_initial to range between 0 and 1. But because of how the model is set-up, this means that it can happen (and it definitely does looking at Figure 2) that f_initial+f_induced=f is outside the [0,1] range, which is though the constrained range for the f of the constitutive competing strain. This might cause strange model behavior and definitely an unfair competition, so these parameters should be removed/checked.</p></disp-quote><p>We are sorry about this confusion in the text. To be clear about the definitions: f_initial indicates the toxin investment at the initial condition, f_induced indicates the level of toxin investment when a sensor is triggered. Thus, the change in investment occuring due to the trigger is f_induced-f_initial. We clarify this now in the text and in the legend of Figure 2.</p><disp-quote content-type="editor-comment"><p>1) The model developed in the manuscript captures the toxin regulatory system in bacteria, which is very interesting. However, the title of the manuscript and the abstract should be revised to better reflect the specific system under study.</p></disp-quote><p>This is a good suggestion, and we have now revised the abstract and title accordingly to be more specific about the types of regulation (quorum sensing and stress responses) and the phenotype under regulation (toxin production).</p><disp-quote content-type="editor-comment"><p>2) The population dynamic equations in eq set 1 could be analysed further to get some analytical handle to promote our understanding. The authors could start from the following paper Vasconcelos, P., Rueffler C., 2020, How Does Joint Evolution of Consumer Traits Affect Resource Specialization? The American Naturalist 195: 331-348.</p><p>In addition, the final biomass densities used in the calculation of the invasion fitness (Eq. 2) could be further simplified by focusing on the equilibrium solutions of Eqs. 1 (perhaps under which assumptions the solutions are possible could already be interesting). Providing an expression for the invasion fitness would be a real plus.</p></disp-quote><p>Thank you for this suggestion, we looked through this paper and considered it as a starting point but it does not capture our problem well and, as discussed above, analytics more generally are incapable of capturing key features of our system.</p><disp-quote content-type="editor-comment"><p>3) Please clarify the rationale for choosing parameters in the simulations, and discuss robustness, beyond the statement &quot;parameters of the algorithm […] are chosen to achieve short simulation times and good convergence behaviour as determined by visually inspecting the distribution of population parameters over time.&quot; (727-730)</p></disp-quote><p>As is typical in non-adaptive genetic algorithms, we base our choice of the control parameters of the algorithm on positive convergence behaviour and short convergence times (Melanie 1996). Further, we reran the simulations with 20 different sets of hyper-parameters to confirm that our findings are not specific to the set of parameters we used initially. We now add this explanation into the &quot;Genetic Algorithm&quot; section: &quot;In our sensitivity analysis, we also examine the results of the genetic algorithm with alternative sets of control parameters, including a smaller and a larger size of the mutation standard deviation (sd=0.01 and sd=0.0005), a smaller and larger proportion of “migrating” strategies in each generation (5 of 60, and 20 of 60), and five different sizes of the population of strategies (50, 70, 80, 90, 100). This yields 20 alternative parameters combinations.&quot; (see &quot;Genetic Algorithm&quot; section). The results were consistent with our main simulation. We have also extended the appropriate sentence in the Results section: &quot;Despite a great number of potential combinations (over two million different competitions), and with different sets of hyperparameters of the genetic algorithm, we again see a clear winner in toxin-based regulation, both for our normal parameters (Table 1, Figure 4c) and for sweeps that consider broad ranges of these parameters (Figures S5) and a wide range of initial frequencies of the two strains (Figure S6). &quot;</p><disp-quote content-type="editor-comment"><p>4) Some of the findings are intuitive, as the authors acknowledge. E.g. regulated traits outperform non-regulated traits, but others are more surprising and very interesting. For example, many toxins are quorum-sensing regulated (e.g. phenazines in <italic>P. aeruginosa</italic>). But the authors show that this is not an ideal mechanism because a strain might be killed before it's reaching a high enough density to switch on QS-regulated toxins. I'd like to see a more detailed discussion on this putative mismatch. Related to this, my intuition is that the three mechanisms might work in concert, i.e. a toxin is QS controlled, but the threshold for QS activation is lowered by competition sensing. This would be interesting to discuss.</p></disp-quote><p>We agree, these are two very interesting points. We have now included a more detailed discussion of why QS might be more common than we are expecting from our results. We now say (in &quot;Conclusion&quot; section) &quot;However, if detecting damage is the best basis for attack, why do some bacteria use these other forms of regulation? For short competition times, our model predicts that the three regulatory strategies are largely equivalent (Figures 3 and S7). A short duration of competition between strains removes the benefit of decreasing toxin production once an attacker has been overcome. Under these conditions, the evolutionary path to one form of regulation may largely be determined by differences in costs for regulatory networks and which pre-existing regulatory systems are available for co-option [98,99]. We predict, therefore, that mechanisms to reciprocate attacks are particularly valuable in environments where warfare commonly leaves a victor unchallenged for a long time afterwards. Consistent with this, one of the clearest examples of reciprocation occurs in <italic>E. coli</italic> [66,84,88], which uses colicin toxins to displace other strains and persists for long periods within the mammalian microbiome [100].</p><p>Another possible explanation for why some bacteria do not use cell damage to regulate their toxins comes from the notion of ‘silent’ toxins. These are toxins that are not easily detected by the cell’s stress responses, which may limit the potential for a toxin-mediated response. For example, some toxins depolarise membranes[101] and may be favoured by natural selection specifically because they do not provoke dangerous reciprocation in competitors [87].&quot;.</p><p>We have also extended our discussion on how multiple sensory mechanisms might work in concert (&quot;Conclusion&quot; section): &quot;[…] bacteria appear to use multiple forms of regulation in order to integrate information from multiple sources [41]. For example, <italic>Streptomyces coelicolor</italic> regulates antibiotic production via both nutrient limitation [102] and mechanisms that detect incoming antibiotics (envelope stress [103]). A potential future use of our modelling framework would be to study how these combined regulatory strategies evolve.&quot;</p><disp-quote content-type="editor-comment"><p>5) The conclusion on lines 32-35 is strong. It might apply to mixed conditions as simulated here. However, in spatially structured habitats reciprocal fighting might lead to co-existence as competitors manage to defend their 'territories' and fighting only occurs at the borders. The swift elimination of competitors is maybe less common than assumed in real-world set ups.</p></disp-quote><p>We agree with this, and have now removed this sentence from our abstract.</p><disp-quote content-type="editor-comment"><p>6) The argument is that toxin sensing works best as the winner switches off toxin production once the competitor is eliminated. However, toxins might outlast their producers, such that the switching off might take longer than assumed. Can the authors comments on this?</p></disp-quote><p>Yes, in our local competitions toxins can outlast their producers. Consistent with this, winning strains commonly downregulate their toxin once the competitor toxin falls to a value that is small, but not exactly zero. That is, these strategies use low rather than zero toxin as a cue for elimination of the opponent. In response, we have altered our discussion of this as follows: &quot;Instead, the winning strategies are initially aggressive and only become passive once an opponent is eliminated (Figure 4 d-f) – or nearly eliminated, because eliminated strains can be outlasted by their toxins, which in turn will take a while to be lost entirely. Indeed the winning strains in these competitions downregulate their toxin once the competitor toxin falls below a value that is small but still non-zero.&quot;</p><p>[Editors’ note: what follows is the authors’ response to the second round of review.]</p><disp-quote content-type="editor-comment"><p>Essential revision:</p><p>While the motivation for the local vs. global analysis is well explained, the results from this analysis should be clarified. In figure 1, interesting examples are proposed of strategies that might win/lose locally and then lose/win globally. These are very interesting cases that point at non-trivial competition dynamics. It would be important to add a figure or table (perhaps in the supplement) and an associated discussion paragraph where it is shown that doing this additional meta-population analysis is necessary and adds something to the local competition part. The aim of this addition would be to address the following question: Would the optimal strategy change if one didn't do the global competition step? Some statistics of counterintuituive scenarios explored, based on their classification in figure 1d, would address this point.</p><p>Reviewer #1 (Recommendations for the authors):</p><p>The manuscript puts forward exciting hypotheses about the strategies of toxin production in bacteria, which would be very interesting to test experimentally. Also, future work that tries to shed deeper analytical insight in the results would undoubtedly be very interesting.</p><p>I think the work is definitely worth publication. I find the presentation of the results sometimes difficult to follow, partially because the details of the models, which is very helpful to understand the results, is detailed at the end of the paper in the methods. But probably this is unavoidable given the format.</p><p>I believe the current version of the manuscript reads better and clarifies some of the misunderstandings in previous versions. There are, however, some criticisms that have not, in my opinion, been well addressed.</p><p>1) I appreciate the complexity of the model and the strengths that come with including this complexity. The new analytical work carried out to investigate stability of the fixed points helps towards the analytical interpretation of the results. I think, however, the criticism previously raised by the reviewers was trying to determine whether a simpler model, analytically tractable, would be able to reproduce some of the results showed here, while giving more analytical insight. I don't think the manuscript currently addresses this issue. On the other hand, I also think that it can be left to future work as it is a very interesting and challenging research direction.</p><p>2) I am satisfied with the motivation behind the local versus global analysis, which I think is very important, especially in potential future applications to spatial settings of this work. The motivation behind the analysis was never in question. What I don't understand are the results from this analysis. In figure 1, interesting examples are proposed of strategies that might win/lose locally and then lose/win globally. These are very interesting cases that point at non-trivial competition dynamics that would be interesting to investigate further in future work, but I don't see these cases discussed anywhere in the results. I understand that the results of the algorithm come from a sequence of local competition, dispersal, seeding, etc…, that include this metapopulation competition, but I would like to see a figure/paragraph/discussion where it is shown that doing this additional meta-population analysis adds something to the local competition part. Would the optimal strategy change if one didn't do the global competition step? If the answer is yes, which I imagine it is, where do I see this?</p></disp-quote><p>We were very pleased that the referees were enthusiastic about publication. As requested, we have now addressed the remaining concerns about the non-trivial competition dynamics shown in Figure 1d. As suggested, we have added a Supplementary Table that reports on the occurrence of all four possible competition dynamics (as per Figure 1 d) occurring in the simulations underlying Figure 2. This shows that all of the four possible outcomes occur. The less intuitive outcomes are rarer than the more intuitive ones, as one would expect, but the fact that all cases occur underlines that the correct metric for fitness is one that accounts for global competition as well as local competition. We now highlight this analysis in the description of the Figure 1, and we also discuss the new Table where we describe our findings of Figure 2.</p></body></sub-article></article>