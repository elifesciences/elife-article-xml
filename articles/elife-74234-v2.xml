<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE article PUBLIC "-//NLM//DTD JATS (Z39.96) Journal Archiving and Interchange DTD with MathML3 v1.2 20190208//EN"  "JATS-archivearticle1-mathml3.dtd"><article article-type="research-article" dtd-version="1.2" xmlns:ali="http://www.niso.org/schemas/ali/1.0/" xmlns:xlink="http://www.w3.org/1999/xlink"><front><journal-meta><journal-id journal-id-type="nlm-ta">elife</journal-id><journal-id journal-id-type="publisher-id">eLife</journal-id><journal-title-group><journal-title>eLife</journal-title></journal-title-group><issn pub-type="epub" publication-format="electronic">2050-084X</issn><publisher><publisher-name>eLife Sciences Publications, Ltd</publisher-name></publisher></journal-meta><article-meta><article-id pub-id-type="publisher-id">74234</article-id><article-id pub-id-type="doi">10.7554/eLife.74234</article-id><article-categories><subj-group subj-group-type="display-channel"><subject>Research Article</subject></subj-group><subj-group subj-group-type="heading"><subject>Developmental Biology</subject></subj-group></article-categories><title-group><article-title>ZAF, the first open source fully automated feeder for aquatic facilities</article-title></title-group><contrib-group><contrib contrib-type="author" corresp="yes" id="author-254879"><name><surname>Lange</surname><given-names>Merlin</given-names></name><contrib-id authenticated="true" contrib-id-type="orcid">https://orcid.org/0000-0003-0534-4374</contrib-id><email>merlin.lange@czbiohub.org</email><xref ref-type="aff" rid="aff1">1</xref><xref ref-type="fn" rid="con1"/><xref ref-type="fn" rid="conf1"/></contrib><contrib contrib-type="author" id="author-254880"><name><surname>Solak</surname><given-names>AhmetCan</given-names></name><xref ref-type="aff" rid="aff1">1</xref><xref ref-type="fn" rid="con2"/><xref ref-type="fn" rid="conf1"/></contrib><contrib contrib-type="author" id="author-263508"><name><surname>Vijay Kumar</surname><given-names>Shruthi</given-names></name><xref ref-type="aff" rid="aff1">1</xref><xref ref-type="fn" rid="con3"/><xref ref-type="fn" rid="conf2"/></contrib><contrib contrib-type="author" id="author-254882"><name><surname>Kobayashi</surname><given-names>Hirofumi</given-names></name><xref ref-type="aff" rid="aff1">1</xref><xref ref-type="fn" rid="con4"/><xref ref-type="fn" rid="conf2"/></contrib><contrib contrib-type="author" id="author-182887"><name><surname>Yang</surname><given-names>Bin</given-names></name><xref ref-type="aff" rid="aff1">1</xref><xref ref-type="fn" rid="con5"/><xref ref-type="fn" rid="conf2"/></contrib><contrib contrib-type="author" corresp="yes" id="author-168136"><name><surname>Royer</surname><given-names>Loïc Alain</given-names></name><contrib-id authenticated="true" contrib-id-type="orcid">https://orcid.org/0000-0002-9991-9724</contrib-id><email>loic.royer@czbiohub.org</email><xref ref-type="aff" rid="aff1">1</xref><xref ref-type="other" rid="fund1"/><xref ref-type="fn" rid="con6"/><xref ref-type="fn" rid="conf1"/></contrib><aff id="aff1"><label>1</label><institution>Chan Zuckerberg Biohub</institution><addr-line><named-content content-type="city">San Francisco</named-content></addr-line><country>United States</country></aff></contrib-group><contrib-group content-type="section"><contrib contrib-type="editor"><name><surname>Ekker</surname><given-names>Stephen C</given-names></name><role>Reviewing Editor</role><aff><institution>Mayo Clinic</institution><country>United States</country></aff></contrib><contrib contrib-type="senior_editor"><name><surname>White</surname><given-names>Richard M</given-names></name><role>Senior Editor</role><aff><institution>Memorial Sloan Kettering Cancer Center</institution><country>United States</country></aff></contrib></contrib-group><pub-date date-type="publication" publication-format="electronic"><day>09</day><month>12</month><year>2021</year></pub-date><pub-date pub-type="collection"><year>2021</year></pub-date><volume>10</volume><elocation-id>e74234</elocation-id><history><date date-type="received" iso-8601-date="2021-09-29"><day>29</day><month>09</month><year>2021</year></date><date date-type="accepted" iso-8601-date="2021-12-08"><day>08</day><month>12</month><year>2021</year></date></history><permissions><copyright-statement>© 2021, Lange et al</copyright-statement><copyright-year>2021</copyright-year><copyright-holder>Lange et al</copyright-holder><ali:free_to_read/><license xlink:href="http://creativecommons.org/licenses/by/4.0/"><ali:license_ref>http://creativecommons.org/licenses/by/4.0/</ali:license_ref><license-p>This article is distributed under the terms of the <ext-link ext-link-type="uri" xlink:href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution License</ext-link>, which permits unrestricted use and redistribution provided that the original author and source are credited.</license-p></license></permissions><self-uri content-type="pdf" xlink:href="elife-74234-v2.pdf"/><self-uri content-type="figures-pdf" xlink:href="elife-74234-figures-v2.pdf"/><abstract><p>In the past few decades, aquatic animals have become popular model organisms in biology, spurring a growing need for establishing aquatic facilities. Zebrafish are widely studied and relatively easy to culture using commercial systems. However, a challenging aspect of maintaining aquatic facilities is animal feeding, which is both time- and resource-consuming. We have developed an open-source fully automatic daily feeding system, Zebrafish Automatic Feeder (ZAF). ZAF is reliable, provides a standardized amount of food to every tank, is cost-efficient and easy to build. The advanced version, ZAF+, allows for the precise control of food distribution as a function of fish density per tank, and has a user-friendly interface. Both ZAF and ZAF+ are adaptable to any laboratory environment and facilitate the implementation of aquatic colonies. Here, we provide all blueprints and instructions for building the mechanics, electronics, fluidics, as well as to setup the control software and its user-friendly graphical interface. Importantly, the design is modular and can be scaled to meet different user needs. Furthermore, our results show that ZAF and ZAF+ do not adversely affect zebrafish culture, enabling fully automatic feeding for any aquatic facility.</p></abstract><kwd-group kwd-group-type="author-keywords"><kwd>zebrafish</kwd><kwd>open-source</kwd><kwd>feeder</kwd><kwd>automatic</kwd><kwd>zaf</kwd><kwd>aquatic</kwd></kwd-group><kwd-group kwd-group-type="research-organism"><title>Research organism</title><kwd>Zebrafish</kwd></kwd-group><funding-group><award-group id="fund1"><funding-source><institution-wrap><institution>Chan Zuckerberg Biohub</institution></institution-wrap></funding-source><principal-award-recipient><name><surname>Royer</surname><given-names>Loïc Alain</given-names></name></principal-award-recipient></award-group><funding-statement>The funders had no role in study design, data collection and interpretation, or the decision to submit the work for publication.</funding-statement></funding-group><custom-meta-group><custom-meta specific-use="meta-only"><meta-name>Author impact statement</meta-name><meta-value>ZAF (Zebrafish Automated Feeder) is the first fully automated, easy to build, and open source fish feeder designed for small and medium sized labs of which there are an estimated 3250 in 100 countries working with Zebrafish alone today.</meta-value></custom-meta></custom-meta-group></article-meta></front><body><sec id="s1" sec-type="intro"><title>Introduction</title><p>The zebrafish (<italic>Danio rerio</italic>) is a well-established animal model in biology, with increasing use in different fields (<xref ref-type="bibr" rid="bib9">Kinth et al., 2013</xref>; <xref ref-type="bibr" rid="bib15">Lidster et al., 2017</xref>), including developmental biology (<xref ref-type="bibr" rid="bib14">Lawson and Wolfe, 2011</xref>), neuroscience (<xref ref-type="bibr" rid="bib22">Wyatt et al., 2015</xref>) and genetics (<xref ref-type="bibr" rid="bib16">Lieschke and Currie, 2007</xref>). Among their advantages, zebrafish are vertebrates and have excellent optical properties as well as accessible genetics. Another essential feature of zebrafish is their low maintenance and husbandry cost (<xref ref-type="bibr" rid="bib20">Westerfield, 2000</xref>). The development of commercial systems for zebrafish culture has helped advance zebrafish research (<xref ref-type="bibr" rid="bib11">Lawrence, 2007</xref>). However, implementing a zebrafish facility remains a challenge for many small to medium sized laboratories due to cost and infrastructure issues. The most important aspect of zebrafish husbandry is the feeding, usually done manually at least two times a day by dedicated staff, using dry or living food like <italic>Artemia nauplii</italic> (<xref ref-type="bibr" rid="bib12">Lawrence, 2011</xref>). Overall, manual feeding is not sufficiently accurate and can be time and resource prohibitive for labs without dedicated staff (<xref ref-type="bibr" rid="bib6">Candelier et al., 2019</xref>). Very few technologies have been developed to automate zebrafish feeding and husbandry to help offset the challenges associated with implementing an aquatic facility. Some vendors propose fully automated solutions, but these are typically expensive, proprietary, incompatible with other systems, and require manual food filling before each feeding session. Other groups have recently published semi-automatic solutions that require human supervision (<xref ref-type="bibr" rid="bib6">Candelier et al., 2019</xref>; <xref ref-type="bibr" rid="bib18">Tangara et al., 2019</xref>). However, there is no open access and fully automated solution currently available. Ideally, all blueprints and instructions for building a flexible and scalable fully automated feeding system should be available to the zebrafish community. Importantly, such a design should be optimised for simplicity to facilitate adoption, avoiding complex 3D printing, mechanical assembly, or complex circuit board manufacturing. It should be easily assembled from inexpensive and commercially available parts, making it maximally accessible for non-experts. Here, we present ZAF (Zebrafish Automated Feeding) which satisfies all these requirements for automatic feeding of zebrafish as well as for any similar aquatic model organism.</p></sec><sec id="s2" sec-type="results"><title>Results</title><sec id="s2-1"><title>Automating aquatic husbandry</title><p>Establishing and maintaining an aquatic colony in research labs is not trivial. The colony requires a dedicated room with specific characteristics (e.g. temperature, water source, drain access, etc.) and regular monitoring by committed staff. To facilitate access to zebrafish research, and to reduce the amount of work needed to rear these animals, we developed a small semi-automated aquatic facility system that can be built within a regular wet lab. The only requirement being access to a sink and deionized water. To construct our facility, we used a stand-alone zebrafish rack, commercially available from different suppliers, that requires only minimum maintenance because these systems typically monitor water quality and automatically adjust water pH and conductivity. We then enclosed this system inside of a large indoor tent (<xref ref-type="fig" rid="fig1s1">Figure 1—figure supplement 1</xref>), and equipped this tent with a smart heating system to control the temperature, a carbon purifier to regulate humidity and odors, cameras for remote monitoring, and water sensor ropes to detect leaks. Once this basic life-support is provided the only missing feature to attain full automation is automatic feeding which is important to reduce staff workload (mainly during weekends and holidays) and standardize feeding. We introduce two affordable and easy to build automatic feeding systems: ZAF and ZAF+ (<xref ref-type="video" rid="video1">Video 1</xref>). Parts list, building instructions, and detailed blueprints to build your own ZAFs are provided in the <xref ref-type="supplementary-material" rid="supp1">Supplementary file 1</xref> and the latest version of this material can be found in the in the accompanying wiki (<ext-link ext-link-type="uri" xlink:href="https://github.com/royerlab/ZAF/wiki">github.com/royerlab/ZAF/wiki</ext-link>). ZAFs are affordable and leveraging only commercially available parts (<xref ref-type="supplementary-material" rid="supp2 supp3">Supplementary files 2 and 3</xref>) We also provide the open-source python-based software to run the device, with command line interface (CLI) for ZAF and a stand-alone graphic user interface (GUI) for ZAF+.</p><media id="video1" mime-subtype="mp4" mimetype="video" xlink:href="elife-74234-video1.mp4"><label>Video 1.</label><caption><title>ZAF presentation video, introducing the main features of the automatic feeders.</title></caption></media></sec><sec id="s2-2"><title>ZAF basic workflow</title><p>ZAF’s design relies on mixing water with dry zebrafish food and then distributing this mix to all fish tanks. The basic operating principle of ZAF is simple: a servo motor rotates a food canister to dispense food into a container directly filled with water. This food-water mixture is then distributed to the tanks using pumps and a manifold tubing system. ZAF consists of three main modules: (i) electronics, (ii) tubing and pumps, and (iii) food preparation (<xref ref-type="fig" rid="fig1">Figure 1a and b</xref>). The electronics module is comprised of a credit card-sized computer (Raspberry Pi 3 B+) augmented with an extension board (‘servo hat’) that sends signals to various motor controllers to trigger pumping and valve opening (detailed description of the electronic circuit in <xref ref-type="fig" rid="fig1s2">Figure 1—figure supplement 2</xref> and more construction details in the <xref ref-type="supplementary-material" rid="supp1">Supplementary file 1</xref>). The Raspberry Pi 3 B + is connected to a touch screen and keyboard for easy user interfacing with the command-line interface. Several feeding programs can be added, modified and deleted. The amount of food delivered is constant across all tanks and can be modified by adjusting the food container opening as well as the degree of servo rotation. The tubing and pumps module is the central element in the food distribution system. The pumps mix food and water and distribute the mixture to the tanks. In ZAF, an air pump is used to stir and mix the food and water (<xref ref-type="fig" rid="fig1">Figure 1a</xref>). A splitter panel directs the liquid flow through the tubes leading to the individual tanks (<xref ref-type="fig" rid="fig1s3">Figure 1—figure supplement 3</xref>). A valve was added downstream of the water-in pump to prevent overflow or water leak in the device. Finally, for the food preparation module, we repurposed a commercially available aquatic food container and attached it to a servomotor for precise rotation control. For the mixing flask, we used a simple 200 ml plastic lab flask equipped with a funnel. To prevent water leaks, the food preparation container is placed in a water containment box. Additionally, we added a water sensor connected to a safety pump that, when activated, will remove any spilled water from this containment box. Once all parts have been delivered (see detailed list on <xref ref-type="supplementary-material" rid="supp2">Supplementary file 2</xref>), building ZAF in a few hours is feasible by following the instructions on our publicly available wiki. Both ZAF systems are highly modular and scalable: the number of tanks can be easily increased to meet the needs of larger aquatic facilities. For example, the system described in <xref ref-type="fig" rid="fig1">Figure 1a</xref> is designed for eight tanks but can be scaled up by adding extra pumps and by extending the splitter panels.</p><fig-group><fig id="fig1" position="float"><label>Figure 1.</label><caption><title>ZAF as a simple solution for aquatic facility feeding.</title><p>(<bold>a</bold>) Schematic representation of ZAF’s three main modules with their key components. Basic electronic wiring is also shown. ZAF is designed to distribute the same food quantity to all (fish) tanks. (<bold>b</bold>) 3D visualization of the different ZAF modules: electronics, tubing, pumps, and food preparation. (<bold>c</bold>) Variation of the fish mean weight over 8 weeks during ZAF feeding (n = 7) versus manually-fed fish (n = 6). (<bold>d</bold>) Spawning success for ZAF fed fish versus a manually-fed fish (spawning evaluated at weeks 2 and 6). All bars indicate s.e.m.</p></caption><graphic mime-subtype="tiff" mimetype="image" xlink:href="elife-74234-fig1-v2.tif"/></fig><fig id="fig1s1" position="float" specific-use="child-fig"><label>Figure 1—figure supplement 1.</label><caption><title>Automatising Zebrafish husbandry.</title><p>(<bold>a</bold>) Schematic representation of the standalone single rack zebrafish facility where we tested ZAFs. The facility is semi automatic and does not require constant human supervision. (<bold>b</bold>) Outside picture of the semi-automatic zebrafish facility. (<bold>c</bold>) ZAF+ inside the zebrafish facility.</p></caption><graphic mime-subtype="tiff" mimetype="image" xlink:href="elife-74234-fig1-figsupp1-v2.tif"/></fig><fig id="fig1s2" position="float" specific-use="child-fig"><label>Figure 1—figure supplement 2.</label><caption><title>ZAF electronic diagram.</title><p>The design is based on a Raspberry computer, a Servo Hat Board to drive Pulse Width Modulation outputs and motor controller to control the pumps and valve. All the pumps and valves connected to the motor drivers are plugged on a 12V and 10A power supply converter. The Raspberry Pi, the servo hat and all the electronic connected to the servo hat are running with 5V through the Raspberry Pi power.</p></caption><graphic mime-subtype="tiff" mimetype="image" xlink:href="elife-74234-fig1-figsupp2-v2.tif"/></fig><fig id="fig1s3" position="float" specific-use="child-fig"><label>Figure 1—figure supplement 3.</label><caption><title>ZAF tubing.</title><p>In this schematic graph, we indicate how to connect the different pumps and valves together and where to the different types of tubing.</p></caption><graphic mime-subtype="tiff" mimetype="image" xlink:href="elife-74234-fig1-figsupp3-v2.tif"/></fig><fig id="fig1s4" position="float" specific-use="child-fig"><label>Figure 1—figure supplement 4.</label><caption><title>Water parameters log, pH and conductivity, during ZAF testing over a 3- month period.</title></caption><graphic mime-subtype="tiff" mimetype="image" xlink:href="elife-74234-fig1-figsupp4-v2.tif"/></fig></fig-group></sec><sec id="s2-3"><title>ZAF structure and performance</title><p>The three modules that constitute ZAF are housed in a metal frame built with the versatile Makerbeam prototyping system. We provide all the detailed instructions for the hardware construction in the Supp. Information and in our wiki. The size of the automatic feeder can be adjusted from the baseline, which has a width of 15 inches, depth of 9 inches, and height of 9 inches (<xref ref-type="fig" rid="fig1">Figure 1b</xref>). Our prototype for the automatic feeding was sized for 16 zebrafish tanks. Distribution of complete nutrition dry food (Gemma-300 - Skretting Zebrafish) was calibrated according to the amounts recommended by the manufacturer. It was important to evaluate the impact of ZAF feeding versus manual feeding on fish health and fecundity. For this, we measured the weight of adult fish fed with the two techniques over 8 weeks and found no statistical difference (<xref ref-type="fig" rid="fig1">Figure 1c</xref>). Additionally, we found no excess mortality over the 8-week period for fish fed with the automatic device (zero fish died out of 92) versus manual feeding (one fish died out of 33). During the same period, we evaluated the fecundity of the fish and observed no difference between the two populations (<xref ref-type="fig" rid="fig1">Figure 1d</xref>). Additionally, the automatic feeding does not affect the water quality of our facility over a period of three months (<xref ref-type="fig" rid="fig1s4">Figure 1—figure supplement 4</xref>). Taken together, ZAF is appropriate for the feeding of a homogeneous fish population (i.e. tanks with a relatively equivalent number of animals) and it does not affect fish health nor fecundity.</p></sec><sec id="s2-4"><title>ZAF+ enables flexible, tank-specific feeding</title><p>While ZAF is an effective system for feeding multiple tanks with similar numbers of animals, it lacks precise control of food distribution to individual tanks. This can be problematic for aquatic facilities that have either disparate tank sizes or varying fish densities. To overcome this problem, ZAF+ was created to control food flow both spatially and temporally by adding valves upstream of each tank (<xref ref-type="fig" rid="fig2">Figure 2a and b</xref>). The ZAF+ software allows users to configure feeding parameters such as feeding frequency, timing, and quantity, as well as which tanks need feeding. With this system users can individually control and distribute a precise amount of food for each tank. For a more detailed explanation of ZAF+ feeding sequence compared to the simpler ZAF version see <xref ref-type="box" rid="box1">Box 1</xref> (<xref ref-type="fig" rid="box1fig1">Box 1—figure 1</xref>). ZAF+ was built by reusing several ZAF modules. However, most modules (i.e. electronics, tubing and valves, food preparation) were improved. We list all necessary components to build ZAF in the <xref ref-type="supplementary-material" rid="supp3">Supplementary file 3</xref>. Our design can be easily adapted to other needs by scaling up or down the various components. ZAF+ is larger (21” w x 12” d x 9” h) than the base ZAF version but still fits in a fish facility. To control the additional valves we added a micro-controller (Arduino Mega) for all pumps and valves, which permits limitless scalability by daisy-chaining multiple such controllers (<xref ref-type="fig" rid="fig2s1">Figure 2—figure supplement 1</xref>). The tubing and pumps module is extended to use a manifold to split the flow (<xref ref-type="fig" rid="fig1s2">Figure 1—figure supplement 2</xref>). Because of the more complex electronics and numerous wires in ZAF+, we enclosed all electrical components in a water-proof safety box. We used a touch screen for interfacing with the software, allowing the user to adjust settings such as the amount and timing of food delivery (Box 2—figure 1). ZAF+ can operate 7 days a week all year long, only requiring regular dry-food reloading as well as tube replacement. Tube replacement frequency varies on users usage and on facility environmental parameters (i.e. light and temperature). In our hands, we found that replacing tubing every 12 weeks takes one hour and is sufficient to keep tubes reasonably clean (<xref ref-type="fig" rid="fig1s3">Figure 1—figure supplement 3</xref>). We evaluated ZAF+ performance on both high- and low-density tanks, which is easily done through the user-friendly user interface. The fish were assessed for mean weight over 8 weeks. Overall, we observed no difference in the mean weights compared to the manually fed control group (<xref ref-type="fig" rid="fig2">Figure 2c</xref>). We then evaluated the reproduction of fish fed with ZAF+ and found no significant differences with fish fed manually. Finally, ZAF+ does not affect the water quality during a three months period (<xref ref-type="fig" rid="fig1s4">Figure 1—figure supplement 4</xref>) nor fish mortality. Thus, ZAF+ is a viable solution for full feeding automation in aquatic facilities.</p><fig-group><fig id="fig2" position="float"><label>Figure 2.</label><caption><title>ZAF+ is an advanced version of ZAF that can modulate food delivery per tank depending on fish density.</title><p>(<bold>a</bold>) Diagram of ZAF+. Electronics consist of: a Raspberry Pi 3, Arduino Mega, 16 relay module, an motor controllers. The water and food mix is pumped and sent via tubes to a manifold and valves that distribute it to specific tanks. (<bold>b</bold>) 3D representation of ZAF+ with extra space for the valves and a electronics box compared to the base ZAF version. (<bold>c</bold>) Evolution of the mean fish weight over 8 weeks of ZAF feeding (n = 6) versus the control group (n = 6). (<bold>d</bold>) Spawning success for fish fed by ZAF+ versus the control group. All bars indicate standard error mean.</p></caption><graphic mime-subtype="tiff" mimetype="image" xlink:href="elife-74234-fig2-v2.tif"/></fig><fig id="fig2s1" position="float" specific-use="child-fig"><label>Figure 2—figure supplement 1.</label><caption><title>ZAF+ electronics diagram.</title><p>ZAF+ main electronics components are a Raspberry Pi 3B+ to run the software and control the electronics, Arduino Megas Arduino 2560 microcontrollers for the digital devices, motor controllers to control the various pumps and 16 Relay Module interface board to drive current and control the valves. The Raspberry Pi is connected directly to one Arduino Mega using a USB cable. The two Arduinos are daisy-chained via a serial connection (the whole design can be extended by daisy-chaining more arduinos). The Arduinos are connected to the motor controllers through digital pins. The Arduinos control the opening of each individual valve through the 16 relay module. A 12V power supply provides power to the electronics, except for the Raspberry Pi and the two Arduino Megas powered by the Raspberry Pi 5V.</p></caption><graphic mime-subtype="tiff" mimetype="image" xlink:href="elife-74234-fig2-figsupp1-v2.tif"/></fig><fig id="fig2s2" position="float" specific-use="child-fig"><label>Figure 2—figure supplement 2.</label><caption><title>ZAF+ tubing.</title><p>The following schematic diagram represents the tubing connections between the different ZAF+ components. In order to connect the pump to multiple valves (30, in our case), we used manifolds that split the water flow into several tubes.</p></caption><graphic mime-subtype="tiff" mimetype="image" xlink:href="elife-74234-fig2-figsupp2-v2.tif"/></fig><fig id="fig2s3" position="float" specific-use="child-fig"><label>Figure 2—figure supplement 3.</label><caption><title>Tubing cleanliness evaluation.</title><p>In our fish facility conditions we observed that the tubes should be replaced every 12 weeks .</p></caption><graphic mime-subtype="tiff" mimetype="image" xlink:href="elife-74234-fig2-figsupp3-v2.tif"/></fig><fig id="fig2s4" position="float" specific-use="child-fig"><label>Figure 2—figure supplement 4.</label><caption><title>Water parameters log, pH and conductivity, during ZAF+ testing over a 3- month period.</title></caption><graphic mime-subtype="tiff" mimetype="image" xlink:href="elife-74234-fig2-figsupp4-v2.tif"/></fig></fig-group><boxed-text id="box1"><label>Box 1.</label><caption><title>ZAF vs ZAF+ - the differences and how to choose the best for one’s needs.</title></caption><p>While ZAF distributes the same amount of food to all tanks, ZAF+ dispenses a variable quantity per tank as instructed by the user, typically based on fish density per tank. This advantage is counter-balanced by the higher sophistication of ZAF+ compared to ZAF. Both systems serve different needs which should be evaluated before construction. ZAF performs well for fish facilities with fish density variations across tanks of up to 30%. However, for higher density differences between tanks we strongly recommend ZAF+ instead which has several additional design upgrades such as stronger pumps and an electric safety box which increase reliability. The diagram on <xref ref-type="fig" rid="box1fig1">Box 1—figure 1</xref> illustrates the differences in running sequences between ZAF (left) and ZAF+ (right). Overall, they share many common features, like the quick distribution of food and water mix, to avoid pellets dissolution in water and loss of nutrients. While ZAF prepares and distributes food for all tanks equally, ZAF+ enables individual programming per tank. We added to the program a priming function to remove any air in the pump and flood the suction line before each program run. Finally at the end of each food distribution sequence we programmed a cleaning step to rinse the system (i.e. tubes, pumps, and valves) by flushing water and then air (illustrated by the boxes ‘system cleaning’ in the figure). In the case of ZAF+, there is an additional cleaning steps after each food distribution to individual tank (‘cleaning’ boxes in the figure). Importantly, for ZAF+ cleaning steps for all tubes and valves even those not actively used for feeding, are necessary to restrain algal and bacterial growth in the system.</p><fig id="box1fig1" position="float"><label>Box 1—figure 1.</label><caption><title>Diagram illustrating the differences during ZAF (left) and ZAF+ (right). ZAF is designed to distribute an homogeneous mix of food for all the tanks, whereas ZAF+ can control the amount of food per tanks.</title></caption><graphic mime-subtype="tiff" mimetype="image" xlink:href="elife-74234-box1-fig1-v2.tif"/></fig></boxed-text></sec></sec><sec id="s3" sec-type="discussion"><title>Discussion</title><p>In the present report, we introduced two aquatic feeding devices, ZAF (<xref ref-type="fig" rid="fig1">Figure 1</xref>) and ZAF+ (<xref ref-type="fig" rid="fig2">Figure 2</xref>) and evaluated their applicability for zebrafish feeding and husbandry over 8 weeks. ZAFs are effective and cheap solutions to overcome staffing issues on weekends and holidays and we hope will help disseminating aquatic animal models in research institutes. Interestingly, our devices can be easily adapted to behavioral studies (i.e. food conditioning) as well as any type of experimental design that requires pellets or liquid delivery, illustrating the versatility of our system. Both designs are fully open access (hardware and software), modular, scalable and highly adaptable. We also include instructions on installing a graphical user interface to run the automatic feeders. Both designs are relatively easy to build and do not require specialized training in electronics nor engineering. Importantly, ZAFs can easily be adapted to all commercially available aquatic facilities. ZAF+ is more robust than ZAF due to conceptual and technical improvements. While ZAF is easy to build, it does not offer control over food distribution per tank. ZAF+ construction is more complex but is amenable to feeding variable numbers of fish per tank, or different tank sizes (<xref ref-type="box" rid="box2">Box 2</xref>). To maintain the tubes clean and unclogged after each feeding sequence, we programmed a cleaning step as described and illustrated in <xref ref-type="box" rid="box1">Box 1</xref> with water and then air. Additionally, we run a cleaning program (no food, water, and air only) to wash the system and prevent clogging (<xref ref-type="box" rid="box2">Box 2</xref>). Both devices can run 7 days a week all year long. For optimal performance, we do recommend manual cleaning or replacing of the tubes every 10 weeks. We tested both ZAF systems in our fish facility for a total of 19 months (9 months for ZAF and 10 months for ZAF+) and never suffered from major malfunctions, nor observed adverse health effects to our fish. To help with potential malfunctions, we provide a troubleshooting guide to common minor issues we encountered while building or operating ZAFs (<xref ref-type="supplementary-material" rid="supp4">Supplementary file 4</xref>). We invite all ZAFs developers and users to report any issues on the ZAF Github repository (<ext-link ext-link-type="uri" xlink:href="https://github.com/royerlab/ZAF/issues">github.com/royerlab/ZAF/issues</ext-link>). Lab automation is likely to be increasingly critical to improve productivity, efficiency and research reproducibility (<xref ref-type="bibr" rid="bib7">Check Hayden, 2014</xref>; <xref ref-type="bibr" rid="bib5">Boyd, 2002</xref>; <xref ref-type="bibr" rid="bib2">Almada et al., 2019</xref>). However, the field of animal husbandry has not yet made enough progress toward full automation and this holds particularly true for aquatic facilities, which have not been modernized for decades. For these reasons, and given constraints on personnel, we developed our own fully automatic fish feeding system. We used inexpensive hardware such as the micro-computer Raspberry-Pi (<xref ref-type="bibr" rid="bib8">Gay, 2014</xref>), the Arduino micro-controller, and the Python programming language (Van <xref ref-type="bibr" rid="bib19">Van Rossum, 1995</xref>). Making your own design is not easy and requires time and fine-tuning (<xref ref-type="bibr" rid="bib17">May, 2019</xref>; <xref ref-type="bibr" rid="bib4">Blow, 2008</xref>) therefore to help others in the community we decided to document in our wiki (<ext-link ext-link-type="uri" xlink:href="https://github.com/royerlab/ZAF/wiki">github.com/royerlab/ZAF/wiki</ext-link>) all the steps we took in creating our stand-alone solution (see also the Supp. Information for a snapshot of the wiki). The wiki also offers solutions and advices on how to scale up ZAFs to different fish facility specifications. In this work we have used dry food (Gemma from Skretting Zebrafish) because of its complete nutritional profile and positive effect on fish health (<xref ref-type="bibr" rid="bib12">Lawrence, 2011</xref>; <xref ref-type="bibr" rid="bib13">Lawrence et al., 2012</xref>; <xref ref-type="bibr" rid="bib3">Barton et al., 2016</xref>). Automated feeding is most easily performed with dry food; however, the food container can be adapted to live food if required (data not shown). For example, in the case of <italic>Artemia nauplii</italic>, a popular zebrafish diet, fresh live food is prepared every day. We tested ZAF and ZAF+ with <italic>Artemia nauplii</italic> and the feeding works well.</p><boxed-text id="box2"><label>Box 2.</label><caption><title>A GUI for an efficient and simple ZAF+ control.</title></caption><p>The guiding principle for the design of the control software and user interface for ZAF systems was simplicity and user friendliness. We hope that this will spur and facilitate adoption. The core control software for both devices is an open-source Python-based software running on a Raspberry Pi. All instructions for installation and operation can be found on our repository (<ext-link ext-link-type="uri" xlink:href="https://github.com/royerlab/ZAF">github.com/royerlab/ZAF</ext-link>). The user interface contains three main tabs: (i) the ‘dashboard’ where users can select the running programs (<xref ref-type="fig" rid="box2fig1">Box 2—figure 1</xref> top), (ii) the ‘log’ panel that provides information on the currently running program, and (iii) the program panel which lets users change feeding parameters like scheduling (frequency, timing), food quantity, and the tanks to be fed (<xref ref-type="fig" rid="box2fig1">Box 2—figure 1</xref> bottom). Four levels of food quantity can be selected and calibration can be customized by changing the servo rotation value in the configuration file (see <xref ref-type="supplementary-material" rid="supp1">Supplementary file 1</xref>). Once a day, a special cleaning program flushes water and then air through the system. This program is analogous to a feeding program but without actual food distribution – this limits accumulation of algae and bacteria.</p><fig id="box2fig1" position="float"><label>Box 2—figure 1.</label><caption><title>ZAF+ Graphic User Interface main panels. On the top panel ‘Dashboard’ displays the overview of the entire program. Bottom part illustrates the ‘Program tab’, where you set all the conditions for feeding and washing.</title></caption><graphic mime-subtype="tiff" mimetype="image" xlink:href="elife-74234-box2-fig1-v2.tif"/></fig></boxed-text><p>Another important aspect of aquatic husbandry is breeding of fish fry. While we did not directly test breeding, our automatic feeders can be easily adapted to deliver different types of food specific to different ages by adding several servos and food containers. Another solution could be to build two devices, one for adult and another one for small fry. With the advent of new aquatic model organisms with similar breeding requirements as zebrafish (<xref ref-type="bibr" rid="bib12">Lawrence, 2011</xref>; <xref ref-type="bibr" rid="bib13">Lawrence et al., 2012</xref>; <xref ref-type="bibr" rid="bib3">Barton et al., 2016</xref>), it is conceivable that both ZAF systems could be adapted to others species. Finally, we hope that by releasing ZAF as an open access project we will empower a large community of users to build their own ZAFs, adapt them to their needs, help each other, and, perhaps, develop the next generation system.</p></sec><sec id="s4" sec-type="materials|methods"><title>Materials and methods</title><sec id="s4-1"><title>Animals and husbandry</title><p>This research was done under a protocol reviewed and approved by the institutional animal care and use committee (IACUC) of University of California San Francisco (UCSF). The fish were kept in a standalone aquatic system (Techniplast, Italy) with water maintained at 28° and a diurnal cycle of 10 hr of dark and 14 hr of light (<xref ref-type="bibr" rid="bib1">Aleström et al., 2020</xref>). The study was conducted on the wild-type EKW strain, casper mutant (<xref ref-type="bibr" rid="bib21">White et al., 2008</xref>) and <italic>h2afva:h2afva-mCherry</italic> transgenic line (<xref ref-type="bibr" rid="bib10">Knopf et al., 2011</xref>) (gift from Jan Huisken, Morgridge Institute for Research, Madison, USA). We only housed and used fish between 4 months and 18 months old. Manual feeding is done once a day, at the same time of the day, according to the manufacturer recommendations and fish density.</p></sec><sec id="s4-2"><title>ZAFs equipment</title><p>ZAFs are designed to be built with only commercially-available parts. The <xref ref-type="supplementary-material" rid="supp2 supp3">Supplementary files 2 and 3</xref> list the necessary parts used to build ZAF, and ZAF+, respectively. Most of the parts used are generic and can be replaced by similar parts with similar specifications. The only component that cannot be easily exchanged is the Raspberry PI computer, but this is not an issue as these are very easily sourced.</p></sec><sec id="s4-3"><title>ZAFs construction manual</title><p>In the <xref ref-type="supplementary-material" rid="supp1">Supplementary file 1</xref> we provide detailed instructions on how to easily build the system with tools present in most labs and easy to source components (<ext-link ext-link-type="uri" xlink:href="https://github.com/royerlab/ZAF/wiki">github.com/royerlab/ZAF/wiki</ext-link>). There are also instructions on how to run the software and operate the graphical user interface. To build the ZAFs frame we use the versatile and easy to use Makerbeam consruction system. For both ZAFs we use two different tubing sizes, for the pump tubing we use 3/8” outside diameter tubes, for the valves tubing we use 1/4” outside diameter tubes. We use either silicone or PVC based tubing because they have good specifications and are safe for food delivery (PVC based are more cost effective).</p></sec><sec id="s4-4"><title>ZAF electronics</title><p>The electronic core of ZAF is based on (i) A Raspberry a credit card size computer, (ii) A Servo Hat Board to drive Pulse Width Modulation outputs, like the pumps and valve, (iii) Motor Controller to control the DC motors (pumps and valve). All the pumps and valves connected to the motor drivers are plugged on a 12V and 10A power supply converter. The Raspberry Pi, the servo hat and all the electronic connected to the servo hat are running with 5V through the Raspberry Pi power.</p></sec><sec id="s4-5"><title>ZAF+ electronics</title><p>ZAF+ electronics are comprised of four different components i. A Raspberry Pi 3 B + to run the software and control the electronics, ii. two Arduino Megas Arduino 2,560 microcontrollers for the digital devices, iii. several motor controllers to control the various pumps, iv. 16 Relay Module interface board to drive current and control the valves. The two Arduinos are daisy-chained via a serial connection (the whole design can be extended by daisy-chaining more arduinos). A 12V power supply provides power to the electronics, except for the Raspberry Pi and the two Arduino Megas powered by the Raspberry Pi 5V.</p></sec><sec id="s4-6"><title>Code availability</title><p>The control software for both ZAFs as well as the corresponding graphical user interfaces are available as open-source code. We also provide instructions and a step-by-step guide on how to run the software (<ext-link ext-link-type="uri" xlink:href="https://github.com/royerlab/ZAF/wiki/Software">github.com/royerlab/ZAF/wiki/Software</ext-link>).</p></sec><sec id="s4-7"><title>Automatic feeding calibration - ZAF</title><p>We use the Gemma micro 300 (Skretting Zebrafish) food diet. Feeding is calibrated so that ZAF distributes 5% of the fish body weight per feeding. This follows the producers’ recommendations. We feed the fish in our facility twice a day. Based on the number of fish, we calibrate the automatic device to distribute 5 g of food homogeneously to all tanks per run. This calibration is done by manually by adjusting the food container opening, and the amount of servo rotation.</p></sec><sec id="s4-8"><title>Automatic feeding calibration - ZAF+</title><p>Similarly to ZAF, we use the Gemma micro 300 (Skretting Zebrafish) diet and run the program twice a day. Food distribution is done per tank according to a ‘food quantity selection’ parameter that can be set on the user interface: ‘1’ for low fish density, to ‘4’ for high fish densities. Calibration is done in same way as for ZAF. The amount of food distributed per fish density is detailed in <xref ref-type="box" rid="box2">Box 2</xref>. The approximate amount of food required for different fish densities is as follows: Very low - 100 mg for to 2–4 fish, low - 200 mg for 5–8 fish, medium - 350 mg for 9–14 fish, large - 500 mg for 15 up to 20 fish.</p></sec><sec id="s4-9"><title>Fish weight and spawning measurements</title><p>To weigh the fish, we first took a clean petri dish and tared it on a weighing scale. Each fish was then dabbed on a tissue paper to remove excess water and then placed in the petri dish to weigh it. This was repeated for all fish individually. To demonstrate the feeding efficiency of ZAF+, we documented the weight of the fish over a period of 7 weeks. The fish were weighed every Monday from week 1 to week 8. Since ZAF+ has the potential to customize the amount of food given per tank based on the number of fish present, we chose two tanks - one with over 12 fish and the second with only four fish to ensure each tank receives the designated amount of food. These two tanks were kept with the same fish population during the whole evaluation. We used tanks from different rows (top and bottom) to verify that tube layout and length do not affect the feeding quality nor quantity. Similarly we tracked the breeding of the fish over 2 weeks. Three random fish were selected and two to three crosses were bred for each of them. Next day, we documented the number of crosses which bred for each of the lines and calculated the average of all the positive crosses.</p></sec></sec></body><back><sec id="s5" sec-type="additional-information"><title>Additional information</title><fn-group content-type="competing-interest"><title>Competing interests</title><fn fn-type="COI-statement" id="conf1"><p>A patent application has been filed covering the reported feeders (number 63/162,299)</p></fn><fn fn-type="COI-statement" id="conf2"><p>No competing interests declared</p></fn></fn-group><fn-group content-type="author-contribution"><title>Author contributions</title><fn fn-type="con" id="con1"><p>Conceptualization, Data curation, Formal analysis, Investigation, Methodology, Writing – original draft, Writing – review and editing</p></fn><fn fn-type="con" id="con2"><p>Software</p></fn><fn fn-type="con" id="con3"><p>Investigation, Resources</p></fn><fn fn-type="con" id="con4"><p>Software</p></fn><fn fn-type="con" id="con5"><p>Visualization</p></fn><fn fn-type="con" id="con6"><p>Conceptualization, Funding acquisition, Investigation, Methodology, Project administration, Software, Supervision, Visualization, Writing – review and editing</p></fn></fn-group><fn-group content-type="ethics-information"><title>Ethics</title><fn fn-type="other"><p>This research was done under a protocol reviewed and approved by the institutional animal care and use committee (IACUC) of University of California San Francisco (UCSF).</p></fn></fn-group></sec><sec id="s6" sec-type="supplementary-material"><title>Additional files</title><supplementary-material id="supp1"><label>Supplementary file 1.</label><caption><title>Detailed construction instruction for ZAF and ZAF+.</title></caption><media mime-subtype="pdf" mimetype="application" xlink:href="elife-74234-supp1-v2.pdf"/></supplementary-material><supplementary-material id="supp2"><label>Supplementary file 2.</label><caption><title>ZAF+ parts list.</title><p>The table lists the necessary parts to build ZAF. Most of the parts are generic and can be replaced by components with similar specifications.</p></caption><media mime-subtype="docx" mimetype="application" xlink:href="elife-74234-supp2-v2.docx"/></supplementary-material><supplementary-material id="supp3"><label>Supplementary file 3.</label><caption><title>ZAF+ parts list.</title><p>The table lists the necessary parts to build ZAF+. Most of the parts are generic and can be replaced by components with similar specifications.</p></caption><media mime-subtype="docx" mimetype="application" xlink:href="elife-74234-supp3-v2.docx"/></supplementary-material><supplementary-material id="supp4"><label>Supplementary file 4.</label><caption><title>Troubleshooting guide.</title><p>This table provides solutions to common minor issues encountered during ZAFs construction and operations.</p></caption><media mime-subtype="docx" mimetype="application" xlink:href="elife-74234-supp4-v2.docx"/></supplementary-material><supplementary-material id="transrepform"><label>Transparent reporting form</label><media mime-subtype="pdf" mimetype="application" xlink:href="elife-74234-transrepform1-v2.pdf"/></supplementary-material></sec><sec id="s7" sec-type="data-availability"><title>Data availability</title><p>We provide all instructions to build the hardware and all code for the software in the wiki: <ext-link ext-link-type="uri" xlink:href="https://github.com/royerlab/ZAF">github.com/royerlab/ZAF</ext-link>.</p></sec><ack id="ack"><title>Acknowledgements</title><p>We thank the Chan Zuckerberg Biohub facility team, particularly Jennifer Mann, for their help and support to implement the fish facility and Rafael Gomez and Robert Pucinelli from the Chan Zuckerberg Biohub Bioengineering platform for advice. We thank Ashley Lakoduk and Mirella Bucci for critical comments and diligent proofreading of the manuscript. We thank Sandra Schmid for generous mentoring, proof-reading and advice. Funding for this work was provided by the Chan Zuckerberg Biohub.</p></ack><ref-list><title>References</title><ref id="bib1"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Aleström</surname><given-names>P</given-names></name><name><surname>D’Angelo</surname><given-names>L</given-names></name><name><surname>Midtlyng</surname><given-names>PJ</given-names></name><name><surname>Schorderet</surname><given-names>DF</given-names></name><name><surname>Schulte-Merker</surname><given-names>S</given-names></name><name><surname>Sohm</surname><given-names>F</given-names></name><name><surname>Warner</surname><given-names>S</given-names></name></person-group><year iso-8601-date="2020">2020</year><article-title>Zebrafish: Housing and husbandry recommendations</article-title><source>Laboratory Animals</source><volume>54</volume><fpage>213</fpage><lpage>224</lpage><pub-id pub-id-type="doi">10.1177/0023677219869037</pub-id><pub-id pub-id-type="pmid">31510859</pub-id></element-citation></ref><ref id="bib2"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Almada</surname><given-names>P</given-names></name><name><surname>Pereira</surname><given-names>PM</given-names></name><name><surname>Culley</surname><given-names>S</given-names></name><name><surname>Caillol</surname><given-names>G</given-names></name><name><surname>Boroni-Rueda</surname><given-names>F</given-names></name><name><surname>Dix</surname><given-names>CL</given-names></name><name><surname>Charras</surname><given-names>G</given-names></name><name><surname>Baum</surname><given-names>B</given-names></name><name><surname>Laine</surname><given-names>RF</given-names></name><name><surname>Leterrier</surname><given-names>C</given-names></name><name><surname>Henriques</surname><given-names>R</given-names></name></person-group><year iso-8601-date="2019">2019</year><article-title>Automating multimodal microscopy with NanoJ-Fluidics</article-title><source>Nature Communications</source><volume>10</volume><fpage>1</fpage><lpage>9</lpage><pub-id pub-id-type="doi">10.1038/s41467-019-09231-9</pub-id><pub-id pub-id-type="pmid">30874553</pub-id></element-citation></ref><ref id="bib3"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Barton</surname><given-names>CL</given-names></name><name><surname>Johnson</surname><given-names>EW</given-names></name><name><surname>Tanguay</surname><given-names>RL</given-names></name></person-group><year iso-8601-date="2016">2016</year><article-title>Facility Design and Health Management Program at the Sinnhuber Aquatic Research Laboratory</article-title><source>Zebrafish</source><volume>13 Suppl 1</volume><fpage>S39</fpage><lpage>S43</lpage><pub-id pub-id-type="doi">10.1089/zeb.2015.1232</pub-id><pub-id pub-id-type="pmid">26981844</pub-id></element-citation></ref><ref id="bib4"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Blow</surname><given-names>N</given-names></name></person-group><year iso-8601-date="2008">2008</year><article-title>Lab automation: tales along the road to automation</article-title><source>Nature Methods</source><volume>5</volume><fpage>109</fpage><lpage>112</lpage><pub-id pub-id-type="doi">10.1038/nmeth0108-109</pub-id><pub-id pub-id-type="pmid">18165807</pub-id></element-citation></ref><ref id="bib5"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Boyd</surname><given-names>J</given-names></name></person-group><year iso-8601-date="2002">2002</year><article-title>TechSight Robotic laboratory automation</article-title><source>Science</source><volume>295</volume><fpage>517</fpage><lpage>518</lpage><pub-id pub-id-type="doi">10.1126/science.295.5554.517</pub-id><pub-id pub-id-type="pmid">11799250</pub-id></element-citation></ref><ref id="bib6"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Candelier</surname><given-names>R</given-names></name><name><surname>Bois</surname><given-names>A</given-names></name><name><surname>Tronche</surname><given-names>S</given-names></name><name><surname>Mahieu</surname><given-names>J</given-names></name><name><surname>Mannioui</surname><given-names>A</given-names></name></person-group><year iso-8601-date="2019">2019</year><article-title>A Semi-Automatic Dispenser for Solid and Liquid Food in Aquatic Facilities</article-title><source>Zebrafish</source><volume>16</volume><fpage>401</fpage><lpage>407</lpage><pub-id pub-id-type="doi">10.1089/zeb.2019.1733</pub-id><pub-id pub-id-type="pmid">31237527</pub-id></element-citation></ref><ref id="bib7"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Check Hayden</surname><given-names>E</given-names></name></person-group><year iso-8601-date="2014">2014</year><article-title>The automated lab</article-title><source>Nature</source><volume>516</volume><fpage>131</fpage><lpage>132</lpage><pub-id pub-id-type="doi">10.1038/516131a</pub-id><pub-id pub-id-type="pmid">25471888</pub-id></element-citation></ref><ref id="bib8"><element-citation publication-type="book"><person-group person-group-type="author"><name><surname>Gay</surname><given-names>WW</given-names></name></person-group><year iso-8601-date="2014">2014</year><source>Raspberry Pi Hardware Reference</source><publisher-loc>Berkeley, CA</publisher-loc><publisher-name>Apress</publisher-name><pub-id pub-id-type="doi">10.1007/978-1-4842-0799-4</pub-id></element-citation></ref><ref id="bib9"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Kinth</surname><given-names>P</given-names></name><name><surname>Mahesh</surname><given-names>G</given-names></name><name><surname>Panwar</surname><given-names>Y</given-names></name></person-group><year iso-8601-date="2013">2013</year><article-title>Mapping of zebrafish research: a global outlook</article-title><source>Zebrafish</source><volume>10</volume><fpage>510</fpage><lpage>517</lpage><pub-id pub-id-type="doi">10.1089/zeb.2012.0854</pub-id><pub-id pub-id-type="pmid">24131434</pub-id></element-citation></ref><ref id="bib10"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Knopf</surname><given-names>F</given-names></name><name><surname>Hammond</surname><given-names>C</given-names></name><name><surname>Chekuru</surname><given-names>A</given-names></name><name><surname>Kurth</surname><given-names>T</given-names></name><name><surname>Hans</surname><given-names>S</given-names></name><name><surname>Weber</surname><given-names>CW</given-names></name><name><surname>Mahatma</surname><given-names>G</given-names></name><name><surname>Fisher</surname><given-names>S</given-names></name><name><surname>Brand</surname><given-names>M</given-names></name><name><surname>Schulte-Merker</surname><given-names>S</given-names></name><name><surname>Weidinger</surname><given-names>G</given-names></name></person-group><year iso-8601-date="2011">2011</year><article-title>Bone regenerates via dedifferentiation of osteoblasts in the zebrafish fin</article-title><source>Developmental Cell</source><volume>20</volume><fpage>713</fpage><lpage>724</lpage><pub-id pub-id-type="doi">10.1016/j.devcel.2011.04.014</pub-id><pub-id pub-id-type="pmid">21571227</pub-id></element-citation></ref><ref id="bib11"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Lawrence</surname><given-names>C</given-names></name></person-group><year iso-8601-date="2007">2007</year><article-title>The husbandry of zebrafish (<italic>Danio rerio</italic>): A review</article-title><source>Aquaculture</source><volume>269</volume><fpage>1</fpage><lpage>20</lpage><pub-id pub-id-type="doi">10.1016/j.aquaculture.2007.04.077</pub-id></element-citation></ref><ref id="bib12"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Lawrence</surname><given-names>C</given-names></name></person-group><year iso-8601-date="2011">2011</year><article-title>Advances in zebrafish husbandry and management</article-title><source>Methods in Cell Biology</source><volume>104</volume><fpage>429</fpage><lpage>451</lpage><pub-id pub-id-type="doi">10.1016/B978-0-12-374814-0.00023-9</pub-id><pub-id pub-id-type="pmid">21924176</pub-id></element-citation></ref><ref id="bib13"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Lawrence</surname><given-names>C</given-names></name><name><surname>Best</surname><given-names>J</given-names></name><name><surname>James</surname><given-names>A</given-names></name><name><surname>Maloney</surname><given-names>K</given-names></name></person-group><year iso-8601-date="2012">2012</year><article-title>The effects of feeding frequency on growth and reproduction in zebrafish (<italic>Danio rerio</italic>)</article-title><source>Aquaculture</source><volume>368–369</volume><fpage>103</fpage><lpage>108</lpage><pub-id pub-id-type="doi">10.1016/j.aquaculture.2012.09.022</pub-id></element-citation></ref><ref id="bib14"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Lawson</surname><given-names>ND</given-names></name><name><surname>Wolfe</surname><given-names>SA</given-names></name></person-group><year iso-8601-date="2011">2011</year><article-title>Forward and reverse genetic approaches for the analysis of vertebrate development in the zebrafish</article-title><source>Developmental Cell</source><volume>21</volume><fpage>48</fpage><lpage>64</lpage><pub-id pub-id-type="doi">10.1016/j.devcel.2011.06.007</pub-id><pub-id pub-id-type="pmid">21763608</pub-id></element-citation></ref><ref id="bib15"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Lidster</surname><given-names>K</given-names></name><name><surname>Readman</surname><given-names>GD</given-names></name><name><surname>Prescott</surname><given-names>MJ</given-names></name><name><surname>Owen</surname><given-names>SF</given-names></name></person-group><year iso-8601-date="2017">2017</year><article-title>International survey on the use and welfare of zebrafish <italic>Danio rerio</italic> in research</article-title><source>Journal of Fish Biology</source><volume>90</volume><fpage>1891</fpage><lpage>1905</lpage><pub-id pub-id-type="doi">10.1111/jfb.13278</pub-id><pub-id pub-id-type="pmid">28220489</pub-id></element-citation></ref><ref id="bib16"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Lieschke</surname><given-names>GJ</given-names></name><name><surname>Currie</surname><given-names>PD</given-names></name></person-group><year iso-8601-date="2007">2007</year><article-title>Animal models of human disease: zebrafish swim into view</article-title><source>Nature Reviews. Genetics</source><volume>8</volume><fpage>353</fpage><lpage>367</lpage><pub-id pub-id-type="doi">10.1038/nrg2091</pub-id><pub-id pub-id-type="pmid">17440532</pub-id></element-citation></ref><ref id="bib17"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>May</surname><given-names>M</given-names></name></person-group><year iso-8601-date="2019">2019</year><article-title>A DIY approach to automating your lab</article-title><source>Nature</source><volume>569</volume><fpage>587</fpage><lpage>588</lpage><pub-id pub-id-type="doi">10.1038/d41586-019-01590-z</pub-id><pub-id pub-id-type="pmid">31110319</pub-id></element-citation></ref><ref id="bib18"><element-citation publication-type="preprint"><person-group person-group-type="author"><name><surname>Tangara</surname><given-names>A</given-names></name><name><surname>Paresys</surname><given-names>G</given-names></name><name><surname>Bouallague</surname><given-names>F</given-names></name><name><surname>Cabirou</surname><given-names>Y</given-names></name><name><surname>Fodor</surname><given-names>J</given-names></name><name><surname>Llobet</surname><given-names>V</given-names></name><name><surname>Sumbre</surname><given-names>G</given-names></name></person-group><year iso-8601-date="2019">2019</year><article-title>An Open-Source and Low-Cost Feeding System for Zebrafish Facilities</article-title><source>bioRxiv</source><pub-id pub-id-type="doi">10.1101/558205</pub-id></element-citation></ref><ref id="bib19"><element-citation publication-type="book"><person-group person-group-type="author"><name><surname>Van Rossum</surname><given-names>G</given-names></name></person-group><year iso-8601-date="1995">1995</year><source>The Python Language Reference Manual</source><publisher-loc>United Kingdom</publisher-loc><publisher-name>Network Theory Limited</publisher-name></element-citation></ref><ref id="bib20"><element-citation publication-type="book"><person-group person-group-type="author"><name><surname>Westerfield</surname><given-names>M</given-names></name></person-group><year iso-8601-date="2000">2000</year><source>The zebrafish book: A guide for the laboratory use of zebrafish</source><publisher-loc>Eugene</publisher-loc><publisher-name>University of Oregon Press</publisher-name></element-citation></ref><ref id="bib21"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>White</surname><given-names>RM</given-names></name><name><surname>Sessa</surname><given-names>A</given-names></name><name><surname>Burke</surname><given-names>C</given-names></name><name><surname>Bowman</surname><given-names>T</given-names></name><name><surname>LeBlanc</surname><given-names>J</given-names></name><name><surname>Ceol</surname><given-names>C</given-names></name><name><surname>Bourque</surname><given-names>C</given-names></name><name><surname>Dovey</surname><given-names>M</given-names></name><name><surname>Goessling</surname><given-names>W</given-names></name><name><surname>Burns</surname><given-names>CE</given-names></name><name><surname>Zon</surname><given-names>LI</given-names></name></person-group><year iso-8601-date="2008">2008</year><article-title>Transparent adult zebrafish as a tool for in vivo transplantation analysis</article-title><source>Cell Stem Cell</source><volume>2</volume><fpage>183</fpage><lpage>189</lpage><pub-id pub-id-type="doi">10.1016/j.stem.2007.11.002</pub-id><pub-id pub-id-type="pmid">18371439</pub-id></element-citation></ref><ref id="bib22"><element-citation publication-type="journal"><person-group person-group-type="author"><name><surname>Wyatt</surname><given-names>C</given-names></name><name><surname>Bartoszek</surname><given-names>EM</given-names></name><name><surname>Yaksi</surname><given-names>E</given-names></name></person-group><year iso-8601-date="2015">2015</year><article-title>Methods for studying the zebrafish brain: past, present and future</article-title><source>The European Journal of Neuroscience</source><volume>42</volume><fpage>1746</fpage><lpage>1763</lpage><pub-id pub-id-type="doi">10.1111/ejn.12932</pub-id><pub-id pub-id-type="pmid">25900095</pub-id></element-citation></ref></ref-list></back><sub-article article-type="editor-report" id="sa0"><front-stub><article-id pub-id-type="doi">10.7554/eLife.74234.sa0</article-id><title-group><article-title>Editor's evaluation</article-title></title-group><contrib-group><contrib contrib-type="author"><name><surname>Ekker</surname><given-names>Stephen C</given-names></name><role specific-use="editor">Reviewing Editor</role><aff><institution>Mayo Clinic</institution><country>United States</country></aff></contrib></contrib-group></front-stub><body><p>This is a nice example of an accessible tool for aquatic science, which will be valuable to an array of different researchers.</p></body></sub-article><sub-article article-type="decision-letter" id="sa1"><front-stub><article-id pub-id-type="doi">10.7554/eLife.74234.sa1</article-id><title-group><article-title>Decision letter</article-title></title-group><contrib-group content-type="section"><contrib contrib-type="editor"><name><surname>Ekker</surname><given-names>Stephen C</given-names></name><role>Reviewing Editor</role><aff><institution>Mayo Clinic</institution><country>United States</country></aff></contrib></contrib-group></front-stub><body><boxed-text id="box3"><p>In the interests of transparency, eLife publishes the most substantive revision requests and the accompanying author responses.</p></boxed-text><p>[Editors' note: this paper was reviewed by <ext-link ext-link-type="uri" xlink:href="https://www.reviewcommons.org/">Review Commons</ext-link>.]</p><p><bold>Decision letter after peer review:</bold></p><p>Thank you for submitting your article &quot;ZAF – The First Open Source Fully Automated Feeder for Aquatic Facilities&quot; for consideration by <italic>eLife</italic>. Your article has been reviewed by 3 peer reviewers at Review Commons, and the evaluation at <italic>eLife</italic> has been overseen by a Reviewing Editor and Richard White as the Senior Editor.</p><p>Based on the previous reviews and the revisions, the manuscript has been improved but there are some remaining issues that need to be addressed, as outlined below:</p><p>This is a nice paper and a great start. However, key information should be fully contained in the written document and not shifted to the wiki. For example, the component list etc should be found in a revised paper, not as a link to a wiki. The authors should carefully check that the manuscript is self-contained for all key points.</p></body></sub-article><sub-article article-type="reply" id="sa2"><front-stub><article-id pub-id-type="doi">10.7554/eLife.74234.sa2</article-id><title-group><article-title>Author response</article-title></title-group></front-stub><body><disp-quote content-type="editor-comment"><p>This is a nice paper and a great start. However, key information should be fully contained in the written document and not shifted to the wiki. For example, the component list etc should be found in a revised paper, not as a link to a wiki. The authors should carefully check that the manuscript is self-contained for all key points.</p></disp-quote><p>First, we decided to add to the manuscript two supplementary tables (Supp File 1 and 2), listing the necessary components necessary for the ZAFs, as you suggested.</p><p>Additionally, we added 4 supplementary figures to detail some key elements of ZAFs construction. The figure 1-S2 and Figure 2-S1 are the detailed blueprints for the electronic circuits of ZAF and ZAF+ respectively. Together with the detailed legends, the two figures will help the readers understand and possibly build the electronics of ZAFs, a central and complex element in the design of the automatic feeders. We also prepared the figure 1-S3 and Figure 2-S2, to describe the tubing and the connections across the different elements for ZAF and ZAF+. We added in the text reference to the new supplementary tables and figures to ameliorate the clarity of the manuscript and make sure the paper is now self-sufficient. This is in addition to a complete snapshot of the wiki in PDF form.</p><p>To explain more clearly the key instructions, we detailed critical aspects of the construction in the Methods section. Both, ZAF and ZAF+, have now an individual paragraph describing more in detail the electronics. This will help readers understand the central logic behind our design directly in the manuscript. There is also, in the revised version of the paper, a “ZAF Materials'” paragraph in the Methods section to clarify the fact that most parts are generic and easily replaced by parts with similar specifications. We added a few sentences in the Methods section “ZAF construction manual” to explain important points about the hardware construction.</p><p>Finally, we decided to add the troubleshooting table from the wiki (Supp File 3) to present solutions to the most common issues encountered during ZAFs construction and operations. We referred to the table in the Discussion section.</p><p>[Editors' note: we include below the reviews that the authors received from Review Commons, along with the authors’ responses.]</p><disp-quote content-type="editor-comment"><p>Reviewer #1 (Evidence, reproducibility and clarity Required):</p><p>Lange et al. have developed an automatic feeding system for zebrafish facilities. The system is open-source and relatively easy to implement. The authors propose to systems, one that delivers the same amount of food for each aquarium (ZAF) and a second (ZAF+) that can adjust the amount of delivered food to each aquarium. The authors show no difference in fish weight, spawning and water quality, when fed using the automatic system or manually.</p><p>In my opinion, the ZAF and ZAF+ are an excellent first approach to solve the complex problem of automatizing feeding in fish facilities. So far, only one company offers this option which is extremely expensive and demands a lot of maintenance.</p><p>The manuscript is very well written and easy to follow. The supplementary material is very well detailed. It is clear that the authors intended to facilitate the implementation of the ZAF by potential users.</p></disp-quote><p>We appreciate the supportive comments from Reviewer 1 and address all comments below:</p><disp-quote content-type="editor-comment"><p>I just have a few comments regarding the system:</p><p>1. The authors do not indicate how the system is cleaned. the system drains itself, but will any deposits of food remain in the tubes? Why is the system not flushed with clear water after each feeding? do the tubes get clogged?</p></disp-quote><p>We agree that the cleaning process was not clearly explained in the manuscript. We added clear sentences in ‘Box 1’ to describe the first cleaning step (see text and figure). Indeed, after each feeding, we flush water and then air into the tubes. Moreover, we explain in ‘Box 2’ that we have a second level of cleaning in the form of a special cleaning program that is run at least once a day with no food distribution (i.e. same program as used for feeding but without actual food mixed, we flush lots of clean water and then air in the system). Finally, in the discussion we clarify the different cleaning steps by adding extra explanations in the first paragraph. All these procedures and programs are very effective in preventing system clogging and in reducing the accumulation of debris and algae. After more than 19 months of ZAF and ZAF+ feeding in our facility we never experienced any tube clogging.</p><disp-quote content-type="editor-comment"><p>2. How long the system was tested for?</p></disp-quote><p>ZAF has run in the facility for 9 months and ZAF+ for 10 months since September. We added a sentence about the testing time in the discussion. We never experienced any major problems, only a few minor malfunctions, reported in the new troubleshooting table added to the wiki (suggested by the reviewer 2).</p><disp-quote content-type="editor-comment"><p>3. The ZAFs were used to feed 16 aquariums. For such a small rack, manually feeding takes less than 5 min. The authors should highlight that, at least for such small systems, the ZAFs will be especially very useful for feeding during weekends and holidays. Still, adding 16 commercially available small automatic feeders to each aquarium, could be simpler to implement.</p></disp-quote><p>As noticed by the reviewer, ZAFs are very useful when staff are not present (weekend, vacation, etc..). To emphasize on this particular point, we added a sentence in the discussion's first paragraph. The small automatic feeders available commercially are usually very difficult to attach to zebrafish facilities. Indeed, they can’t adapt to conventional lab aquatic facility racks because they are designed for pet aquariums. They also have less features compared to the ZAFs (difficult to adapt the food quantity, more food waste, cumbersome…). Additionally, by multiplying the number of devices (you need one small feeder per tank), one increases the risk of possible malfunction as well as the maintenance time required for food filling, cleaning etc… Thus, usage of small automatic feeders in laboratory aquatic housing racks is complex to adapt, a source of feeding error, is more cumbersome, and potentially more time consuming etc… They are simply not designed for professional aquaculture systems. Whereas ZAFs can be easily adapted to all the commercially available aquatic facilities. The fact that ZAFs simply ‘interface’ via tubes to fish facility racks makes them very versatile and unintrusive.</p><disp-quote content-type="editor-comment"><p>4. How do authors envisage implementing the ZAFs in much larger facilities (from 100 to 1000 tanks) ? Implementing a specific ZAF for each rack containing ~20 tanks may not be realistic.</p></disp-quote><p>Indeed, building multiple ZAFs will be complex and resource consuming. Thus, we designed ZAFs to be adaptable and modular, so one ZAF (or ZAF+) can easily be scaled to handle bigger facilities. The supplementary information and the wiki describe all the steps required to build a ZAF for 16 tanks and a ZAF+ for 30 tanks and many tips to scale up these devices without major modifications (up to 80 tanks for ZAF no restrictions for ZAF+). Of course, we do think that for truly large facilities, there is probably a sweet spot that balances the number of individual devices and the per-device capability. Having a single device feeding 1000 tanks is probably not wise, perhaps 5 devices for 200 tanks each (ZAF+) would be the best. Please note that the hardware cost and complexity scales roughly linearly with the number of tanks, no surprises here. Moreover, in the case of ZAF+ it is possible to use splitters to feed even more tanks from the same line (ZAF+).</p><p>We added pages in the ZAF/ZAF+ wiki, to help the users extend the feeding capacities of their desired ZAFs (see in the wiki “tips to scale up ZAF” – “tips to scale up ZAF+”). We also mentioned in the discussion the possibility of distributing food to more tanks with one device by increasing the outputs and referenced the wiki accordingly.</p><p>Having said this, we did not primarily design ZAFs for super large fish facilities, instead we designed the ZAF systems to facilitate adoption of fish models by many small and medium sized labs. We hope that our system will lower the bar for labs with moderate resources to get started with aquatic models, or labs that just want to ‘try’ a new aquatic model organism ‘on-the-side’.</p><disp-quote content-type="editor-comment"><p>5. How the length of the tubes influences the efficiency of feeding?</p></disp-quote><p>For ZAF the size of the tubes is very important because its design assumes homogeneous food distribution. In contrast, ZAF+ distributes the entire amount of water and food mix to each tank sequentially, so the tube length is not an issue. To make sure that tube length or tube layout is not affecting feeding efficiency we evaluated the weight of fish coming from tanks housed on two different rows (top and bottom). This was not clearly explained in the methods section – we changed the text to reflect that. Additionally, at the end of each ZAF+ run, the washing sequence runs a relatively large quantity of water to ensure that all food gets flushed out to the right tanks. We did not evaluate the precise amount of food delivered. However, after each feeding and cleaning all tubes are empty (see last sentences of the Box 2).</p><disp-quote content-type="editor-comment"><p>For feeding many tanks with the same ZAF it is necessary that the tubes will be of the same length. In that case, the system will become very cumbersome.</p></disp-quote><p>This is a fair concern. However, with a good design and with the help of cable tie it is very easy to organise the tubing and avoid ‘tube-hell’. We added a sentence to clarify the organisation in the wiki (see ZAF&gt;Hardware&gt;Tubing in wiki).</p><disp-quote content-type="editor-comment"><p>Longer tubes will probably need stronger pumps. What's the maximal length of tubes tested? That will limit the number of aquariums a ZAF can feed.</p></disp-quote><p>We never precisely measured that because the generic pumps we use are very powerful and their running time can be adjusted in the software by changing the constants in the code source (see troubleshooting new supplementary table). Therefore, the length of tubes should not be a limiting factor. Even stronger pumps (more amps) can be readily sourced on Amazon if really needed – although we doubt that this is necessary. Regarding the number of tanks that ZAF can feed, we simply recommend adding more pumps to increase its capacity (see previous comments or “tips to scale up ZAF” in the wiki).</p><disp-quote content-type="editor-comment"><p>Despite these comments, this is an excellent first approach, and the fact that the authors made it open-source and open access, make the ZAFs a very important contribution to the community. I have no doubt that some fish facilities will implement it and the community will help to improve it.</p></disp-quote><p>Thank you. We do think that the main benefit of an open source project is the community around it. We are currently collecting a growing list of interested labs and we are interested in organising an online workshop to discuss ZAF and ZAF+, with some talks, QAs, and more to help people getting started.</p><disp-quote content-type="editor-comment"><p>Reviewer #1 (Significance (Required)):</p><p>This is the first open-source open-access automatic feeding system ever published. It is the first but very important step to the automation of research fish facilities.</p><p>Referee Cross-commenting</p><p>I agree with all the other reviewers.</p><p>We also have to take into account that the system is a first prototype and although not ideal, it is open source. This will allow other labs to develop and improve their own models based on the ZAF.</p><p>Reviewer #2 (Evidence, reproducibility and clarity (Required)):</p><p>Summary</p><p>The manuscript proposes an open source automated feeder for zebrafish facilities, although it would be amenable to other species. Overall, the manuscript is clearly written and easy to understand, the wiki is well sourced and clear. The commitment to open source is commendable.</p><p>I have some questions regarding the long-term sustainability of this setup, as well as some discrepancies in the methods. Finally, as this aims to be useful to people with no engineering/electronics competence, I feel that it is not yet at a level that is accessible enough.</p></disp-quote><p>We are very pleased to see that the Reviewer appreciates our manuscript and our commitment to open access. We thank the Reviewer for his comments, in particular the comments about accessibility, and address them bellow:</p><disp-quote content-type="editor-comment"><p>Major comments</p><p>It would be useful to have a centralized list of parts and components, which would make it easier for users to order all that is needed to assemble the ZAF or ZAF+, at the moment the information is distributed through the wiki as hyperlinks.</p></disp-quote><p>Extremely important! This was clearly an oversight from our part. We agree that a table listing all the components would help for constructing ZAF and ZAF+. We have added two tables in the wiki, one for ZAF and another for ZAF+, with all the necessary parts and components required to build both devices, with articles number, supplier and cost in dollars. Thanks to the reviewer for this excellent suggestion.</p><disp-quote content-type="editor-comment"><p>A troubleshooting guide for the common problems the team ran into (if any) would be useful for newcomers, even just as issues on the GitHub. The team may also consider some form of chat/forum/google group to allow discussions between users and experts.</p></disp-quote><p>The reviewer raised an important point, so we added to the ZAF wiki a troubleshooting guide to help users by listing the minor malfunctions that we observed. Additionally, users will be able to ask questions or report bugs on the ZAF GitHub using issues. Github issues will allow discussion and to track ideas and feedback within the ZAF user community. Finally, we just created a Gitter room: https://gitter.im/ZAF-Zebrafish-Automatic-Feeder to enable more interactive discussion.</p><disp-quote content-type="editor-comment"><p>Did the author observe any algal or bacterial growth in the feeding tubes over the 60 days? Do they have an estimate on how long the tubes stay &quot;clean&quot; enough? The authors mention tube changing every 10 weeks, can they explain the rationale, and did they assess the bacterial/algal contamination over that time? Do the splitter panel and food mixing flask also need replacing regularly?</p></disp-quote><p>After several weeks of usage, we indeed observed algal and bacterial growth in the tubes. In order to report and justify the need to change the tubes, we made a new supplementary figure illustrating the tube cleanliness over time, mainly algal and bacterial (see Suppl. Figure 3). We realized that 12 weeks is actually the optimal tubing renewing period in our facility. Algal and bacterial growth depends on the facility environment characteristics such as light intensity, water and air temperature, as well as feeding frequency and therefore might be adapted to the user’s facility specs. The splitter tubing can be changed based on user observations; we now mention this in the ZAF tubing supplementary material and on the wiki.</p><disp-quote content-type="editor-comment"><p>The authors mention that the tubing needs to be of similar length to ensure similar resistance and food distribution, did they compare the body weight of fish in racks at the top or at the bottom of their system? There are no overall differences, but maybe the bottom racks would receive slightly more food? Furthermore, did they quantify the differences in food/water delivery as a function of length differences?</p></disp-quote><p>The requirement for similar length is only necessary for ZAF because its accessible design assumes homogeneous distribution of the water-food mix through a passive splitter system which is susceptible to variable fluid resistance. In contrast, ZAF+ distributes the waterfood mix one tank at a time – ensuring that the correct amount of food is entirely flushed through any required tube length (the pumps are strong enough and we flush enough water). In the eventuality that the tube length is too long the user can adjust the pump running time by changing constants in the code (see troubleshooting table in the wiki and corresponding links). We thank the reviewer for suggesting evaluating the fish weight on fish from two extremal heights. Although we did not explicitly report this in the first version of the manuscript, we had actually anticipated this potential issue and therefore we did collect data for ZAF and ZAF+ for tanks housed on the top and bottom rows. We added a clear description of the weighting process in the material and method, highlighting the housing condition of the tanks tested. Finally, after each feeding run the tubes have been fully flushed and are empty without food debris or pellets remaining, irrespective of their sizes. So, we did not find it relevant to evaluate the precise amount of food effectively delivered as we control that already upstream.</p><disp-quote content-type="editor-comment"><p>Methods fish weight: The methods mention different amounts of food than the wiki, the rationale in the wiki is also different from the 5% of body weight outlined in the methods (which then matches the food amount of the methods). Which is the correct amount?</p></disp-quote><p>We thank the reviewer for noticing the inconsistency. The method numbers are the correct one, so we changed the wiki, we made a mistake when editing the figures. We wrote some sections of the wiki early during the development of the hardware. We unfortunately forgot to correct the inconsistencies.</p><disp-quote content-type="editor-comment"><p>The code is decently commented for scientific software with clear variable names, but I wonder how flexible it is if users cannot get access to the specific hardware (especially the pumps) used in ZAF/ZAF+? Can the authors briefly comment on this point?</p></disp-quote><p>The pumps are just built from 12V motors, you can find a large variety of such pumps online (Amazon, etc.) we have ourselves tried several, but there is no need to have the exact same model. We added a note to the tubing section of the ZAF and ZAF+ about that. The only components that cannot be easily exchanged are the Arduino and Raspberry PI, but that is not an issue as these are very easily sourced components.</p><disp-quote content-type="editor-comment"><p>The wiki could use more pictures or, to borrow the Proust Madeleine allusion, schematics akin to LEGO with more intermediary steps clearly outlined. Some pictures are also a bit small/busy (such as 2D and 2E in the frame section, or the magnet pictures), they may benefit from cartoons/schematics to clarify what is done. Alternatively, videos/time-lapses may help with better visualizing the assembly.</p></disp-quote><p>We appreciate the reviewer comments and added new pictures, schematic and extra legends in the wiki to help potential ZAFs builders. In the wiki for ZAF hardware we increased the size of all the pictures for all the different steps and added new legends to clarify the assembly. There are also now more pictures illustrating the construction steps (i.e. in “frame”, “pumps and valve”) and we added a simple schematic for “servo and food container”. Picture sizes have been increased in “ZAF electronics” and added to the “Raspberry Pi and Servo Hat” section. We increased the picture sizes and added more legends to the ZAF+- Hardware “Pumps and Valve''. Moreover, we added more photos to the “tubing” section and the “ZAF+ Electronics” section. We agree that videos or gifs would have been great to visualize the assembly. Unfortunately, we did not record such videos during the construction. We created ZAF as an open source project and clearly hope to generate a community that will share assembly pro-tips and may be constructions videos on the GitHub.</p><p>Our institute is expanding on zebrafish research so we will build additional ZAFs and will use this opportunity to prepare nice videos to add to the wiki. We envision that the wiki will be improved over time with better material, some of it contributed, as well as perhaps newer and better versions of ZAF.</p><disp-quote content-type="editor-comment"><p>The main question that would affect if this approach were taken up would be how reliable it is in the long run. Have the authors experienced any issue over the 2 months test? Is this system still being used currently? If so, could the authors update the water quality logs?</p></disp-quote><p>The reviewer suggests that the key question is to see if using ZAFs all year long is possible. We can reply yes, it is actually possible! We have used ZAF for 9 months, and now ZAF+ for the past 10 months in our fish facility, with great success. We never experienced major malfunctions and the minor issues we encountered are reported in the troubleshooting table. Since ZAF and ZAF+ have been used daily for months with logs recorded every day we have updated the water logs quality to 3 months. We have been using the ZAFs in full autonomy for a total of 19 months, frankly invaluable.</p><disp-quote content-type="editor-comment"><p>Getting a sense of how long it can run without problems, how much troubleshooting is involved per month would be very useful in answering those questions.</p></disp-quote><p>Except manual cleaning and tube replacement, there is no other big maintenance on ZAF. Of course, the food reserve needs to be changed at least once per week. We listed the malfunctions in the troubleshooting guide in the wiki. In our facility ZAFs require an average of 1 hour of maintenance per month. And if any hardware part fails you can just immediately replace it because all the parts are cheap and easily replaceable. Actually, we recommend keeping spare parts of all the key components (pumps, valves, Arduino, Raspberry Pi, tubes,.…).</p><disp-quote content-type="editor-comment"><p>Minor comments</p><p>Main text page 3: Figure Supp. 2 instead of Supp. Figure 2. Furthermore, would the authors have similar data for the manual feeding? If so, it could be useful to add here for comparison (although that is not necessary if the data is unavailable).</p></disp-quote><p>We changed the text, but we don’t have data available for the water logs with manual feeding.</p><disp-quote content-type="editor-comment"><p>Main text page 3: it would be useful to add how long it takes to change all the tubing after 10 weeks?</p></disp-quote><p>This is really dependent on ZAF tubing and the fish facility, in our hand for about one hour. We mentioned it in the Results section, ZAF paragraph.</p><disp-quote content-type="editor-comment"><p>Methods fish weight: The phrasing as it stands make it unclear the same method was used for ZAF and ZAF+, the authors may consider starting with the description of the common weighting method, then the specifics of ZAF+.</p></disp-quote><p>Thank you, we changed the text accordingly.</p><disp-quote content-type="editor-comment"><p>Supp. Figure 1a: &quot;Waste water drain pipe&quot;</p></disp-quote><p>Thank you, we changed the text accordingly.</p><disp-quote content-type="editor-comment"><p>Acknowledgments: &quot;…for their help…&quot;</p></disp-quote><p>Thank you, we changed the text accordingly.</p><disp-quote content-type="editor-comment"><p>ZAF – Servo Hat connection: &quot;to control the pumps&quot;</p></disp-quote><p>Thank you, we changed the text accordingly.</p><disp-quote content-type="editor-comment"><p>ZAF – Installation: the dependencies should be listed as they are in ZAF+, or the two sections merged, unless the GUI is not functional (see below).</p></disp-quote><p>Thank you, we now list the dependencies in the wiki.</p><disp-quote content-type="editor-comment"><p>ZAF – How to use: there is no mention of the GUI, is it not yet implemented? If not, is the touch screen needed?</p></disp-quote><p>The standard ZAF hardware is controlled by a very simple python-based program that works with a command line interface. Therefore to interact with the Raspberry Pi for installation and configuration we strongly recommend building ZAF with a screen, and the touch screen is an easy way to be able to quickly point and click in the absence of a mouse – which can be cumbersome when no clean horizontal surfaces are available in a lab environment.</p><disp-quote content-type="editor-comment"><p>ZAF+ – soldering: &quot;A 12V power supply (at least 10A best 20A) provides power to the electronics, except the RaspberryPi and the two Arduino Megas.&quot; It seems the sentence is incomplete, or at least I cannot make sense of it.</p></disp-quote><p>Changed to “A 12V power supply (at least 10A, but ideally 20A) provides power to the electronics, except for the RaspberryPi and the two Arduino Megas that are powered by the Raspberry Pi 5V GPIOs.”</p><disp-quote content-type="editor-comment"><p>Reviewer #2 (Significance (Required)):</p><p>This manuscript provides a significant technical advance to the zebrafish field. The proposed automated feeder would be a very useful option for smaller labs, to ensure the consistency of feeding, and to remove one of the routine aspects of fish husbandry.</p><p>As the authors state, there is certainly interest in the zebrafish community [9,10] for automation of feeding. I am not aware of other DIY fully automated feeding system, commercial systems do exist, but are expensive.</p><p>The manuscript, and proposed automated feeder, would certainly be of interest within the zebrafish community, as well as other researchers using aquatic models that can rely on dry food. How many in the community would embrace this method will depend on how confident they are in the long-term stability.</p><p>I am neither electronics, nor husbandry expert. As such I am not qualified to comment on any long-term approach this may prove, if any, for fish health. My expertise lies in image and data analysis, as well as microscopy.</p><p>Referee Cross-commenting</p><p>I think the major points are shared by all reviewers, I think the other reviews are fair in their content and I have nothing specific to comment on.</p><p>Reviewer #3 (Evidence, reproducibility and clarity (Required)):</p><p>Summary</p><p>This technical report describes an open-source fully automated feeding system for husbandry of zebrafish (and potentially other aquatic organisms). It provides detailed instructions for assembling individual components into two different feeding systems of varying adaptability, as well as their operation. Links to relevant control software are also provided. The characterization of the systems' performance appears somewhat limited (e.g. only maintenance of adult fish over a period of 8 weeks and use of dry food is documented). These systems could be of use for husbandry in a large number of research labs, and, in addition, for automated reward delivery in large-scale associative conditioning assays.</p></disp-quote><p>We thank the Reviewer for his encouraging comments and appreciate his helpful suggestions. We answer to the Reviewer comments bellow:</p><disp-quote content-type="editor-comment"><p>Major comments</p><p>Providing food to large numbers of tanks in aquatic animal facilities in a regular fashion is a time- and resource-consuming process. Some automated feeding systems for large numbers of tanks are commercially available, but these feeder robots are expensive and are restricted to systems of specific vendors. Therefore, an adaptable automated system that can be assembled from off-the-shelf components is a very attractive option for many research labs to both save resources and standardize the feeding process.</p><p>The instructions for assembly provided by the authors appear quite detailed and sufficient to allow non-experts the assembly and operation of the automated feeder systems. The design of the system appears appropriate for the task.</p><p>While additional experiments are not required to support the claims of the article, I feel that it would be significantly improved by the provision of additional information. My suggestions in that regard include:</p><p>Description of the washing procedure of the system (which solvents, how often, how long?). The authors mention that an exchange of the tubing is required every 10 weeks, but since the tubing transports liquid food mixture, it is easily conceivable that microbial growth will occur rapidly in the system without thorough hygiene / washing procedures. Also, could the authors provide some information, which type of tubing material they are using (Silicone, Tygon etc.)?</p><p>Description of the washing procedure of the system (which solvents, how often, how long?).</p></disp-quote><p>We agree that the cleaning procedure must be clarified. Therefore, we added a more clear description of the process in the first paragraph of the discussion and clarified the explanation about cleaning in Box 1 and Box 2 (suggested also by the reviewer1). To summarize there are two levels of cleaning, the first one happens just after a food distribution program by flushing water and air in the system (Box1). Additionally, at least once a day, we run an entire program without food, to rinse/clean the system (Box2). This last step is programmable using ZAFs software.</p><disp-quote content-type="editor-comment"><p>The authors mention that an exchange of the tubing is required every 10 weeks, but since the tubing transports liquid food mixture, it is easily conceivable that microbial growth will occur rapidly in the system without thorough hygiene / washing procedures</p></disp-quote><p>Following all reviewers' comments, we added an extra supplementary figure justifying the need of changing the tubes every 12 weeks (updated based on our latest observations). We monitored the cleanliness (algal/microbial growth) of the tubes and realized that it becomes necessary to replace the tubes every 12 weeks (supp figure 3). Interestingly, we remarked that the microbial and algal growth depends on the facility specificities such as light intensity and temperature.</p><disp-quote content-type="editor-comment"><p>Also, could the authors provide some information, which type of tubing material they are using (Silicone, Tygon etc.)?</p></disp-quote><p>For ZAF we used silicone-based tubing then we changed to PVC based tubes for ZAF+ because they are cost effective and have similar specifications for our usage. We added a note about the tubing material in the wiki ZAF tubing and ZAF+ tubing.</p><disp-quote content-type="editor-comment"><p>In a related point, I was left wondering how long the food is being mixed in the mixing flask before being applied to the animals? Too long mixing might lead to a loss of nutrients into the solution (through diffusion).</p></disp-quote><p>Very relevant point, indeed it is very important for the food to not be mixed too long in water to avoid pellet dissolution in water and loss of nutrients. The food manufacturer website mentioned: “duration of “wet” feeding should be kept short”</p><p>(https://zebrafish.skrettingusa.com/pages/faq). Therefore, we adapted our feeding program to keep the “wet” feeding extremely short. For ZAF and ZAF+, the software is designed to deliver the mix of food and water to tank(s) within 3 minutes at most. To clarify this, we added in the Box describing the feeding, a sentence: “Overall, they share many common features, like the quick distribution of food and water mix, to avoid pellet dissolution in water and loss of nutrients.”</p><disp-quote content-type="editor-comment"><p>Do the food pellets remain more or less integral so that the majority of delivered food is actually ingested by the fish?</p></disp-quote><p>We manually evaluated the integrity of food pellets in the early phase of development, these parameters being difficult to quantify, we decided to record the fish weight as a readout of good food delivery and general effectiveness. However, we clearly understand the reviewer's remarks and therefore added to the manuscript a supplementary video that shows the distribution of the food pellets and their integrity once they reach the tanks.</p><disp-quote content-type="editor-comment"><p>In yet another related point, I was left wondering, whether the authors observed any negative impact of feeder usage on water quality (besides pH and conductivity, which they report)? Especially, with regards to ammonia that might arise from the decomposition of uneaten food items?</p></disp-quote><p>Ammonia toxicity is mentioned to induce clinical and microscopic changes that reduce growth and increase susceptibility to pathogens according to aquaculture textbooks as summarized here:</p><p>(https://zebrafish.org/wiki/health/disease_manual/water_quality_problems#ammonia_toxicity). However, we never experienced such abnormal phenotypes in our facility and our regular aquatic PCR health monitoring profiles have always been negative for pathogens. Additionally, high ammonia is influenced by husbandry conditions, such as important fish density or inappropriate water circulation, characteristics that are not present in our fish facility. Therefore, we did not find relevant to test for ammonia levels.</p><disp-quote content-type="editor-comment"><p>The authors only tested the feeder on adult fish but discuss that it would easily be transferable to a system that is used for raising fish fry. In that context, could the authors comment, on whether the system of using water as the carrier for the dry food (after mixing) would work as well for the smaller pellets required in feeding fish fry (e.g. 75 or 100 μm pellet size as compared to the 500 μm pellet size they use)? With smaller pellets, break-down of the dry food during the mixing process seems to be an even larger problem, I could imagine.</p></disp-quote><p>We appreciate the reviewer's comment about using different food pellets sizes, a very important point for ZAFs adoption beyond adult fish. During ZAFs testing we actually tested different food sizes (from 100uM pellets to 500uM) and did not observe differences in pellet distribution. Most of the industrial aquatic food pellets are oily and designed for automatic distribution (for large farming environments). Therefore, they keep their integrity and are not easily broken. Besides, during food distribution, as mentioned previously, the duration of wet food (water and food mix) is relatively short, which helps maintain pellet integrity.</p><disp-quote content-type="editor-comment"><p>Minor comments</p><p>1. The average weight of animals is given as lying in the range of 5 to 6g. That seems very high. The &quot;standard&quot; weight range of adult zebrafish is more around 1g [see, for example: Clark, T. S., Pandolfo, L. M., Marshall, C. M., Mitra, A. K. and Schech, J. M. Body Condition Scoring for Adult Zebrafish (<italic>Danio rerio</italic>). j am assoc lab anim sci (2018)]. Could the authors comment on that discrepancy?</p></disp-quote><p>Good observation by the reviewer. We did make a mistake during figure preparation and our legends were actually not reflecting the exact weight of the fish. The scale bars of the figures have been changed to reflect the real weight of the fish (below 1g). We thank the reviewer for noticing the mistakes.</p><disp-quote content-type="editor-comment"><p>2. The authors state that spawning success is not negatively affected by the automated feeding, and they quantify the number of successful crosses. Could the authors briefly confirm or state, that or whether the clutch size was also unaffected?</p></disp-quote><p>We never precisely quantified the clutch size nor quality, but we are now using ZAFs for the feeding of our facility for 19months and never observed any problem with our clutch. Our lab is working on early development and crucially relies on clutch quality.</p><disp-quote content-type="editor-comment"><p>3. The manual feeding procedure / regime that is used to compare husbandry success against the automated feeding regime is not described in any detail. That seems important given the topic of the article.</p></disp-quote><p>We agreed and added a brief description of the protocol in the Methods section (“Animal and husbandry”).</p><disp-quote content-type="editor-comment"><p>4. The authors cite two recent papers that describe semi-automatic feeding systems for zebrafish in the introduction. The authors might want to consider discussing some key differences between their system and these semi-automatic systems in the discussion.</p></disp-quote><p>The two published semi-automatic feeding systems are completely different from the devices presented in our paper. They are also open access, but they are devices that need to be manually operated by facility staff. In contrast, our solutions are fully automatic and do not require the human hand during operation. We mention these two solutions during our brief literature overview in the introduction. However, since these are in a different category, we did not judge it necessary to comment on them in the discussion.</p><disp-quote content-type="editor-comment"><p>5. What do the error bars in Figure 1c signify (s.d., s.e.m.)? Please state in Figure legend.</p></disp-quote><p>We thank the reviewer for their attention to details and explain in the figure that we mean standard error of the mean by s.e.m.</p><disp-quote content-type="editor-comment"><p>6. I do think that the system could be of particular interest to researchers that study learning and that use food rewards in automated associative conditioning experiments. While this might be obvious to researchers with such an interest, this aspect is not at all discussed in the paper. Mentioning it might further underscore the versatility of the feeder system.</p></disp-quote><p>We agree with the reviewer that ZAF can be adapted to experimental conditions such as behavioral conditioning, nutrition and drug delivery. Any experiment requiring the automatic delivery of solid pellets or liquid can benefit from ZAF. We revised our text and mentioned it in the discussion.</p><disp-quote content-type="editor-comment"><p>7. A list of all required equipment with vendors and price estimates (e.g. in the Supplement) would make this paper an even more readily accessible resource.</p></disp-quote><p>This is a very important point already suggested by another reviewer. We added two extra tables in the wiki with the necessary parts and components, listing models, references, and prices.</p><disp-quote content-type="editor-comment"><p>Reviewer #3 (Significance (Required)):</p><p>Describe the nature and significance of the advance (e.g. conceptual, technical, clinical) for the field.</p><p>This article signifies a purely technical advance in that it provides a characterization of an opensource, scalable automated feeder for aquatic facilities. As such, it presents a significant advance in the field of aquatic animal husbandry. In addition, this system could also be useful for automated large- or medium-scale associative conditioning paradigms, in which food rewards are given as positive reinforcers.</p><p>Place the work in the context of the existing literature (provide references, where appropriate). The authors refer to previously published semi-automatic feeder systems. Regardless of the advantages or disadvantages of all these systems, the field will benefit from a broad(er) choice of automatic feeding systems that are described in sufficient detail to be easily assembled in the laboratory.</p><p>State what audience might be interested in and influenced by the reported findings. This study is of interest for any research laboratory working with zebrafish or other aquatic model organisms. Thus, the audience for this article is very broad. Specific interest might also arise in researchers that are performing learning studies in zebrafish (see above).</p><p>Define your field of expertise with a few keywords to help the authors contextualize your point of view. Indicate if there are any parts of the paper that you do not have sufficient expertise to evaluate.</p><p>Zebrafish, neural circuits, sensory systems.</p><p>Referee Cross-commenting</p><p>Many of the major points are shared by all three reviewers. Beyond these shared points, I agree.</p></disp-quote></body></sub-article></article>